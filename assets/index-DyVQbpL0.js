(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function pA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bp={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function mA(){if(O_)return Fl;O_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=t,Fl.jsxs=t,Fl}var N_;function gA(){return N_||(N_=1,bp.exports=mA()),bp.exports}var Re=gA(),Sp={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function yA(){if(M_)return De;M_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function V(P,ee,ue){this.props=P,this.context=ee,this.refs=z,this.updater=ue||C}V.prototype.isReactComponent={},V.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},V.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=V.prototype;function Q(P,ee,ue){this.props=P,this.context=ee,this.refs=z,this.updater=ue||C}var $=Q.prototype=new F;$.constructor=Q,x($,V.prototype),$.isPureReactComponent=!0;var ne=Array.isArray,ie={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function M(P,ee,ue,ae,le,Se){return ue=Se.ref,{$$typeof:i,type:P,key:ee,ref:ue!==void 0?ue:null,props:Se}}function R(P,ee){return M(P.type,ee,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function D(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ee[ue]})}var k=/\/+/g;function B(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):ee.toString(36)}function N(){}function Qe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function et(P,ee,ue,ae,le){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var ve=!1;if(P===null)ve=!0;else switch(Se){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(P.$$typeof){case i:case e:ve=!0;break;case E:return ve=P._init,et(ve(P._payload),ee,ue,ae,le)}}if(ve)return le=le(P),ve=ae===""?"."+B(P,0):ae,ne(le)?(ue="",ve!=null&&(ue=ve.replace(k,"$&/")+"/"),et(le,ee,ue,"",function(qe){return qe})):le!=null&&(A(le)&&(le=R(le,ue+(le.key==null||P&&P.key===le.key?"":(""+le.key).replace(k,"$&/")+"/")+ve)),ee.push(le)),1;ve=0;var rt=ae===""?".":ae+":";if(ne(P))for(var Ie=0;Ie<P.length;Ie++)ae=P[Ie],Se=rt+B(ae,Ie),ve+=et(ae,ee,ue,Se,le);else if(Ie=w(P),typeof Ie=="function")for(P=Ie.call(P),Ie=0;!(ae=P.next()).done;)ae=ae.value,Se=rt+B(ae,Ie++),ve+=et(ae,ee,ue,Se,le);else if(Se==="object"){if(typeof P.then=="function")return et(Qe(P),ee,ue,ae,le);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ve}function se(P,ee,ue){if(P==null)return P;var ae=[],le=0;return et(P,ae,"","",function(Se){return ee.call(ue,Se,le++)}),ae}function fe(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var de=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Oe(){}return De.Children={map:se,forEach:function(P,ee,ue){se(P,function(){ee.apply(this,arguments)},ue)},count:function(P){var ee=0;return se(P,function(){ee++}),ee},toArray:function(P){return se(P,function(ee){return ee})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},De.Component=V,De.Fragment=t,De.Profiler=o,De.PureComponent=Q,De.StrictMode=s,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(P){return function(){return P.apply(null,arguments)}},De.cloneElement=function(P,ee,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ae=x({},P.props),le=P.key,Se=void 0;if(ee!=null)for(ve in ee.ref!==void 0&&(Se=void 0),ee.key!==void 0&&(le=""+ee.key),ee)!oe.call(ee,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ee.ref===void 0||(ae[ve]=ee[ve]);var ve=arguments.length-2;if(ve===1)ae.children=ue;else if(1<ve){for(var rt=Array(ve),Ie=0;Ie<ve;Ie++)rt[Ie]=arguments[Ie+2];ae.children=rt}return M(P.type,le,void 0,void 0,Se,ae)},De.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},De.createElement=function(P,ee,ue){var ae,le={},Se=null;if(ee!=null)for(ae in ee.key!==void 0&&(Se=""+ee.key),ee)oe.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=ee[ae]);var ve=arguments.length-2;if(ve===1)le.children=ue;else if(1<ve){for(var rt=Array(ve),Ie=0;Ie<ve;Ie++)rt[Ie]=arguments[Ie+2];le.children=rt}if(P&&P.defaultProps)for(ae in ve=P.defaultProps,ve)le[ae]===void 0&&(le[ae]=ve[ae]);return M(P,Se,void 0,void 0,null,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(P){return{$$typeof:d,render:P}},De.isValidElement=A,De.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:fe}},De.memo=function(P,ee){return{$$typeof:g,type:P,compare:ee===void 0?null:ee}},De.startTransition=function(P){var ee=ie.T,ue={};ie.T=ue;try{var ae=P(),le=ie.S;le!==null&&le(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Oe,de)}catch(Se){de(Se)}finally{ie.T=ee}},De.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},De.use=function(P){return ie.H.use(P)},De.useActionState=function(P,ee,ue){return ie.H.useActionState(P,ee,ue)},De.useCallback=function(P,ee){return ie.H.useCallback(P,ee)},De.useContext=function(P){return ie.H.useContext(P)},De.useDebugValue=function(){},De.useDeferredValue=function(P,ee){return ie.H.useDeferredValue(P,ee)},De.useEffect=function(P,ee){return ie.H.useEffect(P,ee)},De.useId=function(){return ie.H.useId()},De.useImperativeHandle=function(P,ee,ue){return ie.H.useImperativeHandle(P,ee,ue)},De.useInsertionEffect=function(P,ee){return ie.H.useInsertionEffect(P,ee)},De.useLayoutEffect=function(P,ee){return ie.H.useLayoutEffect(P,ee)},De.useMemo=function(P,ee){return ie.H.useMemo(P,ee)},De.useOptimistic=function(P,ee){return ie.H.useOptimistic(P,ee)},De.useReducer=function(P,ee,ue){return ie.H.useReducer(P,ee,ue)},De.useRef=function(P){return ie.H.useRef(P)},De.useState=function(P){return ie.H.useState(P)},De.useSyncExternalStore=function(P,ee,ue){return ie.H.useSyncExternalStore(P,ee,ue)},De.useTransition=function(){return ie.H.useTransition()},De.version="19.0.0",De}var x_;function wm(){return x_||(x_=1,Sp.exports=yA()),Sp.exports}var O=wm();const Dn=pA(O);var wp={exports:{}},Gl={},Ap={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function vA(){return k_||(k_=1,function(i){function e(se,fe){var de=se.length;se.push(fe);e:for(;0<de;){var Oe=de-1>>>1,P=se[Oe];if(0<o(P,fe))se[Oe]=fe,se[de]=P,de=Oe;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var fe=se[0],de=se.pop();if(de!==fe){se[0]=de;e:for(var Oe=0,P=se.length,ee=P>>>1;Oe<ee;){var ue=2*(Oe+1)-1,ae=se[ue],le=ue+1,Se=se[le];if(0>o(ae,de))le<P&&0>o(Se,ae)?(se[Oe]=Se,se[le]=de,Oe=le):(se[Oe]=ae,se[ue]=de,Oe=ue);else if(le<P&&0>o(Se,de))se[Oe]=Se,se[le]=de,Oe=le;else break e}}return fe}function o(se,fe){var de=se.sortIndex-fe.sortIndex;return de!==0?de:se.id-fe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var m=[],g=[],E=1,T=null,w=3,C=!1,x=!1,z=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function $(se){for(var fe=t(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=se)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(g)}}function ne(se){if(z=!1,$(se),!x)if(t(m)!==null)x=!0,Qe();else{var fe=t(g);fe!==null&&et(ne,fe.startTime-se)}}var ie=!1,oe=-1,M=5,R=-1;function A(){return!(i.unstable_now()-R<M)}function D(){if(ie){var se=i.unstable_now();R=se;var fe=!0;try{e:{x=!1,z&&(z=!1,F(oe),oe=-1),C=!0;var de=w;try{t:{for($(se),T=t(m);T!==null&&!(T.expirationTime>se&&A());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,w=T.priorityLevel;var P=Oe(T.expirationTime<=se);if(se=i.unstable_now(),typeof P=="function"){T.callback=P,$(se),fe=!0;break t}T===t(m)&&s(m),$(se)}else s(m);T=t(m)}if(T!==null)fe=!0;else{var ee=t(g);ee!==null&&et(ne,ee.startTime-se),fe=!1}}break e}finally{T=null,w=de,C=!1}fe=void 0}}finally{fe?k():ie=!1}}}var k;if(typeof Q=="function")k=function(){Q(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=D,k=function(){N.postMessage(null)}}else k=function(){V(D,0)};function Qe(){ie||(ie=!0,k())}function et(se,fe){oe=V(function(){se(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){x||C||(x=!0,Qe())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(m)},i.unstable_next=function(se){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var de=w;w=fe;try{return se()}finally{w=de}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var de=w;w=se;try{return fe()}finally{w=de}},i.unstable_scheduleCallback=function(se,fe,de){var Oe=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,se){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=de+P,se={id:E++,callback:fe,priorityLevel:se,startTime:de,expirationTime:P,sortIndex:-1},de>Oe?(se.sortIndex=de,e(g,se),t(m)===null&&se===t(g)&&(z?(F(oe),oe=-1):z=!0,et(ne,de-Oe))):(se.sortIndex=P,e(m,se),x||C||(x=!0,Qe())),se},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(se){var fe=w;return function(){var de=w;w=fe;try{return se.apply(this,arguments)}finally{w=de}}}}(Rp)),Rp}var V_;function _A(){return V_||(V_=1,Ap.exports=vA()),Ap.exports}var Cp={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function EA(){if(P_)return mn;P_=1;var i=wm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,E)},mn.flushSync=function(m){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=g,s.p=E,s.d.f()}},mn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},mn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):E==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},mn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(m,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},mn.requestFormReset=function(m){s.d.r(m)},mn.unstable_batchedUpdates=function(m,g){return m(g)},mn.useFormState=function(m,g,E){return h.H.useFormState(m,g,E)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.0.0",mn}var L_;function VT(){if(L_)return Cp.exports;L_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cp.exports=EA(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function TA(){if(U_)return Gl;U_=1;var i=_A(),e=wm(),t=VT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ne=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case Q:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,k,B;function N(n){if(k===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+n+B}var Qe=!1;function et(n,r){if(!n||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var G=Y}Reflect.construct(n,[],J)}else{try{J.call()}catch(Y){G=Y}n.call(J.prototype)}}else{try{throw Error()}catch(Y){G=Y}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],b=p[1];if(_&&b){var I=_.split(`
`),U=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===U.length)for(l=I.length-1,f=U.length-1;1<=l&&0<=f&&I[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==U[f]){var X=`
`+I[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=et(n.type,!1),n;case 11:return n=et(n.type.render,!1),n;case 1:return n=et(n.type,!0),n;default:return""}}function fe(n){try{var r="";do r+=se(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Oe(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function P(n){if(de(n)!==n)throw Error(s(188))}function ee(n){var r=n.alternate;if(!r){if(r=de(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return P(f),n;if(p===l)return P(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=p;break}if(b===l){_=!0,l=f,a=p;break}b=b.sibling}if(!_){for(b=p.child;b;){if(b===a){_=!0,a=p,l=f;break}if(b===l){_=!0,l=p,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ue(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ue(n),r!==null)return r;n=n.sibling}return null}var ae=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},ve=[],rt=-1;function Ie(n){return{current:n}}function qe(n){0>rt||(n.current=ve[rt],ve[rt]=null,rt--)}function me(n,r){rt++,ve[rt]=n.current,n.current=r}var _t=Ie(null),St=Ie(null),It=Ie(null),jt=Ie(null);function Tn(n,r){switch(me(It,r),me(St,n),me(_t,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?s_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=s_(n),r=a_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}qe(_t),me(_t,r)}function cn(){qe(_t),qe(St),qe(It)}function Pr(n){n.memoizedState!==null&&me(jt,n);var r=_t.current,a=a_(r,n.type);r!==a&&(me(St,n),me(_t,a))}function Zi(n){St.current===n&&(qe(_t),qe(St)),jt.current===n&&(qe(jt),zl._currentValue=Se)}var _i=Object.prototype.hasOwnProperty,hn=i.unstable_scheduleCallback,ci=i.unstable_cancelCallback,Lr=i.unstable_shouldYield,Ur=i.unstable_requestPaint,Zt=i.unstable_now,Ca=i.unstable_getCurrentPriorityLevel,Et=i.unstable_ImmediatePriority,st=i.unstable_UserBlockingPriority,fn=i.unstable_NormalPriority,Ei=i.unstable_LowPriority,zr=i.unstable_IdlePriority,Gn=i.log,Ti=i.unstable_setDisableYieldValue,bi=null,qt=null;function Ji(n){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(bi,n,void 0,(n.current.flags&128)===128)}catch{}}function Mn(n){if(typeof Gn=="function"&&Ti(n),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(bi,n)}catch{}}var Jt=Math.clz32?Math.clz32:Da,Br=Math.log,Ia=Math.LN2;function Da(n){return n>>>=0,n===0?32:31-(Br(n)/Ia|0)|0}var Kn=128,at=4194304;function ot(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function tt(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,p=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=ot(a):(p&=b,p!==0?l=ot(p):n||(_=b&~_,_!==0&&(l=ot(_))))):(b=a&~f,b!==0?l=ot(b):p!==0?l=ot(p):n||(_=a&~_,_!==0&&(l=ot(_)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:l}function en(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Dt(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ot(){var n=Kn;return Kn<<=1,(Kn&4194176)===0&&(Kn=128),n}function Nt(){var n=at;return at<<=1,(at&62914560)===0&&(at=4194304),n}function xn(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ne(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function kn(n,r,a,l,f,p){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,U=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Jt(a),J=1<<X;b[X]=0,I[X]=-1;var G=U[X];if(G!==null)for(U[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&Mt(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~r))}function Mt(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Jt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Ft(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Jt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Si(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function wi(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:w_(n.type))}function tn(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var dn=Math.random().toString(36).slice(2),pt="__reactFiber$"+dn,xt="__reactProps$"+dn,er="__reactContainer$"+dn,Us="__reactEvents$"+dn,Oa="__reactListeners$"+dn,Ai="__reactHandles$"+dn,Go="__reactResources$"+dn,Hr="__reactMarker$"+dn;function zs(n){delete n[pt],delete n[xt],delete n[Us],delete n[Oa],delete n[Ai]}function hi(n){var r=n[pt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[er]||a[pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=u_(n);n!==null;){if(a=n[pt])return a;n=u_(n)}return r}n=a,a=n.parentNode}return null}function tr(n){if(n=n[pt]||n[er]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function jr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function qr(n){var r=n[Go];return r||(r=n[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[Hr]=!0}var Ko=new Set,Na={};function Vn(n,r){Rn(n,r),Rn(n+"Capture",r)}function Rn(n,r){for(Na[n]=r,n=0;n<r.length;n++)Ko.add(r[n])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Qo={};function Uu(n){return _i.call(Qo,n)?!0:_i.call($o,n)?!1:Rf.test(n)?Qo[n]=!0:($o[n]=!0,!1)}function Fr(n,r,a){if(Uu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Gr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function $n(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(n){var r=zu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Bs(n){n._valueTracker||(n._valueTracker=Cf(n))}function Yo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=zu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ma(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nr=/[\n"\\]/g;function mt(n){return n.replace(nr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Kr(n,r,a,l,f,p,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+bn(r)):n.value!==""+bn(r)&&(n.value=""+bn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?xa(n,_,bn(r)):a!=null?xa(n,_,bn(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+bn(b):n.removeAttribute("name")}function Hs(n,r,a,l,f,p,_,b){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;a=a!=null?""+bn(a):"",r=r!=null?""+bn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function xa(n,r,a){r==="number"&&Ma(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fe(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+bn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function js(n,r,a){if(r!=null&&(r=""+bn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+bn(a):""}function $r(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=bn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Qn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||If.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Bu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Xo(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Xo(n,p,r[p])}function Wo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(n){return Of.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Yn=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ir=null,rr=null;function sr(n){var r=tr(n);if(r&&(n=r.stateNode)){var a=n[xt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Kr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[xt]||null;if(!f)throw Error(s(90));Kr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Yo(l)}break e;case"textarea":js(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(n,!!a.multiple,r,!1)}}}var Zo=!1;function Hu(n,r,a){if(Zo)return n(r,a);Zo=!0;try{var l=n(r);return l}finally{if(Zo=!1,(ir!==null||rr!==null)&&(Mc(),ir&&(r=ir,n=rr,rr=ir=null,sr(r),n)))for(r=0;r<n.length;r++)sr(n[r])}}function qs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!1;if(Pn)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Xn=!1}var Ci=null,Qr=null,ar=null;function Jo(){if(ar)return ar;var n,r=Qr,a=r.length,l,f="value"in Ci?Ci.value:Ci.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[p-l];l++);return ar=f.slice(n,1<l?1-l:void 0)}function Ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Di(){return!0}function el(){return!1}function Gt(n){function r(a,l,f,p,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(p):p[b]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Di:el,this.isPropagationStopped=el,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Gt(Ye),Gs=D({},Ye,{view:0,detail:0}),ju=Gt(Gs),Pa,La,Oi,Ks=D({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ys,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Oi&&(Oi&&n.type==="mousemove"?(Pa=n.screenX-Oi.screenX,La=n.screenY-Oi.screenY):La=Pa=0,Oi=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:La}}),Wn=Gt(Ks),qu=D({},Ks,{dataTransfer:0}),Nf=Gt(qu),$s=D({},Gs,{relatedTarget:0}),Ua=Gt($s),tl=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Gt(tl),Fu=D({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Gt(Fu),Mf=D({},Ye,{data:0}),nl=Gt(Mf),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ku[n])?!!r[n]:!1}function Ys(){return il}var $u=D({},Gs,{key:function(n){if(n.key){var r=Qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ys,charCode:function(n){return n.type==="keypress"?Ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Gt($u),Qu=D({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Gt(Qu),or=D({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ys}),Yu=Gt(or),Xu=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Gt(Xu),Zu=D({},Ks,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Gt(Zu),Sn=D({},Ye,{newState:0,oldState:0}),Ju=Gt(Sn),ec=[9,13,27,32],Ni=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var y=Pn&&"TextEvent"in window&&!c,v=Pn&&(!Ni||c&&8<c&&11>=c),S=" ",j=!1;function K(n,r){switch(n){case"keyup":return ec.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function kt(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return n=r.data,n===S&&j?null:n;default:return null}}function Be(n,r){if(ze)return n==="compositionend"||!Ni&&K(n,r)?(n=Jo(),ar=Qr=Ci=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Kt[n.type]:r==="textarea"}function lr(n,r,a,l){ir?rr?rr.push(l):rr=[l]:ir=l,r=Lc(r,"onChange"),0<r.length&&(a=new Va("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var nn=null,Mi=null;function sl(n){e_(n,0)}function tc(n){var r=jr(n);if(Yo(r))return n}function Dg(n,r){if(n==="change")return r}var Og=!1;if(Pn){var xf;if(Pn){var kf="oninput"in document;if(!kf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),kf=typeof Ng.oninput=="function"}xf=kf}else xf=!1;Og=xf&&(!document.documentMode||9<document.documentMode)}function Mg(){nn&&(nn.detachEvent("onpropertychange",xg),Mi=nn=null)}function xg(n){if(n.propertyName==="value"&&tc(Mi)){var r=[];lr(r,Mi,n,ka(n)),Hu(sl,r)}}function FS(n,r,a){n==="focusin"?(Mg(),nn=r,Mi=a,nn.attachEvent("onpropertychange",xg)):n==="focusout"&&Mg()}function GS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(Mi)}function KS(n,r){if(n==="click")return tc(r)}function $S(n,r){if(n==="input"||n==="change")return tc(r)}function QS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ln=typeof Object.is=="function"?Object.is:QS;function al(n,r){if(Ln(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_i.call(r,f)||!Ln(n[f],r[f]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vg(n,r){var a=kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Pg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ma(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ma(n.document)}return r}function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function YS(n,r){var a=Lg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Pg(r.ownerDocument.documentElement,r)){if(l!==null&&Vf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,p=Math.min(l.start,f);l=l.end===void 0?p:Math.min(l.end,f),!a.extend&&p>l&&(f=l,l=p,p=f),f=Vg(r,p);var _=Vg(r,l);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),p>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XS=Pn&&"documentMode"in document&&11>=document.documentMode,qa=null,Pf=null,ol=null,Lf=!1;function Ug(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||qa==null||qa!==Ma(l)||(l=qa,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Lc(Pf,"onSelect"),0<l.length&&(r=new Va("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=qa)))}function Xs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Fa={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Uf={},zg={};Pn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ws(n){if(Uf[n])return Uf[n];if(!Fa[n])return n;var r=Fa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in zg)return Uf[n]=r[a];return n}var Bg=Ws("animationend"),Hg=Ws("animationiteration"),jg=Ws("animationstart"),WS=Ws("transitionrun"),ZS=Ws("transitionstart"),JS=Ws("transitioncancel"),qg=Ws("transitionend"),Fg=new Map,Gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fi(n,r){Fg.set(n,r),Vn(r,[n])}var Zn=[],Ga=0,zf=0;function nc(){for(var n=Ga,r=zf=Ga=0;r<n;){var a=Zn[r];Zn[r++]=null;var l=Zn[r];Zn[r++]=null;var f=Zn[r];Zn[r++]=null;var p=Zn[r];if(Zn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}p!==0&&Kg(a,f,p)}}function ic(n,r,a,l){Zn[Ga++]=n,Zn[Ga++]=r,Zn[Ga++]=a,Zn[Ga++]=l,zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Bf(n,r,a,l){return ic(n,r,a,l),rc(n)}function Yr(n,r){return ic(n,null,null,r),rc(n)}function Kg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&r!==null&&n.tag===3&&(p=n.stateNode,f=31-Jt(a),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[r]:n.push(r),r.lane=a|536870912)}function rc(n){if(50<Ml)throw Ml=0,Kd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ka={},$g=new WeakMap;function Jn(n,r){if(typeof n=="object"&&n!==null){var a=$g.get(n);return a!==void 0?a:(r={value:n,source:r,stack:fe(r)},$g.set(n,r),r)}return{value:n,source:r,stack:fe(r)}}var $a=[],Qa=0,sc=null,ac=0,ei=[],ti=0,Zs=null,ur=1,cr="";function Js(n,r){$a[Qa++]=ac,$a[Qa++]=sc,sc=n,ac=r}function Qg(n,r,a){ei[ti++]=ur,ei[ti++]=cr,ei[ti++]=Zs,Zs=n;var l=ur;n=cr;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var p=32-Jt(r)+f;if(30<p){var _=f-f%5;p=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ur=1<<32-Jt(r)+f|a<<f|l,cr=p+n}else ur=1<<p|a<<f|l,cr=n}function Hf(n){n.return!==null&&(Js(n,1),Qg(n,1,0))}function jf(n){for(;n===sc;)sc=$a[--Qa],$a[Qa]=null,ac=$a[--Qa],$a[Qa]=null;for(;n===Zs;)Zs=ei[--ti],ei[ti]=null,cr=ei[--ti],ei[ti]=null,ur=ei[--ti],ei[ti]=null}var wn=null,rn=null,Ge=!1,di=null,xi=!1,qf=Error(s(519));function ea(n){var r=Error(s(418,""));throw cl(Jn(r,n)),qf}function Yg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[pt]=n,r[xt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<kl.length;a++)Le(kl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),Hs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Bs(r);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),$r(r,l.value,l.defaultValue,l.children),Bs(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||r_(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Uc),r=!0):r=!1,r||ea(n)}function Xg(n){for(wn=n.return;wn;)switch(wn.tag){case 3:case 27:xi=!0;return;case 5:case 13:xi=!1;return;default:wn=wn.return}}function ll(n){if(n!==wn)return!1;if(!Ge)return Xg(n),Ge=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||up(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&rn&&ea(n),Xg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){rn=mi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}rn=null}}else rn=wn?mi(n.stateNode.nextSibling):null;return!0}function ul(){rn=wn=null,Ge=!1}function cl(n){di===null?di=[n]:di.push(n)}var hl=Error(s(460)),Wg=Error(s(474)),Ff={then:function(){}};function Zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oc(){}function Jg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(oc,oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===hl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(oc,oc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===hl?Error(s(483)):n}throw fl=r,hl}}var fl=null;function ey(){if(fl===null)throw Error(s(459));var n=fl;return fl=null,n}var Ya=null,dl=0;function lc(n){var r=dl;return dl+=1,Ya===null&&(Ya=[]),Jg(Ya,n,r)}function pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function uc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ty(n){var r=n._init;return r(n._payload)}function ny(n){function r(H,L){if(n){var q=H.deletions;q===null?(H.deletions=[L],H.flags|=16):q.push(L)}}function a(H,L){if(!n)return null;for(;L!==null;)r(H,L),L=L.sibling;return null}function l(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function f(H,L){return H=os(H,L),H.index=0,H.sibling=null,H}function p(H,L,q){return H.index=q,n?(q=H.alternate,q!==null?(q=q.index,q<L?(H.flags|=33554434,L):q):(H.flags|=33554434,L)):(H.flags|=1048576,L)}function _(H){return n&&H.alternate===null&&(H.flags|=33554434),H}function b(H,L,q,W){return L===null||L.tag!==6?(L=Ud(q,H.mode,W),L.return=H,L):(L=f(L,q),L.return=H,L)}function I(H,L,q,W){var he=q.type;return he===m?X(H,L,q.props.children,W,q.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Q&&ty(he)===L.type)?(L=f(L,q.props),pl(L,q),L.return=H,L):(L=Cc(q.type,q.key,q.props,null,H.mode,W),pl(L,q),L.return=H,L)}function U(H,L,q,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=zd(q,H.mode,W),L.return=H,L):(L=f(L,q.children||[]),L.return=H,L)}function X(H,L,q,W,he){return L===null||L.tag!==7?(L=ca(q,H.mode,W,he),L.return=H,L):(L=f(L,q),L.return=H,L)}function J(H,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ud(""+L,H.mode,q),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return q=Cc(L.type,L.key,L.props,null,H.mode,q),pl(q,L),q.return=H,q;case d:return L=zd(L,H.mode,q),L.return=H,L;case Q:var W=L._init;return L=W(L._payload),J(H,L,q)}if(ae(L)||oe(L))return L=ca(L,H.mode,q,null),L.return=H,L;if(typeof L.then=="function")return J(H,lc(L),q);if(L.$$typeof===C)return J(H,wc(H,L),q);uc(H,L)}return null}function G(H,L,q,W){var he=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:b(H,L,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===he?I(H,L,q,W):null;case d:return q.key===he?U(H,L,q,W):null;case Q:return he=q._init,q=he(q._payload),G(H,L,q,W)}if(ae(q)||oe(q))return he!==null?null:X(H,L,q,W,null);if(typeof q.then=="function")return G(H,L,lc(q),W);if(q.$$typeof===C)return G(H,L,wc(H,q),W);uc(H,q)}return null}function Y(H,L,q,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return H=H.get(q)||null,b(L,H,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return H=H.get(W.key===null?q:W.key)||null,I(L,H,W,he);case d:return H=H.get(W.key===null?q:W.key)||null,U(L,H,W,he);case Q:var xe=W._init;return W=xe(W._payload),Y(H,L,q,W,he)}if(ae(W)||oe(W))return H=H.get(q)||null,X(L,H,W,he,null);if(typeof W.then=="function")return Y(H,L,q,lc(W),he);if(W.$$typeof===C)return Y(H,L,q,wc(L,W),he);uc(L,W)}return null}function pe(H,L,q,W){for(var he=null,xe=null,ge=L,Ee=L=0,Yt=null;ge!==null&&Ee<q.length;Ee++){ge.index>Ee?(Yt=ge,ge=null):Yt=ge.sibling;var Ke=G(H,ge,q[Ee],W);if(Ke===null){ge===null&&(ge=Yt);break}n&&ge&&Ke.alternate===null&&r(H,ge),L=p(Ke,L,Ee),xe===null?he=Ke:xe.sibling=Ke,xe=Ke,ge=Yt}if(Ee===q.length)return a(H,ge),Ge&&Js(H,Ee),he;if(ge===null){for(;Ee<q.length;Ee++)ge=J(H,q[Ee],W),ge!==null&&(L=p(ge,L,Ee),xe===null?he=ge:xe.sibling=ge,xe=ge);return Ge&&Js(H,Ee),he}for(ge=l(ge);Ee<q.length;Ee++)Yt=Y(ge,H,Ee,q[Ee],W),Yt!==null&&(n&&Yt.alternate!==null&&ge.delete(Yt.key===null?Ee:Yt.key),L=p(Yt,L,Ee),xe===null?he=Yt:xe.sibling=Yt,xe=Yt);return n&&ge.forEach(function(ps){return r(H,ps)}),Ge&&Js(H,Ee),he}function Ae(H,L,q,W){if(q==null)throw Error(s(151));for(var he=null,xe=null,ge=L,Ee=L=0,Yt=null,Ke=q.next();ge!==null&&!Ke.done;Ee++,Ke=q.next()){ge.index>Ee?(Yt=ge,ge=null):Yt=ge.sibling;var ps=G(H,ge,Ke.value,W);if(ps===null){ge===null&&(ge=Yt);break}n&&ge&&ps.alternate===null&&r(H,ge),L=p(ps,L,Ee),xe===null?he=ps:xe.sibling=ps,xe=ps,ge=Yt}if(Ke.done)return a(H,ge),Ge&&Js(H,Ee),he;if(ge===null){for(;!Ke.done;Ee++,Ke=q.next())Ke=J(H,Ke.value,W),Ke!==null&&(L=p(Ke,L,Ee),xe===null?he=Ke:xe.sibling=Ke,xe=Ke);return Ge&&Js(H,Ee),he}for(ge=l(ge);!Ke.done;Ee++,Ke=q.next())Ke=Y(ge,H,Ee,Ke.value,W),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?Ee:Ke.key),L=p(Ke,L,Ee),xe===null?he=Ke:xe.sibling=Ke,xe=Ke);return n&&ge.forEach(function(dA){return r(H,dA)}),Ge&&Js(H,Ee),he}function vt(H,L,q,W){if(typeof q=="object"&&q!==null&&q.type===m&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var he=q.key;L!==null;){if(L.key===he){if(he=q.type,he===m){if(L.tag===7){a(H,L.sibling),W=f(L,q.props.children),W.return=H,H=W;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Q&&ty(he)===L.type){a(H,L.sibling),W=f(L,q.props),pl(W,q),W.return=H,H=W;break e}a(H,L);break}else r(H,L);L=L.sibling}q.type===m?(W=ca(q.props.children,H.mode,W,q.key),W.return=H,H=W):(W=Cc(q.type,q.key,q.props,null,H.mode,W),pl(W,q),W.return=H,H=W)}return _(H);case d:e:{for(he=q.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(H,L.sibling),W=f(L,q.children||[]),W.return=H,H=W;break e}else{a(H,L);break}else r(H,L);L=L.sibling}W=zd(q,H.mode,W),W.return=H,H=W}return _(H);case Q:return he=q._init,q=he(q._payload),vt(H,L,q,W)}if(ae(q))return pe(H,L,q,W);if(oe(q)){if(he=oe(q),typeof he!="function")throw Error(s(150));return q=he.call(q),Ae(H,L,q,W)}if(typeof q.then=="function")return vt(H,L,lc(q),W);if(q.$$typeof===C)return vt(H,L,wc(H,q),W);uc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(H,L.sibling),W=f(L,q),W.return=H,H=W):(a(H,L),W=Ud(q,H.mode,W),W.return=H,H=W),_(H)):a(H,L)}return function(H,L,q,W){try{dl=0;var he=vt(H,L,q,W);return Ya=null,he}catch(ge){if(ge===hl)throw ge;var xe=si(29,ge,null,H.mode);return xe.lanes=W,xe.return=H,xe}finally{}}}var ta=ny(!0),iy=ny(!1),Xa=Ie(null),cc=Ie(0);function ry(n,r){n=Tr,me(cc,n),me(Xa,r),Tr=n|r.baseLanes}function Gf(){me(cc,Tr),me(Xa,Xa.current)}function Kf(){Tr=cc.current,qe(Xa),qe(cc)}var ni=Ie(null),ki=null;function Xr(n){var r=n.alternate;me(Pt,Pt.current&1),me(ni,n),ki===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(ki=n)}function sy(n){if(n.tag===22){if(me(Pt,Pt.current),me(ni,n),ki===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ki=n)}}else Wr()}function Wr(){me(Pt,Pt.current),me(ni,ni.current)}function hr(n){qe(ni),ki===n&&(ki=null),qe(Pt)}var Pt=Ie(0);function hc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ew=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},tw=i.unstable_scheduleCallback,nw=i.unstable_NormalPriority,Lt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new ew,data:new Map,refCount:0}}function ml(n){n.refCount--,n.refCount===0&&tw(nw,function(){n.controller.abort()})}var gl=null,Qf=0,Wa=0,Za=null;function iw(n,r){if(gl===null){var a=gl=[];Qf=0,Wa=ep(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,r.then(ay,ay),r}function ay(){if(--Qf===0&&gl!==null){Za!==null&&(Za.status="fulfilled");var n=gl;gl=null,Wa=0,Za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function rw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var oy=A.S;A.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iw(n,r),oy!==null&&oy(n,r)};var na=Ie(null);function Yf(){var n=na.current;return n!==null?n:nt.pooledCache}function fc(n,r){r===null?me(na,na.current):me(na,r.pool)}function ly(){var n=Yf();return n===null?null:{parent:Lt._currentValue,pool:n}}var Zr=0,Me=null,We=null,wt=null,dc=!1,Ja=!1,ia=!1,pc=0,yl=0,eo=null,sw=0;function Tt(){throw Error(s(321))}function Xf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Ln(n[a],r[a]))return!1;return!0}function Wf(n,r,a,l,f,p){return Zr=p,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=n===null||n.memoizedState===null?ra:Jr,ia=!1,p=a(l,f),ia=!1,Ja&&(p=cy(r,a,l,f)),uy(n),p}function uy(n){A.H=Vi;var r=We!==null&&We.next!==null;if(Zr=0,wt=We=Me=null,dc=!1,yl=0,eo=null,r)throw Error(s(300));n===null||$t||(n=n.dependencies,n!==null&&Sc(n)&&($t=!0))}function cy(n,r,a,l){Me=n;var f=0;do{if(Ja&&(eo=null),yl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,wt=We=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=sa,p=r(a,l)}while(Ja);return p}function aw(){var n=A.H,r=n.useState()[0];return r=typeof r.then=="function"?vl(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Me.flags|=1024),r}function Zf(){var n=pc!==0;return pc=0,n}function Jf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ed(n){if(dc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}dc=!1}Zr=0,wt=We=Me=null,Ja=!1,yl=pc=0,eo=null}function Cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Me.memoizedState=wt=n:wt=wt.next=n,wt}function At(){if(We===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=wt===null?Me.memoizedState:wt.next;if(r!==null)wt=r,We=n;else{if(n===null)throw Me.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Me.memoizedState=wt=n:wt=wt.next=n}return wt}var mc;mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(n){var r=yl;return yl+=1,eo===null&&(eo=[]),n=Jg(eo,n,r),r=Me,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?ra:Jr),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===C)return pn(n)}throw Error(s(438,String(n)))}function td(n){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=mc(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=ne;return r.index++,a}function fr(n,r){return typeof r=="function"?r(n):r}function yc(n){var r=At();return nd(r,We,n)}function nd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var b=_=null,I=null,U=r,X=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(He&J)===J:(Zr&J)===J){var G=U.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===Wa&&(X=!0);else if((Zr&G)===G){U=U.next,G===Wa&&(X=!0);continue}else J={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(b=I=J,_=p):I=I.next=J,Me.lanes|=G,ls|=G;J=U.action,ia&&a(p,J),p=U.hasEagerState?U.eagerState:a(p,J)}else G={lane:J,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(b=I=G,_=p):I=I.next=G,Me.lanes|=J,ls|=J;U=U.next}while(U!==null&&U!==r);if(I===null?_=p:I.next=b,!Ln(p,n.memoizedState)&&($t=!0,X&&(a=Za,a!==null)))throw a;n.memoizedState=p,n.baseState=_,n.baseQueue=I,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function id(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do p=n(p,_.action),_=_.next;while(_!==f);Ln(p,r.memoizedState)||($t=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function hy(n,r,a){var l=Me,f=At(),p=Ge;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Ln((We||f).memoizedState,a);if(_&&(f.memoizedState=a,$t=!0),f=f.queue,ad(py.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,to(9,dy.bind(null,l,f,a,r),{destroy:void 0},null),nt===null)throw Error(s(349));p||(Zr&60)!==0||fy(l,r,a)}return a}function fy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=mc(),Me.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function dy(n,r,a,l){r.value=a,r.getSnapshot=l,my(r)&&gy(n)}function py(n,r,a){return a(function(){my(r)&&gy(n)})}function my(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Ln(n,a)}catch{return!0}}function gy(n){var r=Yr(n,2);r!==null&&An(r,n,2)}function rd(n){var r=Cn();if(typeof n=="function"){var a=n;if(n=a(),ia){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:n},r}function yy(n,r,a,l){return n.baseState=a,nd(n,We,typeof l=="function"?l:fr)}function ow(n,r,a,l,f){if(Ec(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};A.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,vy(r,p)):(p.next=a.next,r.pending=a.next=p)}}function vy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=A.T,_={};A.T=_;try{var b=a(f,l),I=A.S;I!==null&&I(_,b),_y(n,r,b)}catch(U){sd(n,r,U)}finally{A.T=p}}else try{p=a(f,l),_y(n,r,p)}catch(U){sd(n,r,U)}}function _y(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ey(n,r,l)},function(l){return sd(n,r,l)}):Ey(n,r,a)}function Ey(n,r,a){r.status="fulfilled",r.value=a,Ty(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,vy(n,a)))}function sd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ty(r),r=r.next;while(r!==l)}n.action=null}function Ty(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function by(n,r){return r}function Sy(n,r){if(Ge){var a=nt.formState;if(a!==null){e:{var l=Me;if(Ge){if(rn){t:{for(var f=rn,p=xi;f.nodeType!==8;){if(!p){f=null;break t}if(f=mi(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){rn=mi(f.nextSibling),l=f.data==="F!";break e}}ea(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:r},a.queue=l,a=Hy.bind(null,Me,l),l.dispatch=a,l=rd(!1),p=hd.bind(null,Me,!1,l.queue),l=Cn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=ow.bind(null,Me,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function wy(n){var r=At();return Ay(r,We,n)}function Ay(n,r,a){r=nd(n,r,by)[0],n=yc(fr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?vl(r):r;var l=At(),f=l.queue,p=f.dispatch;return a!==l.memoizedState&&(Me.flags|=2048,to(9,lw.bind(null,f,a),{destroy:void 0},null)),[r,p,n]}function lw(n,r){n.action=r}function Ry(n){var r=At(),a=We;if(a!==null)return Ay(r,a,n);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function to(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Me.updateQueue,r===null&&(r=mc(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Cy(){return At().memoizedState}function vc(n,r,a,l){var f=Cn();Me.flags|=n,f.memoizedState=to(1|r,a,{destroy:void 0},l===void 0?null:l)}function _c(n,r,a,l){var f=At();l=l===void 0?null:l;var p=f.memoizedState.inst;We!==null&&l!==null&&Xf(l,We.memoizedState.deps)?f.memoizedState=to(r,a,p,l):(Me.flags|=n,f.memoizedState=to(1|r,a,p,l))}function Iy(n,r){vc(8390656,8,n,r)}function ad(n,r){_c(2048,8,n,r)}function Dy(n,r){return _c(4,2,n,r)}function Oy(n,r){return _c(4,4,n,r)}function Ny(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function My(n,r,a){a=a!=null?a.concat([n]):null,_c(4,4,Ny.bind(null,r,n),a)}function od(){}function xy(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function ky(n,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=n(),ia){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function ld(n,r,a){return a===void 0||(Zr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Pv(),Me.lanes|=n,ls|=n,a)}function Vy(n,r,a,l){return Ln(a,r)?a:Xa.current!==null?(n=ld(n,a,l),Ln(n,r)||($t=!0),n):(Zr&42)===0?($t=!0,n.memoizedState=a):(n=Pv(),Me.lanes|=n,ls|=n,r)}function Py(n,r,a,l,f){var p=le.p;le.p=p!==0&&8>p?p:8;var _=A.T,b={};A.T=b,hd(n,!1,r,a);try{var I=f(),U=A.S;if(U!==null&&U(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=rw(I,l);_l(n,r,X,Hn(n))}else _l(n,r,l,Hn(n))}catch(J){_l(n,r,{then:function(){},status:"rejected",reason:J},Hn())}finally{le.p=p,A.T=_}}function uw(){}function ud(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Ly(n).queue;Py(n,f,r,Se,a===null?uw:function(){return Uy(n),a(l)})}function Ly(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:Se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Uy(n){var r=Ly(n).next.queue;_l(n,r,{},Hn())}function cd(){return pn(zl)}function zy(){return At().memoizedState}function By(){return At().memoizedState}function cw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Hn();n=ns(a);var l=is(r,n,a);l!==null&&(An(l,r,a),bl(l,r,a)),r={cache:$f()},n.payload=r;return}r=r.return}}function hw(n,r,a){var l=Hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(n)?jy(r,a):(a=Bf(n,r,a,l),a!==null&&(An(a,n,l),qy(a,r,l)))}function Hy(n,r,a){var l=Hn();_l(n,r,a,l)}function _l(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(n))jy(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,b=p(_,a);if(f.hasEagerState=!0,f.eagerState=b,Ln(b,_))return ic(n,r,f,0),nt===null&&nc(),!1}catch{}finally{}if(a=Bf(n,r,f,l),a!==null)return An(a,n,l),qy(a,r,l),!0}return!1}function hd(n,r,a,l){if(l={lane:2,revertLane:ep(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(n)){if(r)throw Error(s(479))}else r=Bf(n,a,l,2),r!==null&&An(r,n,2)}function Ec(n){var r=n.alternate;return n===Me||r!==null&&r===Me}function jy(n,r){Ja=dc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function qy(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ft(n,a)}}var Vi={readContext:pn,use:gc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};Vi.useCacheRefresh=Tt,Vi.useMemoCache=Tt,Vi.useHostTransitionStatus=Tt,Vi.useFormState=Tt,Vi.useActionState=Tt,Vi.useOptimistic=Tt;var ra={readContext:pn,use:gc,useCallback:function(n,r){return Cn().memoizedState=[n,r===void 0?null:r],n},useContext:pn,useEffect:Iy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,vc(4194308,4,Ny.bind(null,r,n),a)},useLayoutEffect:function(n,r){return vc(4194308,4,n,r)},useInsertionEffect:function(n,r){vc(4,2,n,r)},useMemo:function(n,r){var a=Cn();r=r===void 0?null:r;var l=n();if(ia){Mn(!0);try{n()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=Cn();if(a!==void 0){var f=a(r);if(ia){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=hw.bind(null,Me,n),[l.memoizedState,n]},useRef:function(n){var r=Cn();return n={current:n},r.memoizedState=n},useState:function(n){n=rd(n);var r=n.queue,a=Hy.bind(null,Me,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:od,useDeferredValue:function(n,r){var a=Cn();return ld(a,n,r)},useTransition:function(){var n=rd(!1);return n=Py.bind(null,Me,n.queue,!0,!1),Cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Me,f=Cn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(He&60)!==0||fy(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,Iy(py.bind(null,l,p,n),[n]),l.flags|=2048,to(9,dy.bind(null,l,p,a,r),{destroy:void 0},null),a},useId:function(){var n=Cn(),r=nt.identifierPrefix;if(Ge){var a=cr,l=ur;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=sw++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return Cn().memoizedState=cw.bind(null,Me)}};ra.useMemoCache=td,ra.useHostTransitionStatus=cd,ra.useFormState=Sy,ra.useActionState=Sy,ra.useOptimistic=function(n){var r=Cn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,Me,!0,a),a.dispatch=r,[n,r]};var Jr={readContext:pn,use:gc,useCallback:xy,useContext:pn,useEffect:ad,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:ky,useReducer:yc,useRef:Cy,useState:function(){return yc(fr)},useDebugValue:od,useDeferredValue:function(n,r){var a=At();return Vy(a,We.memoizedState,n,r)},useTransition:function(){var n=yc(fr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:hy,useId:zy};Jr.useCacheRefresh=By,Jr.useMemoCache=td,Jr.useHostTransitionStatus=cd,Jr.useFormState=wy,Jr.useActionState=wy,Jr.useOptimistic=function(n,r){var a=At();return yy(a,We,n,r)};var sa={readContext:pn,use:gc,useCallback:xy,useContext:pn,useEffect:ad,useImperativeHandle:My,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:ky,useReducer:id,useRef:Cy,useState:function(){return id(fr)},useDebugValue:od,useDeferredValue:function(n,r){var a=At();return We===null?ld(a,n,r):Vy(a,We.memoizedState,n,r)},useTransition:function(){var n=id(fr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:vl(n),r]},useSyncExternalStore:hy,useId:zy};sa.useCacheRefresh=By,sa.useMemoCache=td,sa.useHostTransitionStatus=cd,sa.useFormState=Ry,sa.useActionState=Ry,sa.useOptimistic=function(n,r){var a=At();return We!==null?yy(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])};function fd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var dd={isMounted:function(n){return(n=n._reactInternals)?de(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Hn(),f=ns(l);f.payload=r,a!=null&&(f.callback=a),r=is(n,f,l),r!==null&&(An(r,n,l),bl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Hn(),f=ns(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=is(n,f,l),r!==null&&(An(r,n,l),bl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Hn(),l=ns(a);l.tag=2,r!=null&&(l.callback=r),r=is(n,l,a),r!==null&&(An(r,n,a),bl(r,n,a))}};function Fy(n,r,a,l,f,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,_):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,p):!0}function Gy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&dd.enqueueReplaceState(r,r.state,null)}function aa(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){Tc(n)}function $y(n){console.error(n)}function Qy(n){Tc(n)}function bc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pd(n,r,a){return a=ns(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(n,r)},a}function Xy(n){return n=ns(n),n.tag=3,n}function Wy(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){Yy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Yy(r,a,l),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function fw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Tl(r,a,f,!0),a=ni.current,a!==null){switch(a.tag){case 13:return ki===null?Yd():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ff?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wd(n,l,f)),!1;case 22:return a.flags|=65536,l===Ff?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wd(n,l,f)),!1}throw Error(s(435,a.tag))}return Wd(n,l,f),Yd(),!1}if(Ge)return r=ni.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==qf&&(n=Error(s(422),{cause:l}),cl(Jn(n,a)))):(l!==qf&&(r=Error(s(423),{cause:l}),cl(Jn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Jn(l,a),f=pd(n.stateNode,l,f),Dd(n,f),yt!==4&&(yt=2)),!1;var p=Error(s(520),{cause:l});if(p=Jn(p,a),Ol===null?Ol=[p]:Ol.push(p),yt!==4&&(yt=2),r===null)return!0;l=Jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=pd(a.stateNode,l,n),Dd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(us===null||!us.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Xy(f),Wy(f,n,a,l),Dd(a,f),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),$t=!1;function sn(n,r,a,l){r.child=n===null?iy(r,null,a,l):ta(r,n.child,a,l)}function Jy(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return la(r),l=Wf(n,r,a,_,p,f),b=Zf(),n!==null&&!$t?(Jf(n,r,f),dr(n,r,f)):(Ge&&b&&Hf(r),r.flags|=1,sn(n,r,l,f),r.child)}function ev(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Ld(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,tv(n,r,p,l,f)):(n=Cc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Sd(n,f)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&n.ref===r.ref)return dr(n,r,f)}return r.flags|=1,n=os(p,l),n.ref=r.ref,n.return=r,r.child=n}function tv(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if(al(p,l)&&n.ref===r.ref)if($t=!1,r.pendingProps=l=p,Sd(n,f))(n.flags&131072)!==0&&($t=!0);else return r.lanes=n.lanes,dr(n,r,f)}return md(n,r,a,l,f)}function nv(n,r,a){var l=r.pendingProps,f=l.children,p=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(El(n,r),l.mode==="hidden"||p){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(f=r.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;r.childLanes=p&~l}else r.childLanes=0,r.child=null;return iv(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&fc(r,_!==null?_.cachePool:null),_!==null?ry(r,_):Gf(),sy(r);else return r.lanes=r.childLanes=536870912,iv(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(fc(r,_.cachePool),ry(r,_),Wr(),r.memoizedState=null):(n!==null&&fc(r,null),Gf(),Wr());return sn(n,r,f,a),r.child}function iv(n,r,a,l){var f=Yf();return f=f===null?null:{parent:Lt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&fc(r,null),Gf(),sy(r),n!==null&&Tl(n,r,l,!0),null}function El(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function md(n,r,a,l,f){return la(r),a=Wf(n,r,a,l,void 0,f),l=Zf(),n!==null&&!$t?(Jf(n,r,f),dr(n,r,f)):(Ge&&l&&Hf(r),r.flags|=1,sn(n,r,a,f),r.child)}function rv(n,r,a,l,f,p){return la(r),r.updateQueue=null,a=cy(r,l,a,f),uy(n),l=Zf(),n!==null&&!$t?(Jf(n,r,p),dr(n,r,p)):(Ge&&l&&Hf(r),r.flags|=1,sn(n,r,a,p),r.child)}function sv(n,r,a,l,f){if(la(r),r.stateNode===null){var p=Ka,_=a.contextType;typeof _=="object"&&_!==null&&(p=pn(_)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Cd(r),_=a.contextType,p.context=typeof _=="object"&&_!==null?pn(_):Ka,p.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(r,a,_,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&dd.enqueueReplaceState(p,p.state,null),wl(r,l,p,f),Sl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var b=r.memoizedProps,I=aa(a,b);p.props=I;var U=p.context,X=a.contextType;_=Ka,typeof X=="object"&&X!==null&&(_=pn(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b||U!==_)&&Gy(r,p,l,_),ts=!1;var G=r.memoizedState;p.state=G,wl(r,l,p,f),Sl(),U=r.memoizedState,b||G!==U||ts?(typeof J=="function"&&(fd(r,a,J,l),U=r.memoizedState),(I=ts||Fy(r,a,I,l,G,U,_))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),p.props=l,p.state=U,p.context=_,l=I):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Id(n,r),_=r.memoizedProps,X=aa(a,_),p.props=X,J=r.pendingProps,G=p.context,U=a.contextType,I=Ka,typeof U=="object"&&U!==null&&(I=pn(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==J||G!==I)&&Gy(r,p,l,I),ts=!1,G=r.memoizedState,p.state=G,wl(r,l,p,f),Sl();var Y=r.memoizedState;_!==J||G!==Y||ts||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof b=="function"&&(fd(r,a,b,l),Y=r.memoizedState),(X=ts||Fy(r,a,X,l,G,Y,I)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,Y,I),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,Y,I)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),p.props=l,p.state=Y,p.context=I,l=X):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,El(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=ta(r,n.child,null,f),r.child=ta(r,null,a,f)):sn(n,r,a,f),r.memoizedState=p.state,n=r.child):n=dr(n,r,f),n}function av(n,r,a,l){return ul(),r.flags|=256,sn(n,r,a,l),r.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function yd(n){return{baseLanes:n,cachePool:ly()}}function vd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=ai),n}function ov(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Xr(r):Wr(),Ge){var b=rn,I;if(I=b){e:{for(I=b,b=xi;I.nodeType!==8;){if(!b){b=null;break e}if(I=mi(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Zs!==null?{id:ur,overflow:cr}:null,retryLane:536870912},I=si(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,wn=r,rn=null,I=!0):I=!1}I||ea(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;hr(r)}return b=l.children,l=l.fallback,f?(Wr(),f=r.mode,b=Ed({mode:"hidden",children:b},f),l=ca(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=yd(a),f.childLanes=vd(n,_,a),r.memoizedState=gd,l):(Xr(r),_d(r,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(p)r.flags&256?(Xr(r),r.flags&=-257,r=Td(n,r,a)):r.memoizedState!==null?(Wr(),r.child=n.child,r.flags|=128,r=null):(Wr(),f=l.fallback,b=r.mode,l=Ed({mode:"visible",children:l.children},b),f=ca(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,ta(r,n.child,null,a),l=r.child,l.memoizedState=yd(a),l.childLanes=vd(n,_,a),r.memoizedState=gd,r=f);else if(Xr(r),b.data==="$!"){if(_=b.nextSibling&&b.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),r=Td(n,r,a)}else if($t||Tl(n,r,a,!1),_=(a&n.childLanes)!==0,$t||_){if(_=nt,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Yr(n,l),An(_,n,l),Zy}b.data==="$?"||Yd(),r=Td(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=Cw.bind(null,n),b._reactRetry=r,r=null):(n=I.treeContext,rn=mi(b.nextSibling),wn=r,Ge=!0,di=null,xi=!1,n!==null&&(ei[ti++]=ur,ei[ti++]=cr,ei[ti++]=Zs,ur=n.id,cr=n.overflow,Zs=r),r=_d(r,l.children),r.flags|=4096);return r}return f?(Wr(),f=l.fallback,b=r.mode,I=n.child,U=I.sibling,l=os(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=os(U,f):(f=ca(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=yd(a):(I=b.cachePool,I!==null?(U=Lt._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=ly(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=vd(n,_,a),r.memoizedState=gd,l):(Xr(r),a=n.child,n=a.sibling,a=os(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function _d(n,r){return r=Ed({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ed(n,r){return xv(n,r,0,null)}function Td(n,r,a){return ta(r,n.child,null,a),n=_d(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ad(n.return,r,a)}function bd(n,r,a,l,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=f)}function uv(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;if(sn(n,r,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lv(n,a,r);else if(n.tag===19)lv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(me(Pt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&hc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),bd(r,!1,f,a,p);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&hc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}bd(r,!0,a,null,p);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function dr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ls|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Tl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=os(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=os(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Sd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function dw(n,r,a){switch(r.tag){case 3:Tn(r,r.stateNode.containerInfo),es(r,Lt,n.memoizedState.cache),ul();break;case 27:case 5:Pr(r);break;case 4:Tn(r,r.stateNode.containerInfo);break;case 10:es(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ov(n,r,a):(Xr(r),n=dr(n,r,a),n!==null?n.sibling:null);Xr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Tl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return uv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,nv(n,r,a);case 24:es(r,Lt,n.memoizedState.cache)}return dr(n,r,a)}function cv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)$t=!0;else{if(!Sd(n,a)&&(r.flags&128)===0)return $t=!1,dw(n,r,a);$t=(n.flags&131072)!==0}else $t=!1,Ge&&(r.flags&1048576)!==0&&Qg(r,ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Ld(l)?(n=aa(l,n),r.tag=1,r=sv(null,r,l,n,a)):(r.tag=0,r=md(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===x){r.tag=11,r=Jy(null,r,l,n,a);break e}else if(f===F){r.tag=14,r=ev(null,r,l,n,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return md(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=aa(l,r.pendingProps),sv(n,r,l,f,a);case 3:e:{if(Tn(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var p=r.pendingProps;f=r.memoizedState,l=f.element,Id(n,r),wl(r,p,null,a);var _=r.memoizedState;if(p=_.cache,es(r,Lt,p),p!==f.cache&&Rd(r,[Lt],a,!0),Sl(),p=_.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=av(n,r,p,a);break e}else if(p!==l){l=Jn(Error(s(424)),r),cl(l),r=av(n,r,p,a);break e}else for(rn=mi(r.stateNode.containerInfo.firstChild),wn=r,Ge=!0,di=null,xi=!0,a=iy(r,null,p,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),p===l){r=dr(n,r,a);break e}sn(n,r,p,a)}r=r.child}return r;case 26:return El(n,r),n===null?(a=d_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=zc(It.current).createElement(a),l[pt]=r,l[xt]=n,an(l,a,n),ut(l),r.stateNode=l):r.memoizedState=d_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Pr(r),n===null&&Ge&&(l=r.stateNode=c_(r.type,r.pendingProps,It.current),wn=r,xi=!0,rn=mi(l.firstChild)),l=r.pendingProps.children,n!==null||Ge?sn(n,r,l,a):r.child=ta(r,null,l,a),El(n,r),r.child;case 5:return n===null&&Ge&&((f=l=rn)&&(l=qw(l,r.type,r.pendingProps,xi),l!==null?(r.stateNode=l,wn=r,rn=mi(l.firstChild),xi=!1,f=!0):f=!1),f||ea(r)),Pr(r),f=r.type,p=r.pendingProps,_=n!==null?n.memoizedProps:null,l=p.children,up(f,p)?l=null:_!==null&&up(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Wf(n,r,aw,null,null,a),zl._currentValue=f),El(n,r),sn(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=rn)&&(a=Fw(a,r.pendingProps,xi),a!==null?(r.stateNode=a,wn=r,rn=null,n=!0):n=!1),n||ea(r)),null;case 13:return ov(n,r,a);case 4:return Tn(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ta(r,null,l,a):sn(n,r,l,a),r.child;case 11:return Jy(n,r,r.type,r.pendingProps,a);case 7:return sn(n,r,r.pendingProps,a),r.child;case 8:return sn(n,r,r.pendingProps.children,a),r.child;case 12:return sn(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,es(r,r.type,l.value),sn(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,la(r),f=pn(f),l=l(f),r.flags|=1,sn(n,r,l,a),r.child;case 14:return ev(n,r,r.type,r.pendingProps,a);case 15:return tv(n,r,r.type,r.pendingProps,a);case 19:return uv(n,r,a);case 22:return nv(n,r,a);case 24:return la(r),l=pn(Lt),n===null?(f=Yf(),f===null&&(f=nt,p=$f(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},Cd(r),es(r,Lt,f)):((n.lanes&a)!==0&&(Id(n,r),wl(r,null,null,a),Sl()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),es(r,Lt,l)):(l=p.cache,es(r,Lt,l),l!==f.cache&&Rd(r,[Lt],a,!0))),sn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var wd=Ie(null),oa=null,pr=null;function es(n,r,a){me(wd,r._currentValue),r._currentValue=a}function mr(n){n._currentValue=wd.current,qe(wd)}function Ad(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Rd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;e:for(;p!==null;){var b=p;p=f;for(var I=0;I<r.length;I++)if(b.context===r[I]){p.lanes|=a,b=p.alternate,b!==null&&(b.lanes|=a),Ad(p.return,a,n),l||(_=null);break e}p=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,p=_.alternate,p!==null&&(p.lanes|=a),Ad(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Tl(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;Ln(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===jt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}f=f.return}n!==null&&Rd(r,n,a,l),r.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!Ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function la(n){oa=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pn(n){return hv(oa,n)}function wc(n,r){return oa===null&&la(n),hv(n,r)}function hv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},pr===null){if(n===null)throw Error(s(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return a}var ts=!1;function Cd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ns(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function is(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=rc(n),Kg(n,null,a),r}return ic(n,l,r,a),rc(n)}function bl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ft(n,a)}}function Dd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Od=!1;function Sl(){if(Od){var n=Za;if(n!==null)throw n}}function wl(n,r,a,l){Od=!1;var f=n.updateQueue;ts=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,U=I.next;I.next=null,_===null?p=U:_.next=U,_=I;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=U:b.next=U,X.lastBaseUpdate=I))}if(p!==null){var J=f.baseState;_=0,X=U=I=null,b=p;do{var G=b.lane&-536870913,Y=G!==b.lane;if(Y?(He&G)===G:(l&G)===G){G!==0&&G===Wa&&(Od=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=n,Ae=b;G=r;var vt=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){J=pe.call(vt,J,G);break e}J=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,G=typeof pe=="function"?pe.call(vt,J,G):pe,G==null)break e;J=D({},J,G);break e;case 2:ts=!0}}G=b.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(U=X=Y,I=J):X=X.next=Y,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(I=J),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),ls|=_,n.lanes=_,n.memoizedState=J}}function fv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function dv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)fv(a[n],r)}function Al(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,_=a.inst;l=p(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Je(r,r.return,b)}}function rs(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var I=a;try{b()}catch(U){Je(f,I,U)}}}l=l.next}while(l!==p)}}catch(U){Je(r,r.return,U)}}function pv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{dv(r,a)}catch(l){Je(n,n.return,l)}}}function mv(n,r,a){a.props=aa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,r,l)}}function ua(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(p){Je(n,r,p)}}function Un(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,r,f)}else a.current=null}function gv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function yv(n,r,a){try{var l=n.stateNode;Uw(l,n.type,a,r),l[xt]=r}catch(f){Je(n,n.return,f)}}function vv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Nd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Md(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Md(n,r,a),n=n.sibling;n!==null;)Md(n,r,a),n=n.sibling}function Ac(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ac(n,r,a),n=n.sibling;n!==null;)Ac(n,r,a),n=n.sibling}var gr=!1,gt=!1,xd=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Qt=null,Ev=!1;function pw(n,r){if(n=n.containerInfo,op=Gc,n=Lg(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,b=-1,I=-1,U=0,X=0,J=n,G=null;t:for(;;){for(var Y;J!==a||f!==0&&J.nodeType!==3||(b=_+f),J!==p||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)G=J,J=Y;for(;;){if(J===n)break t;if(G===a&&++U===f&&(b=_),G===p&&++X===l&&(I=_),(Y=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=Y}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(lp={focusedElem:n,selectionRange:a},Gc=!1,Qt=r;Qt!==null;)if(r=Qt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Qt=n;else for(;Qt!==null;){switch(r=Qt,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var pe=aa(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(pe,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Je(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)fp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Qt=n;break}Qt=r.return}return pe=Ev,Ev=!1,pe}function Tv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(n,a),l&4&&Al(5,a);break;case 1:if(vr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){Je(a,a.return,b)}else{var f=aa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&pv(a),l&512&&ua(a,a.return);break;case 3:if(vr(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dv(l,n)}catch(b){Je(a,a.return,b)}}break;case 26:vr(n,a),l&512&&ua(a,a.return);break;case 27:case 5:vr(n,a),r===null&&l&4&&gv(a),l&512&&ua(a,a.return);break;case 12:vr(n,a);break;case 13:vr(n,a),l&4&&wv(n,a);break;case 22:if(f=a.memoizedState!==null||gr,!f){r=r!==null&&r.memoizedState!==null||gt;var p=gr,_=gt;gr=f,(gt=r)&&!_?ss(n,a,(a.subtreeFlags&8772)!==0):vr(n,a),gr=p,gt=_}l&512&&(a.memoizedProps.mode==="manual"?ua(a,a.return):Un(a,a.return));break;default:vr(n,a)}}function bv(n){var r=n.alternate;r!==null&&(n.alternate=null,bv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&zs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Rt=null,zn=!1;function yr(n,r,a){for(a=a.child;a!==null;)Sv(n,r,a),a=a.sibling}function Sv(n,r,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(bi,a)}catch{}switch(a.tag){case 26:gt||Un(a,r),yr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||Un(a,r);var l=Rt,f=zn;for(Rt=a.stateNode,yr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);zs(a),Rt=l,zn=f;break;case 5:gt||Un(a,r);case 6:f=Rt;var p=zn;if(Rt=null,yr(n,r,a),Rt=f,zn=p,Rt!==null)if(zn)try{n=Rt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){Je(a,r,_)}else try{Rt.removeChild(a.stateNode)}catch(_){Je(a,r,_)}break;case 18:Rt!==null&&(zn?(r=Rt,a=a.stateNode,r.nodeType===8?hp(r.parentNode,a):r.nodeType===1&&hp(r,a),ql(r)):hp(Rt,a.stateNode));break;case 4:l=Rt,f=zn,Rt=a.stateNode.containerInfo,zn=!0,yr(n,r,a),Rt=l,zn=f;break;case 0:case 11:case 14:case 15:gt||rs(2,a,r),gt||rs(4,a,r),yr(n,r,a);break;case 1:gt||(Un(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&mv(a,r,l)),yr(n,r,a);break;case 21:yr(n,r,a);break;case 22:gt||Un(a,r),gt=(l=gt)||a.memoizedState!==null,yr(n,r,a),gt=l;break;default:yr(n,r,a)}}function wv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(a){Je(r,r.return,a)}}function mw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new _v),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new _v),r;default:throw Error(s(435,n.tag))}}function kd(n,r){var a=mw(n);r.forEach(function(l){var f=Iw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function ii(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:case 5:Rt=b.stateNode,zn=!1;break e;case 3:Rt=b.stateNode.containerInfo,zn=!0;break e;case 4:Rt=b.stateNode.containerInfo,zn=!0;break e}b=b.return}if(Rt===null)throw Error(s(160));Sv(p,_,f),Rt=null,zn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Av(r,n),r=r.sibling}var pi=null;function Av(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ii(r,n),ri(n),l&4&&(rs(3,n,n.return),Al(3,n),rs(5,n,n.return));break;case 1:ii(r,n),ri(n),l&512&&(gt||a===null||Un(a,a.return)),l&64&&gr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=pi;if(ii(r,n),ri(n),l&512&&(gt||a===null||Un(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Hr]||p[pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),an(p,l,a),p[pt]=n,ut(p),l=p;break e;case"link":var _=g_("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(p=_[b],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}p=f.createElement(l),an(p,l,a),f.head.appendChild(p);break;case"meta":if(_=g_("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(p=_[b],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}p=f.createElement(l),an(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[pt]=n,ut(p),l=p}n.stateNode=l}else y_(f,n.type,n.stateNode);else n.stateNode=m_(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?y_(f,n.type,n.stateNode):m_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&yv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,X=I.nodeName;I[Hr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var J=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);an(f,J,p),f[pt]=n,f[xt]=p}catch(pe){Je(n,n.return,pe)}}case 5:if(ii(r,n),ri(n),l&512&&(gt||a===null||Un(a,a.return)),n.flags&32){f=n.stateNode;try{Qn(f,"")}catch(pe){Je(n,n.return,pe)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,yv(n,f,a!==null?a.memoizedProps:f)),l&1024&&(xd=!0);break;case 6:if(ii(r,n),ri(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){Je(n,n.return,pe)}}break;case 3:if(jc=null,f=pi,pi=Bc(r.containerInfo),ii(r,n),pi=f,ri(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(r.containerInfo)}catch(pe){Je(n,n.return,pe)}xd&&(xd=!1,Rv(n));break;case 4:l=pi,pi=Bc(n.stateNode.containerInfo),ii(r,n),ri(n),pi=l;break;case 12:ii(r,n),ri(n);break;case 13:ii(r,n),ri(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=Zt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kd(n,l)));break;case 22:if(l&512&&(gt||a===null||Un(a,a.return)),I=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=gr,J=gt,gr=X||I,gt=J||U,ii(r,n),gt=J,gr=X,ri(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=gr||gt,a===null||U||r||no(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,I)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=U.stateNode,b=U.memoizedProps.style;var Y=b!=null&&b.hasOwnProperty("display")?b.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){Je(U,U.return,pe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(pe){Je(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kd(n,a))));break;case 19:ii(r,n),ri(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kd(n,l)));break;case 21:break;default:ii(r,n),ri(n)}}function ri(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(vv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,p=Nd(n);Ac(n,p,f);break;case 5:var _=l.stateNode;l.flags&32&&(Qn(_,""),l.flags&=-33);var b=Nd(n);Ac(n,b,_);break;case 3:case 4:var I=l.stateNode.containerInfo,U=Nd(n);Md(n,U,I);break;default:throw Error(s(161))}}}catch(X){Je(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function vr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tv(n,r.alternate,r),r=r.sibling}function no(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:rs(4,r,r.return),no(r);break;case 1:Un(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&mv(r,r.return,a),no(r);break;case 26:case 27:case 5:Un(r,r.return),no(r);break;case 22:Un(r,r.return),r.memoizedState===null&&no(r);break;default:no(r)}n=n.sibling}}function ss(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:ss(f,p,a),Al(4,p);break;case 1:if(ss(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Je(l,l.return,U)}if(l=p,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)fv(I[f],b)}catch(U){Je(l,l.return,U)}}a&&_&64&&pv(p),ua(p,p.return);break;case 26:case 27:case 5:ss(f,p,a),a&&l===null&&_&4&&gv(p),ua(p,p.return);break;case 12:ss(f,p,a);break;case 13:ss(f,p,a),a&&_&4&&wv(f,p);break;case 22:p.memoizedState===null&&ss(f,p,a),ua(p,p.return);break;default:ss(f,p,a)}r=r.sibling}}function Vd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ml(a))}function Pd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n))}function as(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cv(n,r,a,l),r=r.sibling}function Cv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:as(n,r,a,l),f&2048&&Al(9,r);break;case 3:as(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n)));break;case 12:if(f&2048){as(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,_=p.id,b=p.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else as(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?as(n,r,a,l):Rl(n,r):p._visibility&4?as(n,r,a,l):(p._visibility|=4,io(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Vd(r.alternate,r);break;case 24:as(n,r,a,l),f&2048&&Pd(r.alternate,r);break;default:as(n,r,a,l)}}function io(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,_=r,b=a,I=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:io(p,_,b,I,f),Al(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?io(p,_,b,I,f):Rl(p,_):(X._visibility|=4,io(p,_,b,I,f)),f&&U&2048&&Vd(_.alternate,_);break;case 24:io(p,_,b,I,f),f&&U&2048&&Pd(_.alternate,_);break;default:io(p,_,b,I,f)}r=r.sibling}}function Rl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&Vd(l.alternate,l);break;case 24:Rl(a,l),f&2048&&Pd(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Cl=8192;function ro(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)Iv(n),n=n.sibling}function Iv(n){switch(n.tag){case 26:ro(n),n.flags&Cl&&n.memoizedState!==null&&iA(pi,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var r=pi;pi=Bc(n.stateNode.containerInfo),ro(n),pi=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,ro(n),Cl=r):ro(n));break;default:ro(n)}}function Dv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Il(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,Nv(l,n)}Dv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ov(n),n=n.sibling}function Ov(n){switch(n.tag){case 0:case 11:case 15:Il(n),n.flags&2048&&rs(9,n,n.return);break;case 3:Il(n);break;case 12:Il(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Rc(n)):Il(n);break;default:Il(n)}}function Rc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,Nv(l,n)}Dv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:rs(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Rc(r));break;default:Rc(r)}n=n.sibling}}function Nv(n,r){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:rs(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=n;Qt!==null;){l=Qt;var f=l.sibling,p=l.return;if(bv(l),l===a){Qt=null;break e}if(f!==null){f.return=p,Qt=f;break e}Qt=p}}}function gw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,r,a,l){return new gw(n,r,a,l)}function Ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function os(n,r){var a=n.alternate;return a===null?(a=si(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Mv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Cc(n,r,a,l,f,p){var _=0;if(l=n,typeof n=="function")Ld(n)&&(_=1);else if(typeof n=="string")_=tA(n,a,_t.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return ca(a.children,f,p,r);case g:_=8,f|=24;break;case E:return n=si(12,a,r,f|2),n.elementType=E,n.lanes=p,n;case z:return n=si(13,a,r,f),n.elementType=z,n.lanes=p,n;case V:return n=si(19,a,r,f),n.elementType=V,n.lanes=p,n;case $:return xv(a,f,p,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case C:_=10;break e;case w:_=9;break e;case x:_=11;break e;case F:_=14;break e;case Q:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=si(_,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function ca(n,r,a,l){return n=si(7,n,l,r),n.lanes=a,n}function xv(n,r,a,l){n=si(22,n,l,r),n.elementType=$,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Yr(p,2);_!==null&&(f._pendingVisibility|=2,An(_,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Yr(p,2);_!==null&&(f._pendingVisibility&=-3,An(_,p,2))}}};return n.stateNode=f,n}function Ud(n,r,a){return n=si(6,n,null,r),n.lanes=a,n}function zd(n,r,a){return r=si(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function _r(n){n.flags|=4}function kv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!v_(r)){if(r=ni.current,r!==null&&((He&4194176)===He?ki!==null:(He&62914560)!==He&&(He&536870912)===0||r!==ki))throw fl=Ff,Wg;n.flags|=8192}}function Ic(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Nt():536870912,n.lanes|=r,ao|=r)}function Dl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function yw(n,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),mr(Lt),cn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ll(r)?_r(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,di!==null&&($d(di),di=null))),ct(r),null;case 26:return a=r.memoizedState,n===null?(_r(r),a!==null?(ct(r),kv(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(_r(r),ct(r),kv(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==l&&_r(r),ct(r),r.flags&=-16777217),null;case 27:Zi(r),a=It.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&_r(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=_t.current,ll(r)?Yg(r):(n=c_(f,l,a),r.stateNode=n,_r(r))}return ct(r),null;case 5:if(Zi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&_r(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=_t.current,ll(r))Yg(r);else{switch(f=zc(It.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[pt]=r,n[xt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(an(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&_r(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&_r(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=It.current,ll(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[pt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||r_(n.nodeValue,a)),n||ea(r)}else n=zc(n).createTextNode(l),n[pt]=r,r.stateNode=n}return ct(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ll(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[pt]=r}else ul(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else di!==null&&($d(di),di=null),f=!0;if(!f)return r.flags&256?(hr(r),r):(hr(r),null)}if(hr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Ic(r,r.updateQueue),ct(r),null;case 4:return cn(),n===null&&rp(r.stateNode.containerInfo),ct(r),null;case 10:return mr(r.type),ct(r),null;case 19:if(qe(Pt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,p=f.rendering,p===null)if(l)Dl(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=hc(n),p!==null){for(r.flags|=128,Dl(f,!1),n=p.updateQueue,r.updateQueue=n,Ic(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Mv(a,n),a=a.sibling;return me(Pt,Pt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Zt()>Dc&&(r.flags|=128,l=!0,Dl(f,!1),r.lanes=4194304)}else{if(!l)if(n=hc(p),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ic(r,n),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ge)return ct(r),null}else 2*Zt()-f.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,l=!0,Dl(f,!1),r.lanes=4194304);f.isBackwards?(p.sibling=r.child,r.child=p):(n=f.last,n!==null?n.sibling=p:r.child=p,f.last=p)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Zt(),r.sibling=null,n=Pt.current,me(Pt,l?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return hr(r),Kf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Ic(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&qe(na),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),mr(Lt),ct(r),null;case 25:return null}throw Error(s(156,r.tag))}function vw(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mr(Lt),cn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Zi(r),null;case 13:if(hr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ul()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return qe(Pt),null;case 4:return cn(),null;case 10:return mr(r.type),null;case 22:case 23:return hr(r),Kf(),n!==null&&qe(na),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return mr(Lt),null;case 25:return null;default:return null}}function Vv(n,r){switch(jf(r),r.tag){case 3:mr(Lt),cn();break;case 26:case 27:case 5:Zi(r);break;case 4:cn();break;case 13:hr(r);break;case 19:qe(Pt);break;case 10:mr(r.type);break;case 22:case 23:hr(r),Kf(),n!==null&&qe(na);break;case 24:mr(Lt)}}var _w={getCacheForType:function(n){var r=pn(Lt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Ew=typeof WeakMap=="function"?WeakMap:Map,ht=0,nt=null,ke=null,He=0,it=0,Bn=null,Er=!1,so=!1,Bd=!1,Tr=0,yt=0,ls=0,ha=0,Hd=0,ai=0,ao=0,Ol=null,Pi=null,jd=!1,qd=0,Dc=1/0,Oc=null,us=null,Nc=!1,fa=null,Nl=0,Fd=0,Gd=null,Ml=0,Kd=null;function Hn(){if((ht&2)!==0&&He!==0)return He&-He;if(A.T!==null){var n=Wa;return n!==0?n:ep()}return wi()}function Pv(){ai===0&&(ai=(He&536870912)===0||Ge?Ot():536870912);var n=ni.current;return n!==null&&(n.flags|=32),ai}function An(n,r,a){(n===nt&&it===2||n.cancelPendingCommit!==null)&&(oo(n,0),br(n,He,ai,!1)),Ne(n,a),((ht&2)===0||n!==nt)&&(n===nt&&((ht&2)===0&&(ha|=a),yt===4&&br(n,He,ai,!1)),Li(n))}function Lv(n,r,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||en(n,r),f=l?Sw(n,r):Xd(n,r,!0),p=l;do{if(f===0){so&&!l&&br(n,r,0,!1);break}else if(f===6)br(n,r,0,!Er);else{if(a=n.current.alternate,p&&!Tw(a)){f=Xd(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;f=Ol;var I=b.current.memoizedState.isDehydrated;if(I&&(oo(b,_).flags|=256),_=Xd(b,_,!1),_!==2){if(Bd&&!I){b.errorRecoveryDisabledLanes|=p,ha|=p,f=4;break e}p=Pi,Pi=f,p!==null&&$d(p)}f=_}if(p=!1,f!==2)continue}}if(f===1){oo(n,0),br(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){br(l,r,ai,!Er);break e}break;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(p=qd+300-Zt(),10<p)){if(br(l,r,ai,!Er),tt(l,0)!==0)break e;l.timeoutHandle=o_(Uv.bind(null,l,a,Pi,Oc,jd,r,ai,ha,ao,Er,2,-0,0),p);break e}Uv(l,a,Pi,Oc,jd,r,ai,ha,ao,Er,0,-0,0)}}break}while(!0);Li(n)}function $d(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function Uv(n,r,a,l,f,p,_,b,I,U,X,J,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:nA},Iv(r),r=rA(),r!==null)){n.cancelPendingCommit=r(Gv.bind(null,n,a,l,f,_,b,I,1,J,G)),br(n,p,_,!U);return}Gv(n,a,l,f,_,b,I,X,J,G)}function Tw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!Ln(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(n,r,a,l){r&=~Hd,r&=~ha,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-Jt(f),_=1<<p;l[p]=-1,f&=~_}a!==0&&Mt(n,a,r)}function Mc(){return(ht&6)===0?(xl(0),!1):!0}function Qd(){if(ke!==null){if(it===0)var n=ke.return;else n=ke,pr=oa=null,ed(n),Ya=null,dl=0,n=ke;for(;n!==null;)Vv(n.alternate,n),n=n.return;ke=null}}function oo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Bw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),nt=n,ke=a=os(n.current,null),He=r,it=0,Bn=null,Er=!1,so=en(n,r),Bd=!1,ao=ai=Hd=ha=ls=yt=0,Pi=Ol=null,jd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Jt(l),p=1<<f;r|=n[f],l&=~p}return Tr=r,nc(),a}function zv(n,r){Me=null,A.H=Vi,r===hl?(r=ey(),it=3):r===Wg?(r=ey(),it=4):it=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,ke===null&&(yt=1,bc(n,Jn(r,n.current)))}function Bv(){var n=A.H;return A.H=Vi,n===null?Vi:n}function Hv(){var n=A.A;return A.A=_w,n}function Yd(){yt=4,Er||(He&4194176)!==He&&ni.current!==null||(so=!0),(ls&134217727)===0&&(ha&134217727)===0||nt===null||br(nt,He,ai,!1)}function Xd(n,r,a){var l=ht;ht|=2;var f=Bv(),p=Hv();(nt!==n||He!==r)&&(Oc=null,oo(n,r)),r=!1;var _=yt;e:do try{if(it!==0&&ke!==null){var b=ke,I=Bn;switch(it){case 8:Qd(),_=6;break e;case 3:case 2:case 6:ni.current===null&&(r=!0);var U=it;if(it=0,Bn=null,lo(n,b,I,U),a&&so){_=0;break e}break;default:U=it,it=0,Bn=null,lo(n,b,I,U)}}bw(),_=yt;break}catch(X){zv(n,X)}while(!0);return r&&n.shellSuspendCounter++,pr=oa=null,ht=l,A.H=f,A.A=p,ke===null&&(nt=null,He=0,nc()),_}function bw(){for(;ke!==null;)jv(ke)}function Sw(n,r){var a=ht;ht|=2;var l=Bv(),f=Hv();nt!==n||He!==r?(Oc=null,Dc=Zt()+500,oo(n,r)):so=en(n,r);e:do try{if(it!==0&&ke!==null){r=ke;var p=Bn;t:switch(it){case 1:it=0,Bn=null,lo(n,r,p,1);break;case 2:if(Zg(p)){it=0,Bn=null,qv(r);break}r=function(){it===2&&nt===n&&(it=7),Li(n)},p.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Zg(p)?(it=0,Bn=null,qv(r)):(it=0,Bn=null,lo(n,r,p,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var b=ke;if(!_||v_(_)){it=0,Bn=null;var I=b.sibling;if(I!==null)ke=I;else{var U=b.return;U!==null?(ke=U,xc(U)):ke=null}break t}}it=0,Bn=null,lo(n,r,p,5);break;case 6:it=0,Bn=null,lo(n,r,p,6);break;case 8:Qd(),yt=6;break e;default:throw Error(s(462))}}ww();break}catch(X){zv(n,X)}while(!0);return pr=oa=null,A.H=l,A.A=f,ht=a,ke!==null?0:(nt=null,He=0,nc(),yt)}function ww(){for(;ke!==null&&!Lr();)jv(ke)}function jv(n){var r=cv(n.alternate,n,Tr);n.memoizedProps=n.pendingProps,r===null?xc(n):ke=r}function qv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=rv(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=rv(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:ed(r);default:Vv(a,r),r=ke=Mv(r,Tr),r=cv(a,r,Tr)}n.memoizedProps=n.pendingProps,r===null?xc(n):ke=r}function lo(n,r,a,l){pr=oa=null,ed(r),Ya=null,dl=0;var f=r.return;try{if(fw(n,f,r,a,He)){yt=1,bc(n,Jn(a,n.current)),ke=null;return}}catch(p){if(f!==null)throw ke=f,p;yt=1,bc(n,Jn(a,n.current)),ke=null;return}r.flags&32768?(Ge||l===1?n=!0:so||(He&536870912)!==0?n=!1:(Er=n=!0,(l===2||l===3||l===6)&&(l=ni.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(r,n)):xc(r)}function xc(n){var r=n;do{if((r.flags&32768)!==0){Fv(r,Er);return}n=r.return;var a=yw(r.alternate,r,Tr);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=n}while(r!==null);yt===0&&(yt=5)}function Fv(n,r){do{var a=vw(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);yt=6,ke=null}function Gv(n,r,a,l,f,p,_,b,I,U){var X=A.T,J=le.p;try{le.p=2,A.T=null,Aw(n,r,a,l,J,f,p,_,b,I,U)}finally{A.T=X,le.p=J}}function Aw(n,r,a,l,f,p,_,b){do uo();while(fa!==null);if((ht&6)!==0)throw Error(s(327));var I=n.finishedWork;if(l=n.finishedLanes,I===null)return null;if(n.finishedWork=null,n.finishedLanes=0,I===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=zf,kn(n,l,U,p,_,b),n===nt&&(ke=nt=null,He=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Nc||(Nc=!0,Fd=U,Gd=a,Dw(fn,function(){return uo(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,p=le.p,le.p=2,_=ht,ht|=4,pw(n,I),Av(I,n),YS(lp,n.containerInfo),Gc=!!op,lp=op=null,n.current=I,Tv(n,I.alternate,I),Ur(),ht=_,le.p=p,A.T=a):n.current=I,Nc?(Nc=!1,fa=n,Nl=l):Kv(n,U),U=n.pendingLanes,U===0&&(us=null),Ji(I.stateNode),Li(n),r!==null)for(f=n.onRecoverableError,I=0;I<r.length;I++)U=r[I],f(U.value,{componentStack:U.stack});return(Nl&3)!==0&&uo(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===Kd?Ml++:(Ml=0,Kd=n):Ml=0,xl(0),null}function Kv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ml(r)))}function uo(){if(fa!==null){var n=fa,r=Fd;Fd=0;var a=Si(Nl),l=A.T,f=le.p;try{if(le.p=32>a?32:a,A.T=null,fa===null)var p=!1;else{a=Gd,Gd=null;var _=fa,b=Nl;if(fa=null,Nl=0,(ht&6)!==0)throw Error(s(331));var I=ht;if(ht|=4,Ov(_.current),Cv(_,_.current,b,a),ht=I,xl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(bi,_)}catch{}p=!0}return p}finally{le.p=f,A.T=l,Kv(n,r)}}return!1}function $v(n,r,a){r=Jn(a,r),r=pd(n.stateNode,r,2),n=is(n,r,2),n!==null&&(Ne(n,2),Li(n))}function Je(n,r,a){if(n.tag===3)$v(n,n,a);else for(;r!==null;){if(r.tag===3){$v(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(us===null||!us.has(l))){n=Jn(a,n),a=Xy(2),l=is(r,a,2),l!==null&&(Wy(a,l,r,n),Ne(l,2),Li(l));break}}r=r.return}}function Wd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Ew;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Bd=!0,f.add(a),n=Rw.bind(null,n,r,a),r.then(n,n))}function Rw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(He&a)===a&&(yt===4||yt===3&&(He&62914560)===He&&300>Zt()-qd?(ht&2)===0&&oo(n,0):Hd|=a,ao===He&&(ao=0)),Li(n)}function Qv(n,r){r===0&&(r=Nt()),n=Yr(n,r),n!==null&&(Ne(n,r),Li(n))}function Cw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Qv(n,a)}function Iw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Qv(n,a)}function Dw(n,r){return hn(n,r)}var kc=null,co=null,Zd=!1,Vc=!1,Jd=!1,da=0;function Li(n){n!==co&&n.next===null&&(co===null?kc=co=n:co=co.next=n),Vc=!0,Zd||(Zd=!0,Nw(Ow))}function xl(n,r){if(!Jd&&Vc){Jd=!0;do for(var a=!1,l=kc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var _=l.suspendedLanes,b=l.pingedLanes;p=(1<<31-Jt(42|n)+1)-1,p&=f&~(_&~b),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,Wv(l,p))}else p=He,p=tt(l,l===nt?p:0),(p&3)===0||en(l,p)||(a=!0,Wv(l,p));l=l.next}while(a);Jd=!1}}function Ow(){Vc=Zd=!1;var n=0;da!==0&&(zw()&&(n=da),da=0);for(var r=Zt(),a=null,l=kc;l!==null;){var f=l.next,p=Yv(l,r);p===0?(l.next=null,a===null?kc=f:a.next=f,f===null&&(co=a)):(a=l,(n!==0||(p&3)!==0)&&(Vc=!0)),l=f}xl(n)}function Yv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Jt(p),b=1<<_,I=f[_];I===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Dt(b,r)):I<=r&&(n.expiredLanes|=b),p&=~b}if(r=nt,a=He,a=tt(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&it===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ci(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||en(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ci(l),Si(a)){case 2:case 8:a=st;break;case 32:a=fn;break;case 268435456:a=zr;break;default:a=fn}return l=Xv.bind(null,n),a=hn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ci(l),n.callbackPriority=2,n.callbackNode=null,2}function Xv(n,r){var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var l=He;return l=tt(n,n===nt?l:0),l===0?null:(Lv(n,l,r),Yv(n,Zt()),n.callbackNode!=null&&n.callbackNode===a?Xv.bind(null,n):null)}function Wv(n,r){if(uo())return null;Lv(n,r,!0)}function Nw(n){Hw(function(){(ht&6)!==0?hn(Et,n):n()})}function ep(){return da===0&&(da=Ot()),da}function Zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ri(""+n)}function Jv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Mw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=Zv((f[xt]||null).action),_=l.submitter;_&&(r=(r=_[xt]||null)?Zv(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var b=new Va("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var I=_?Jv(f,_):new FormData(f);ud(a,{pending:!0,data:I,method:f.method,action:p},null,I)}}else typeof p=="function"&&(b.preventDefault(),I=_?Jv(f,_):new FormData(f),ud(a,{pending:!0,data:I,method:f.method,action:p},p,I))},currentTarget:f}]})}}for(var tp=0;tp<Gg.length;tp++){var np=Gg[tp],xw=np.toLowerCase(),kw=np[0].toUpperCase()+np.slice(1);fi(xw,"on"+kw)}fi(Bg,"onAnimationEnd"),fi(Hg,"onAnimationIteration"),fi(jg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(WS,"onTransitionRun"),fi(ZS,"onTransitionStart"),fi(JS,"onTransitionCancel"),fi(qg,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function e_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,U=b.currentTarget;if(b=b.listener,I!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=U;try{p(f)}catch(X){Tc(X)}f.currentTarget=null,p=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,U=b.currentTarget,b=b.listener,I!==p&&f.isPropagationStopped())break e;p=b,f.currentTarget=U;try{p(f)}catch(X){Tc(X)}f.currentTarget=null,p=I}}}}function Le(n,r){var a=r[Us];a===void 0&&(a=r[Us]=new Set);var l=n+"__bubble";a.has(l)||(t_(r,n,2,!1),a.add(l))}function ip(n,r,a){var l=0;r&&(l|=4),t_(a,n,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function rp(n){if(!n[Pc]){n[Pc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(Vw.has(a)||ip(a,!1,n),ip(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,ip("selectionchange",!1,r))}}function t_(n,r,a,l){switch(w_(r)){case 2:var f=oA;break;case 8:f=lA;break;default:f=yp}a=f.bind(null,r,a,n),f=void 0,!Xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function sp(n,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;_=_.return}for(;b!==null;){if(_=hi(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=p=_;continue e}b=b.parentNode}}l=l.return}Hu(function(){var U=p,X=ka(a),J=[];e:{var G=Fg.get(n);if(G!==void 0){var Y=Va,pe=n;switch(n){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":Y=Ha;break;case"focusin":pe="focus",Y=Ua;break;case"focusout":pe="blur",Y=Ua;break;case"beforeblur":case"afterblur":Y=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Yu;break;case Bg:case Hg:case jg:Y=za;break;case qg:Y=Wu;break;case"scroll":case"scrollend":Y=ju;break;case"wheel":Y=ja;break;case"copy":case"cut":case"paste":Y=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=rl;break;case"toggle":case"beforetoggle":Y=Ju}var Ae=(r&4)!==0,vt=!Ae&&(n==="scroll"||n==="scrollend"),H=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var L=U,q;L!==null;){var W=L;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||H===null||(W=qs(L,H),W!=null&&Ae.push(Vl(L,W,q))),vt)break;L=L.return}0<Ae.length&&(G=new Y(G,pe,null,a,X),J.push({event:G,listeners:Ae}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==Yn&&(pe=a.relatedTarget||a.fromElement)&&(hi(pe)||pe[er]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=U,pe=pe?hi(pe):null,pe!==null&&(vt=de(pe),Ae=pe.tag,pe!==vt||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Y=null,pe=U),Y!==pe)){if(Ae=Wn,W="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=rl,W="onPointerLeave",H="onPointerEnter",L="pointer"),vt=Y==null?G:jr(Y),q=pe==null?G:jr(pe),G=new Ae(W,L+"leave",Y,a,X),G.target=vt,G.relatedTarget=q,W=null,hi(X)===U&&(Ae=new Ae(H,L+"enter",pe,a,X),Ae.target=q,Ae.relatedTarget=vt,W=Ae),vt=W,Y&&pe)t:{for(Ae=Y,H=pe,L=0,q=Ae;q;q=ho(q))L++;for(q=0,W=H;W;W=ho(W))q++;for(;0<L-q;)Ae=ho(Ae),L--;for(;0<q-L;)H=ho(H),q--;for(;L--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=ho(Ae),H=ho(H)}Ae=null}else Ae=null;Y!==null&&n_(J,G,Y,Ae,!1),pe!==null&&vt!==null&&n_(J,vt,pe,Ae,!0)}}e:{if(G=U?jr(U):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var he=Dg;else if(Vt(G))if(Og)he=$S;else{he=GS;var xe=FS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Wo(U.elementType)&&(he=Dg):he=KS;if(he&&(he=he(n,U))){lr(J,he,a,X);break e}xe&&xe(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&xa(G,"number",G.value)}switch(xe=U?jr(U):window,n){case"focusin":(Vt(xe)||xe.contentEditable==="true")&&(qa=xe,Pf=U,ol=null);break;case"focusout":ol=Pf=qa=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Ug(J,a,X);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":Ug(J,a,X)}var ge;if(Ni)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ze?K(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(ze||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ze&&(ge=Jo()):(Ci=X,Qr="value"in Ci?Ci.value:Ci.textContent,ze=!0)),xe=Lc(U,Ee),0<xe.length&&(Ee=new nl(Ee,n,null,a,X),J.push({event:Ee,listeners:xe}),ge?Ee.data=ge:(ge=re(a),ge!==null&&(Ee.data=ge)))),(ge=y?kt(n,a):Be(n,a))&&(Ee=Lc(U,"onBeforeInput"),0<Ee.length&&(xe=new nl("onBeforeInput","beforeinput",null,a,X),J.push({event:xe,listeners:Ee}),xe.data=ge)),Mw(J,n,U,a,X)}e_(J,r)})}function Vl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Lc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=qs(n,a),f!=null&&l.unshift(Vl(n,f,p)),f=qs(n,r),f!=null&&l.push(Vl(n,f,p))),n=n.return}return l}function ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function n_(n,r,a,l,f){for(var p=r._reactName,_=[];a!==null&&a!==l;){var b=a,I=b.alternate,U=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||U===null||(I=U,f?(U=qs(a,p),U!=null&&_.unshift(Vl(a,U,I))):f||(U=qs(a,p),U!=null&&_.push(Vl(a,U,I)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var Pw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function i_(n){return(typeof n=="string"?n:""+n).replace(Pw,`
`).replace(Lw,"")}function r_(n,r){return r=i_(r),i_(n)===r}function Uc(){}function Ze(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Qn(n,""+l);break;case"className":Gr(n,"class",l);break;case"tabIndex":Gr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gr(n,a,l);break;case"style":Bu(n,l,p);break;case"data":if(r!=="object"){Gr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ri(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ri(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ri(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Fr(n,"popover",l);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Df.get(a)||a,Fr(n,a,l))}}function ap(n,r,a,l,f,p){switch(a){case"style":Bu(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&Qn(n,""+l);break;case"onScroll":l!=null&&Le("scroll",n);break;case"onScrollEnd":l!=null&&Le("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[xt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Fr(n,a,l)}}}function an(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var _=a[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,p,_,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":Le("invalid",n);var b=p=_=f=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":U=X;break;case"value":p=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(n,r,l,X,a,null)}}Hs(n,p,b,I,U,_,f,!1),Bs(n);return;case"select":Le("invalid",n),l=_=p=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":p=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(n,r,f,b,a,null)}r=p,a=_,n.multiple=!!l,r!=null?Fe(n,!!l,r,!1):a!=null&&Fe(n,!!l,a,!0);return;case"textarea":Le("invalid",n),p=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":p=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,r,_,b,a,null)}$r(n,l,f,p),Bs(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,r,I,l,a,null)}return;case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(l=0;l<kl.length;l++)Le(kl[l],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,U,l,a,null)}return;default:if(Wo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&ap(n,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(n,r,b,l,a,null))}function Uw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,b=null,I=null,U=null,X=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Y)||Ze(n,r,Y,null,l,J)}}for(var G in l){var Y=l[G];if(J=a[G],l.hasOwnProperty(G)&&(Y!=null||J!=null))switch(G){case"type":p=Y;break;case"name":f=Y;break;case"checked":U=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==J&&Ze(n,r,G,Y,l,J)}}Kr(n,_,b,I,U,X,p,f);return;case"select":Y=_=b=G=null;for(p in a)if(I=a[p],a.hasOwnProperty(p)&&I!=null)switch(p){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(p)||Ze(n,r,p,null,l,I)}for(f in l)if(p=l[f],I=a[f],l.hasOwnProperty(f)&&(p!=null||I!=null))switch(f){case"value":G=p;break;case"defaultValue":b=p;break;case"multiple":_=p;default:p!==I&&Ze(n,r,f,p,l,I)}r=b,a=_,l=Y,G!=null?Fe(n,!!a,G,!1):!!l!=!!a&&(r!=null?Fe(n,!!a,r,!0):Fe(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,r,b,null,l,f)}for(_ in l)if(f=l[_],p=a[_],l.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ze(n,r,_,f,l,p)}js(n,G,Y);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Ze(n,r,pe,null,l,G)}for(I in l)if(G=l[I],Y=a[I],l.hasOwnProperty(I)&&G!==Y&&(G!=null||Y!=null))switch(I){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(n,r,I,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&Ze(n,r,Ae,null,l,G);for(U in l)if(G=l[U],Y=a[U],l.hasOwnProperty(U)&&G!==Y&&(G!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Ze(n,r,U,G,l,Y)}return;default:if(Wo(r)){for(var vt in a)G=a[vt],a.hasOwnProperty(vt)&&G!==void 0&&!l.hasOwnProperty(vt)&&ap(n,r,vt,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||ap(n,r,X,G,l,Y);return}}for(var H in a)G=a[H],a.hasOwnProperty(H)&&G!=null&&!l.hasOwnProperty(H)&&Ze(n,r,H,null,l,G);for(J in l)G=l[J],Y=a[J],!l.hasOwnProperty(J)||G===Y||G==null&&Y==null||Ze(n,r,J,G,l,Y)}var op=null,lp=null;function zc(n){return n.nodeType===9?n:n.ownerDocument}function s_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function up(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cp=null;function zw(){var n=window.event;return n&&n.type==="popstate"?n===cp?!1:(cp=n,!0):(cp=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(n){return l_.resolve(null).then(n).catch(jw)}:o_;function jw(n){setTimeout(function(){throw n})}function hp(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),ql(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);ql(r)}function fp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fp(a),zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function qw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Hr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=mi(n.nextSibling),n===null)break}return null}function Fw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mi(n.nextSibling),n===null))return null;return n}function mi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function u_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function c_(n,r,a){switch(r=zc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var oi=new Map,h_=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Sr=le.d;le.d={f:Gw,r:Kw,D:$w,C:Qw,L:Yw,m:Xw,X:Zw,S:Ww,M:Jw};function Gw(){var n=Sr.f(),r=Mc();return n||r}function Kw(n){var r=tr(n);r!==null&&r.tag===5&&r.type==="form"?Uy(r):Sr.r(n)}var fo=typeof document>"u"?null:document;function f_(n,r,a){var l=fo;if(l&&typeof r=="string"&&r){var f=mt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),h_.has(f)||(h_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",n),ut(r),l.head.appendChild(r)))}}function $w(n){Sr.D(n),f_("dns-prefetch",n,null)}function Qw(n,r){Sr.C(n,r),f_("preconnect",n,r)}function Yw(n,r,a){Sr.L(n,r,a);var l=fo;if(l&&n&&r){var f='link[rel="preload"][as="'+mt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+mt(a.imageSizes)+'"]')):f+='[href="'+mt(n)+'"]';var p=f;switch(r){case"style":p=po(n);break;case"script":p=mo(n)}oi.has(p)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),oi.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Pl(p))||r==="script"&&l.querySelector(Ll(p))||(r=l.createElement("link"),an(r,"link",n),ut(r),l.head.appendChild(r)))}}function Xw(n,r){Sr.m(n,r);var a=fo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+mt(l)+'"][href="'+mt(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=mo(n)}if(!oi.has(p)&&(n=D({rel:"modulepreload",href:n},r),oi.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(p)))return}l=a.createElement("link"),an(l,"link",n),ut(l),a.head.appendChild(l)}}}function Ww(n,r,a){Sr.S(n,r,a);var l=fo;if(l&&n){var f=qr(l).hoistableStyles,p=po(n);r=r||"default";var _=f.get(p);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Pl(p)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=oi.get(p))&&dp(n,a);var I=_=l.createElement("link");ut(I),an(I,"link",n),I._p=new Promise(function(U,X){I.onload=U,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(p,_)}}}function Zw(n,r){Sr.X(n,r);var a=fo;if(a&&n){var l=qr(a).hoistableScripts,f=mo(n),p=l.get(f);p||(p=a.querySelector(Ll(f)),p||(n=D({src:n,async:!0},r),(r=oi.get(f))&&pp(n,r),p=a.createElement("script"),ut(p),an(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Jw(n,r){Sr.M(n,r);var a=fo;if(a&&n){var l=qr(a).hoistableScripts,f=mo(n),p=l.get(f);p||(p=a.querySelector(Ll(f)),p||(n=D({src:n,async:!0,type:"module"},r),(r=oi.get(f))&&pp(n,r),p=a.createElement("script"),ut(p),an(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function d_(n,r,a,l){var f=(f=It.current)?Bc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=po(a.href),a=qr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=po(a.href);var p=qr(f).hoistableStyles,_=p.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=f.querySelector(Pl(n)))&&!p._p&&(_.instance=p,_.state.loading=5),oi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oi.set(n,a),p||eA(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=mo(a),a=qr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function po(n){return'href="'+mt(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function p_(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function eA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),ut(r),n.head.appendChild(r))}function mo(n){return'[src="'+mt(n)+'"]'}function Ll(n){return"script[async]"+n}function m_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+mt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),an(l,"style",f),Hc(l,a.precedence,n),r.instance=l;case"stylesheet":f=po(a.href);var p=n.querySelector(Pl(f));if(p)return r.state.loading|=4,r.instance=p,ut(p),p;l=p_(a),(f=oi.get(f))&&dp(l,f),p=(n.ownerDocument||n).createElement("link"),ut(p);var _=p;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),an(p,"link",l),r.state.loading|=4,Hc(p,a.precedence,n),r.instance=p;case"script":return p=mo(a.src),(f=n.querySelector(Ll(p)))?(r.instance=f,ut(f),f):(l=a,(f=oi.get(p))&&(l=D({},a),pp(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),an(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hc(l,a.precedence,n));return r.instance}function Hc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)p=b;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function dp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function pp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var jc=null;function g_(n,r,a){if(jc===null){var l=new Map,f=jc=new Map;f.set(a,l)}else f=jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[Hr]||p[pt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=n+_;var b=l.get(_);b?b.push(p):l.set(_,[p])}}return l}function y_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function tA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function v_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function nA(){}function iA(n,r,a){if(Ul===null)throw Error(s(475));var l=Ul;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=po(a.href),p=n.querySelector(Pl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=qc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=p,ut(p);return}p=n.ownerDocument||n,a=p_(a),(f=oi.get(f))&&dp(a,f),p=p.createElement("link"),ut(p);var _=p;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),an(p,"link",a),r.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=qc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function rA(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&mp(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&mp(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Fc=null;function mp(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Fc=new Map,r.forEach(sA,n),Fc=null,qc.call(n))}function sA(n,r){if(!(r.state.loading&4)){var a=Fc.get(n);if(a)var l=a.get(null);else{a=new Map,Fc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),p=a.get(_)||l,p===l&&a.set(null,f),a.set(_,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var zl={$$typeof:C,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function aA(n,r,a,l,f,p,_,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function __(n,r,a,l,f,p,_,b,I,U,X,J){return n=new aA(n,r,a,_,b,I,U,J),r=1,p===!0&&(r|=24),p=si(3,null,null,r),n.current=p,p.stateNode=n,r=$f(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},Cd(p),n}function E_(n){return n?(n=Ka,n):Ka}function T_(n,r,a,l,f,p){f=E_(f),l.context===null?l.context=f:l.pendingContext=f,l=ns(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=is(n,l,r),a!==null&&(An(a,n,r),bl(a,n,r))}function b_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gp(n,r){b_(n,r),(n=n.alternate)&&b_(n,r)}function S_(n){if(n.tag===13){var r=Yr(n,67108864);r!==null&&An(r,n,67108864),gp(n,67108864)}}var Gc=!0;function oA(n,r,a,l){var f=A.T;A.T=null;var p=le.p;try{le.p=2,yp(n,r,a,l)}finally{le.p=p,A.T=f}}function lA(n,r,a,l){var f=A.T;A.T=null;var p=le.p;try{le.p=8,yp(n,r,a,l)}finally{le.p=p,A.T=f}}function yp(n,r,a,l){if(Gc){var f=vp(l);if(f===null)sp(n,r,l,Kc,a),A_(n,l);else if(cA(f,n,r,a,l))l.stopPropagation();else if(A_(n,l),r&4&&-1<uA.indexOf(n)){for(;f!==null;){var p=tr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=ot(p.pendingLanes);if(_!==0){var b=p;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-Jt(_);b.entanglements[1]|=I,_&=~I}Li(p),(ht&6)===0&&(Dc=Zt()+500,xl(0))}}break;case 13:b=Yr(p,2),b!==null&&An(b,p,2),Mc(),gp(p,2)}if(p=vp(l),p===null&&sp(n,r,l,Kc,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else sp(n,r,l,null,a)}}function vp(n){return n=ka(n),_p(n)}var Kc=null;function _p(n){if(Kc=null,n=hi(n),n!==null){var r=de(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Oe(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Kc=n,null}function w_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ca()){case Et:return 2;case st:return 8;case fn:case Ei:return 32;case zr:return 268435456;default:return 32}default:return 32}}var Ep=!1,cs=null,hs=null,fs=null,Bl=new Map,Hl=new Map,ds=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(n,r){switch(n){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function jl(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=tr(r),r!==null&&S_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function cA(n,r,a,l,f){switch(r){case"focusin":return cs=jl(cs,n,r,a,l,f),!0;case"dragenter":return hs=jl(hs,n,r,a,l,f),!0;case"mouseover":return fs=jl(fs,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Bl.set(p,jl(Bl.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Hl.set(p,jl(Hl.get(p)||null,n,r,a,l,f)),!0}return!1}function R_(n){var r=hi(n.target);if(r!==null){var a=de(r);if(a!==null){if(r=a.tag,r===13){if(r=Oe(a),r!==null){n.blockedOn=r,tn(n.priority,function(){if(a.tag===13){var l=Hn(),f=Yr(a,l);f!==null&&An(f,a,l),gp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=vp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Yn=l,a.target.dispatchEvent(l),Yn=null}else return r=tr(a),r!==null&&S_(r),n.blockedOn=a,!1;r.shift()}return!0}function C_(n,r,a){$c(n)&&a.delete(r)}function hA(){Ep=!1,cs!==null&&$c(cs)&&(cs=null),hs!==null&&$c(hs)&&(hs=null),fs!==null&&$c(fs)&&(fs=null),Bl.forEach(C_),Hl.forEach(C_)}function Qc(n,r){n.blockedOn===r&&(n.blockedOn=null,Ep||(Ep=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hA)))}var Yc=null;function I_(n){Yc!==n&&(Yc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(_p(l||a)===null)continue;break}var p=tr(a);p!==null&&(n.splice(r,3),r-=3,ud(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ql(n){function r(I){return Qc(I,n)}cs!==null&&Qc(cs,n),hs!==null&&Qc(hs,n),fs!==null&&Qc(fs,n),Bl.forEach(r),Hl.forEach(r);for(var a=0;a<ds.length;a++){var l=ds[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ds.length&&(a=ds[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&ds.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],_=f[xt]||null;if(typeof p=="function")_||I_(a);else if(_){var b=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[xt]||null)b=_.formAction;else if(_p(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),I_(a)}}}function Tp(n){this._internalRoot=n}Xc.prototype.render=Tp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Hn();T_(a,l,n,r,null,null)},Xc.prototype.unmount=Tp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&uo(),T_(n.current,2,null,n,null,null),Mc(),r[er]=null}};function Xc(n){this._internalRoot=n}Xc.prototype.unstable_scheduleHydration=function(n){if(n){var r=wi();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ds.length&&r!==0&&r<ds[a].priority;a++);ds.splice(a,0,n),a===0&&R_(n)}};var D_=e.version;if(D_!=="19.0.0")throw Error(s(527,D_,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ee(r),n=n!==null?ue(n):null,n=n===null?null:n.stateNode,n};var fA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:hi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{bi=Wc.inject(fA),qt=Wc}catch{}}return Gl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Ky,p=$y,_=Qy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=__(n,1,!1,null,null,a,l,f,p,_,b,null),n[er]=r.current,rp(n.nodeType===8?n.parentNode:n),new Tp(r)},Gl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=Ky,_=$y,b=Qy,I=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=__(n,1,!0,r,a??null,l,f,p,_,b,I,U),r.context=E_(null),a=r.current,l=Hn(),f=ns(l),f.callback=null,is(a,f,l),r.current.lanes=l,Ne(r,l),Li(r),n[er]=r.current,rp(n),new Xc(r)},Gl.version="19.0.0",Gl}var z_;function bA(){if(z_)return wp.exports;z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wp.exports=TA(),wp.exports}var SA=bA(),Kl={},B_;function wA(){if(B_)return Kl;B_=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=h,Kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,C){const x=new u,z=w.length;if(z<2)return x;const V=(C==null?void 0:C.decode)||E;let F=0;do{const Q=w.indexOf("=",F);if(Q===-1)break;const $=w.indexOf(";",F),ne=$===-1?z:$;if(Q>ne){F=w.lastIndexOf(";",Q-1)+1;continue}const ie=d(w,F,Q),oe=m(w,Q,ie),M=w.slice(ie,oe);if(x[M]===void 0){let R=d(w,Q+1,ne),A=m(w,ne,R);const D=V(w.slice(R,A));x[M]=D}F=ne+1}while(F<z);return x}function d(w,C,x){do{const z=w.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<x);return x}function m(w,C,x){for(;C>x;){const z=w.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return x}function g(w,C,x){const z=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=z(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let F=w+"="+V;if(!x)return F;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);F+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);F+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);F+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);F+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(F+="; HttpOnly"),x.secure&&(F+="; Secure"),x.partitioned&&(F+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return F}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return Kl}wA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H_="popstate";function AA(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Kp("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:uu(o)}return CA(e,t,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RA(){return Math.random().toString(36).substring(2,10)}function j_(i,e){return{usr:i.state,key:i.key,idx:e}}function Kp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:t,key:e&&e.key||s||RA()}}function uu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ko(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function CA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",m=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let V=E(),F=V==null?null:V-g;g=V,m&&m({action:d,location:z.location,delta:F})}function w(V,F){d="PUSH";let Q=Kp(z.location,V,F);g=E()+1;let $=j_(Q,g),ne=z.createHref(Q);try{h.pushState($,"",ne)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ne)}u&&m&&m({action:d,location:z.location,delta:1})}function C(V,F){d="REPLACE";let Q=Kp(z.location,V,F);g=E();let $=j_(Q,g),ne=z.createHref(Q);h.replaceState($,"",ne),u&&m&&m({action:d,location:z.location,delta:0})}function x(V){let F=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof V=="string"?V:uu(V);return Q=Q.replace(/ $/,"%20"),ft(F,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,F)}let z={get action(){return d},get location(){return i(o,h)},listen(V){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(H_,T),m=V,()=>{o.removeEventListener(H_,T),m=null}},createHref(V){return e(o,V)},createURL:x,encodeLocation(V){let F=x(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:C,go(V){return h.go(V)}};return z}function PT(i,e,t="/"){return IA(i,e,t,!1)}function IA(i,e,t,s){let o=typeof e=="string"?ko(e):e,u=Dr(o.pathname||"/",t);if(u==null)return null;let h=LT(i);DA(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=BA(u);d=UA(h[m],g,s)}return d}function LT(i,e=[],t=[],s=""){let o=(u,h,d)=>{let m={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=Cr([s,m.relativePath]),E=t.concat(m);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),LT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:PA(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of UT(u.path))o(u,h,m)}),e}function UT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=UT(s.join("/")),d=[];return d.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...h),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function DA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:LA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var OA=/^:[\w-]+$/,NA=3,MA=2,xA=1,kA=10,VA=-2,q_=i=>i==="*";function PA(i,e){let t=i.split("/"),s=t.length;return t.some(q_)&&(s+=VA),e&&(s+=MA),t.filter(o=>!q_(o)).reduce((o,u)=>o+(OA.test(u)?NA:u===""?xA:kA),s)}function LA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function UA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),w=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Cr([u,T.pathname]),pathnameBase:FA(Cr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=Cr([u,T.pathnameBase]))}return h}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=zA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let x=d[w]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const C=d[w];return T&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function zA(i,e=!1,t=!0){Fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function BA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function HA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ko(i):i;return{pathname:t?t.startsWith("/")?t:jA(t,e):e,search:GA(s),hash:KA(o)}}function jA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ip(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zT(i){let e=qA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function BT(i,e,t,s=!1){let o;typeof i=="string"?o=ko(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Ip("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Ip("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Ip("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let m=HA(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var Cr=i=>i.join("/").replace(/\/\/+/g,"/"),FA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),GA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,KA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function $A(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var QA=["GET",...HT];new Set(QA);var Vo=O.createContext(null);Vo.displayName="DataRouter";var Yh=O.createContext(null);Yh.displayName="DataRouterState";var jT=O.createContext({isTransitioning:!1});jT.displayName="ViewTransition";var YA=O.createContext(new Map);YA.displayName="Fetchers";var XA=O.createContext(null);XA.displayName="Await";var Yi=O.createContext(null);Yi.displayName="Navigation";var bu=O.createContext(null);bu.displayName="Location";var Vr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Am=O.createContext(null);Am.displayName="RouteError";function WA(i,{relative:e}={}){ft(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=O.useContext(Yi),{hash:o,pathname:u,search:h}=wu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Cr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Su(){return O.useContext(bu)!=null}function ba(){return ft(Su(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(bu).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FT(i){O.useContext(Yi).static||O.useLayoutEffect(i)}function Xh(){let{isDataRoute:i}=O.useContext(Vr);return i?cR():ZA()}function ZA(){ft(Su(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Vo),{basename:e,navigator:t}=O.useContext(Yi),{matches:s}=O.useContext(Vr),{pathname:o}=ba(),u=JSON.stringify(zT(s)),h=O.useRef(!1);return FT(()=>{h.current=!0}),O.useCallback((m,g={})=>{if(Fi(h.current,qT),!h.current)return;if(typeof m=="number"){t.go(m);return}let E=BT(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Cr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}O.createContext(null);function wu(i,{relative:e}={}){let{matches:t}=O.useContext(Vr),{pathname:s}=ba(),o=JSON.stringify(zT(t));return O.useMemo(()=>BT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function JA(i,e){return GT(i,e)}function GT(i,e,t,s){var Q;ft(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=O.useContext(Yi),{matches:h}=O.useContext(Vr),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";KT(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=ba(),C;if(e){let $=typeof e=="string"?ko(e):e;ft(E==="/"||((Q=$.pathname)==null?void 0:Q.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),C=$}else C=w;let x=C.pathname||"/",z=x;if(E!=="/"){let $=E.replace(/^\//,"").split("/");z="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let V=!u&&t&&t.matches&&t.matches.length>0?t.matches:PT(i,{pathname:z});Fi(T||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Fi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=rR(V&&V.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Cr([E,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:Cr([E,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,t,s);return e&&F?O.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function eR(){let i=uR(),e=$A(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,h)}var tR=O.createElement(eR,null),nR=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?O.createElement(Vr.Provider,{value:this.props.routeContext},O.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iR({routeContext:i,match:e,children:t}){let s=O.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Vr.Provider,{value:i},t)}function rR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:E,errors:T}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let T,w=!1,C=null,x=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||tR,h&&(d<0&&E===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):d===E&&(w=!0,x=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),V=()=>{let F;return T?F=C:w?F=x:g.route.Component?F=O.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=m,O.createElement(iR,{match:g,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:F})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?O.createElement(nR,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function Rm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sR(i){let e=O.useContext(Vo);return ft(e,Rm(i)),e}function aR(i){let e=O.useContext(Yh);return ft(e,Rm(i)),e}function oR(i){let e=O.useContext(Vr);return ft(e,Rm(i)),e}function Cm(i){let e=oR(i),t=e.matches[e.matches.length-1];return ft(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function lR(){return Cm("useRouteId")}function uR(){var s;let i=O.useContext(Am),e=aR("useRouteError"),t=Cm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function cR(){let{router:i}=sR("useNavigate"),e=Cm("useNavigate"),t=O.useRef(!1);return FT(()=>{t.current=!0}),O.useCallback(async(o,u={})=>{Fi(t.current,qT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var F_={};function KT(i,e,t){!e&&!F_[i]&&(F_[i]=!0,Fi(!1,t))}O.memo(hR);function hR({routes:i,future:e,state:t}){return GT(i,void 0,t,e)}function uh(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ft(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ko(t));let{pathname:m="/",search:g="",hash:E="",state:T=null,key:w="default"}=t,C=O.useMemo(()=>{let x=Dr(m,h);return x==null?null:{location:{pathname:x,search:g,hash:E,state:T,key:w},navigationType:s}},[h,m,g,E,T,w,s]);return Fi(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:O.createElement(Yi.Provider,{value:d},O.createElement(bu.Provider,{children:e,value:C}))}function dR({children:i,location:e}){return JA($p(i),e)}function $p(i,e=[]){let t=[];return O.Children.forEach(i,(s,o)=>{if(!O.isValidElement(s))return;let u=[...e,o];if(s.type===O.Fragment){t.push.apply(t,$p(s.props.children,u));return}ft(s.type===uh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=$p(s.props.children,u)),t.push(h)}),t}var ch="get",hh="application/x-www-form-urlencoded";function Wh(i){return i!=null&&typeof i.tagName=="string"}function pR(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function mR(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function gR(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function yR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vR(i,e){return i.button===0&&(!e||e==="_self")&&!yR(i)}var Zc=null;function _R(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var ER=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dp(i){return i!=null&&!ER.has(i)?(Fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):i}function TR(i,e){let t,s,o,u,h;if(mR(i)){let d=i.getAttribute("action");s=d?Dr(d,e):null,t=i.getAttribute("method")||ch,o=Dp(i.getAttribute("enctype"))||hh,u=new FormData(i)}else if(pR(i)||gR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?Dr(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||ch,o=Dp(i.getAttribute("formenctype"))||Dp(d.getAttribute("enctype"))||hh,u=new FormData(d,i),!_R()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ch,s=null,o=hh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Im(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function bR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function wR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await bR(u,t);return h.links?h.links():[]}return[]}));return IR(s.flat(1).filter(SR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(i,e,t,s,o,u){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var E;return t[g].pathname!==m.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{var T;let E=s.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function AR(i,e,{includeHydrateFallback:t}={}){return RR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RR(i){return[...new Set(i)]}function CR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function IR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(CR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function DR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Dr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $T(){let i=O.useContext(Vo);return Im(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OR(){let i=O.useContext(Yh);return Im(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dm=O.createContext(void 0);Dm.displayName="FrameworkContext";function QT(){let i=O.useContext(Dm);return Im(i,"You must render this element inside a <HydratedRouter> element"),i}function NR(i,e){let t=O.useContext(Dm),[s,o]=O.useState(!1),[u,h]=O.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=F=>{F.forEach(Q=>{h(Q.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),O.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let C=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(d,C),onBlur:$l(m,x),onMouseEnter:$l(g,C),onMouseLeave:$l(E,x),onTouchStart:$l(T,C)}]:[!1,w,{}]}function $l(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function MR({page:i,...e}){let{router:t}=$T(),s=O.useMemo(()=>PT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?O.createElement(kR,{page:i,matches:s,...e}):null}function xR(i){let{manifest:e,routeModules:t}=QT(),[s,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return wR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function kR({page:i,matches:e,...t}){let s=ba(),{manifest:o,routeModules:u}=QT(),{basename:h}=$T(),{loaderData:d,matches:m}=OR(),g=O.useMemo(()=>G_(i,e,m,o,s,"data"),[i,e,m,o,s]),E=O.useMemo(()=>G_(i,e,m,o,s,"assets"),[i,e,m,o,s]),T=O.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,z=!1;if(e.forEach(F=>{var $;let Q=o.routes[F.route.id];!Q||!Q.hasLoader||(!g.some(ne=>ne.route.id===F.route.id)&&F.route.id in d&&(($=u[F.route.id])!=null&&$.shouldRevalidate)||Q.hasClientLoader?z=!0:x.add(F.route.id))}),x.size===0)return[];let V=DR(i,h);return z&&x.size>0&&V.searchParams.set("_routes",e.filter(F=>x.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[h,d,s,o,g,e,i,u]),w=O.useMemo(()=>AR(E,o),[E,o]),C=xR(E);return O.createElement(O.Fragment,null,T.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),w.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),C.map(({key:x,link:z})=>O.createElement("link",{key:x,...z})))}function VR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.3.0")}catch{}function PR({basename:i,children:e,window:t}){let s=O.useRef();s.current==null&&(s.current=AA({window:t,v5Compat:!0}));let o=s.current,[u,h]=O.useState({action:o.action,location:o.location}),d=O.useCallback(m=>{O.startTransition(()=>h(m))},[h]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(fR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zh=O.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:m,to:g,preventScrollReset:E,viewTransition:T,...w},C){let{basename:x}=O.useContext(Yi),z=typeof g=="string"&&XT.test(g),V,F=!1;if(typeof g=="string"&&z&&(V=g,YT))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),k=Dr(D.pathname,x);D.origin===A.origin&&k!=null?g=k+D.search+D.hash:F=!0}catch{Fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=WA(g,{relative:o}),[$,ne,ie]=NR(s,w),oe=BR(g,{replace:h,state:d,target:m,preventScrollReset:E,relative:o,viewTransition:T});function M(A){e&&e(A),A.defaultPrevented||oe(A)}let R=O.createElement("a",{...w,...ie,href:V||Q,onClick:F||u?e:M,ref:VR(C,ne),target:m,"data-discover":!z&&t==="render"?"true":void 0});return $&&!z?O.createElement(O.Fragment,null,R,O.createElement(MR,{page:Q})):R});Zh.displayName="Link";var LR=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:m,...g},E){let T=wu(h,{relative:g.relative}),w=ba(),C=O.useContext(Yh),{navigator:x,basename:z}=O.useContext(Yi),V=C!=null&&GR(T)&&d===!0,F=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,Q=w.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),$=$?$.toLowerCase():null,F=F.toLowerCase()),$&&z&&($=Dr($,z)||$);const ne=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ie=Q===F||!o&&Q.startsWith(F)&&Q.charAt(ne)==="/",oe=$!=null&&($===F||!o&&$.startsWith(F)&&$.charAt(F.length)==="/"),M={isActive:ie,isPending:oe,isTransitioning:V},R=ie?e:void 0,A;typeof s=="function"?A=s(M):A=[s,ie?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(M):u;return O.createElement(Zh,{...g,"aria-current":R,className:A,ref:E,style:D,to:h,viewTransition:d},typeof m=="function"?m(M):m)});LR.displayName="NavLink";var UR=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ch,action:d,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:T,...w},C)=>{let x=qR(),z=FR(d,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&XT.test(d),Q=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let ne=$.nativeEvent.submitter,ie=(ne==null?void 0:ne.getAttribute("formmethod"))||h;x(ne||$.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return O.createElement("form",{ref:C,method:V,action:z,onSubmit:s?m:Q,...w,"data-discover":!F&&i==="render"?"true":void 0})});UR.displayName="Form";function zR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(i){let e=O.useContext(Vo);return ft(e,zR(i)),e}function BR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Xh(),m=ba(),g=wu(i,{relative:u});return O.useCallback(E=>{if(vR(E,e)){E.preventDefault();let T=t!==void 0?t:uu(m)===uu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[m,d,g,t,s,e,i,o,u,h])}var HR=0,jR=()=>`__${String(++HR)}__`;function qR(){let{router:i}=WT("useSubmit"),{basename:e}=O.useContext(Yi),t=lR();return O.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:m,body:g}=TR(s,e);if(o.navigate===!1){let E=o.fetcherKey||jR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function FR(i,{relative:e}={}){let{basename:t}=O.useContext(Yi),s=O.useContext(Vr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(i||".",{relative:e})},h=ba();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(E=>E==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Cr([t,u.pathname])),uu(u)}function GR(i,e={}){let t=O.useContext(jT);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WT("useViewTransitionState"),o=wu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Dr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Dr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}new TextEncoder;var Ql=VT();const KR=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$R=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,C=g&63;m||(C=64,h||(w=64)),s.push(t[E],t[T],t[w],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ZT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$R(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new QR;const w=u<<2|d>>4;if(s.push(w),g!==64){const C=d<<4&240|g>>2;if(s.push(C),T!==64){const x=g<<6&192|T;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YR=function(i){const e=ZT(i);return JT.encodeByteArray(e,!0)},wh=function(i){return YR(i).replace(/\./g,"")},e0=function(i){try{return JT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=()=>XR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof K_>"u")return;const i=K_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},JR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&e0(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return KR()||WR()||ZR()||JR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},t0=i=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},n0=i=>{const e=t0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},i0=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},r0=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[wh(JSON.stringify(t)),wh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function nC(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const i=_n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function oC(){return!nC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class Xi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=cC,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?hC(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Xi(o,d,s)}}function hC(i,e){return i.replace(fC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fC=/\{\$([^}]+)}/g;function dC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ga(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if($_(u)&&$_(h)){if(!ga(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function $_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Xl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function pC(i,e){const t=new mC(i,e);return t.subscribe.bind(t)}class mC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");gC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Op),o.error===void 0&&(o.error=Op),o.complete===void 0&&(o.complete=Op);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i){return i&&i._delegate?i._delegate:i}class Cs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new eC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_C(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(i){return i===pa?void 0:i}function _C(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const TC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},bC=Ve.INFO,SC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},wC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=SC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=bC,this._logHandler=wC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const AC=(i,e)=>e.some(t=>i instanceof t);let Q_,Y_;function RC(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CC(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Qp=new WeakMap,o0=new WeakMap,Np=new WeakMap,Nm=new WeakMap;function IC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(bs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&a0.set(t,i)}).catch(()=>{}),Nm.set(e,i),e}function DC(i){if(Qp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Qp.set(i,e)}let Yp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Qp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||o0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function OC(i){Yp=i(Yp)}function NC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Mp(this),e,...t);return o0.set(s,e.sort?e.sort():[e]),bs(s)}:CC().includes(i)?function(...e){return i.apply(Mp(this),e),bs(a0.get(this))}:function(...e){return bs(i.apply(Mp(this),e))}}function MC(i){return typeof i=="function"?NC(i):(i instanceof IDBTransaction&&DC(i),AC(i,RC())?new Proxy(i,Yp):i)}function bs(i){if(i instanceof IDBRequest)return IC(i);if(Np.has(i))return Np.get(i);const e=MC(i);return e!==i&&(Np.set(i,e),Nm.set(e,i)),e}const Mp=i=>Nm.get(i);function xC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=bs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(bs(h.result),m.oldVersion,m.newVersion,bs(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const kC=["get","getKey","getAll","getAllKeys","count"],VC=["put","add","delete","clear"],xp=new Map;function X_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=VC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(t)))return;const u=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return xp.set(e,u),u}OC(i=>({...i,get:(e,t,s)=>X_(e,t)||i.get(e,t,s),has:(e,t)=>!!X_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function LC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",W_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Om("@firebase/app"),UC="@firebase/app-compat",zC="@firebase/analytics-compat",BC="@firebase/analytics",HC="@firebase/app-check-compat",jC="@firebase/app-check",qC="@firebase/auth",FC="@firebase/auth-compat",GC="@firebase/database",KC="@firebase/data-connect",$C="@firebase/database-compat",QC="@firebase/functions",YC="@firebase/functions-compat",XC="@firebase/installations",WC="@firebase/installations-compat",ZC="@firebase/messaging",JC="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",iI="@firebase/remote-config-compat",rI="@firebase/storage",sI="@firebase/storage-compat",aI="@firebase/firestore",oI="@firebase/vertexai",lI="@firebase/firestore-compat",uI="firebase",cI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",hI={[Xp]:"fire-core",[UC]:"fire-core-compat",[BC]:"fire-analytics",[zC]:"fire-analytics-compat",[jC]:"fire-app-check",[HC]:"fire-app-check-compat",[qC]:"fire-auth",[FC]:"fire-auth-compat",[GC]:"fire-rtdb",[KC]:"fire-data-connect",[$C]:"fire-rtdb-compat",[QC]:"fire-fn",[YC]:"fire-fn-compat",[XC]:"fire-iid",[WC]:"fire-iid-compat",[ZC]:"fire-fcm",[JC]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[iI]:"fire-rc-compat",[rI]:"fire-gcs",[sI]:"fire-gcs-compat",[aI]:"fire-fst",[lI]:"fire-fst-compat",[oI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,fI=new Map,Zp=new Map;function Z_(i,e){try{i.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ya(i){const e=i.name;if(Zp.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,i);for(const t of Ah.values())Z_(t,i);for(const t of fI.values())Z_(t,i);return!0}function ef(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Au("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=cI;function l0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=i0()),!t)throw Ss.create("no-options");const u=Ah.get(o);if(u){if(ga(t,u.options)&&ga(s,u.config))return u;throw Ss.create("duplicate-app",{appName:o})}const h=new EC(o);for(const m of Zp.values())h.addComponent(m);const d=new pI(t,s,h);return Ah.set(o,d),d}function Mm(i=Wp){const e=Ah.get(i);if(!e&&i===Wp&&i0())return l0();if(!e)throw Ss.create("no-app",{appName:i});return e}function zi(i,e,t){var s;let o=(s=hI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(d.join(" "));return}ya(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",gI=1,cu="firebase-heartbeat-store";let kp=null;function u0(){return kp||(kp=xC(mI,gI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Ss.create("idb-open",{originalErrorMessage:i.message})})),kp}async function yI(i){try{const t=(await u0()).transaction(cu),s=await t.objectStore(cu).get(c0(i));return await t.done,s}catch(e){if(e instanceof Xi)Or.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(t.message)}}}async function J_(i,e){try{const s=(await u0()).transaction(cu,"readwrite");await s.objectStore(cu).put(e,c0(i)),await s.done}catch(t){if(t instanceof Xi)Or.warn(t.message);else{const s=Ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Or.warn(s.message)}}}function c0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,_I=30;class EI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_I){const h=SI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:s,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),u=wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Or.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function TI(i,e=vI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),tE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return J_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tE(i){return wh(JSON.stringify({version:2,heartbeats:i})).length}function SI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){ya(new Cs("platform-logger",e=>new PC(e),"PRIVATE")),ya(new Cs("heartbeat",e=>new EI(e),"PRIVATE")),zi(Xp,W_,i),zi(Xp,W_,"esm2017"),zi("fire-js","")}wI("");var AI="firebase",RI="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(AI,RI,"app");function xm(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CI=h0,f0=new Au("auth","Firebase",h0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Om("@firebase/auth");function II(i,...e){Rh.logLevel<=Ve.WARN&&Rh.warn(`Auth (${Sa}): ${i}`,...e)}function fh(i,...e){Rh.logLevel<=Ve.ERROR&&Rh.error(`Auth (${Sa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(i,...e){throw km(i,...e)}function Bi(i,...e){return km(i,...e)}function d0(i,e,t){const s=Object.assign(Object.assign({},CI()),{[e]:t});return new Au("auth","Firebase",s).create(e,{appName:i.name})}function Ir(i){return d0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return f0.create(i,...e)}function Te(i,e,...t){if(!i)throw km(e,...t)}function wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function Nr(i,e){i||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function DI(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DI()||rC()||"connection"in navigator)?navigator.onLine:!0}function NI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nr(t>e,"Short delay should be less than long delay!"),this.isMobile=tC()||sC()}get(){return OI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(i,e){Nr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Cu(3e4,6e4);function ks(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Vs(i,e,t,s,o={}){return m0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Ru(Object.assign({key:i.config.apiKey},h)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},u);return iC()||(g.referrerPolicy="no-referrer"),p0.fetch()(g0(i,i.config.apiHost,t,d),g)})}async function m0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},MI),e);try{const o=new VI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",h);if(m==="USER_DISABLED")throw Jc(i,"user-disabled",h);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw d0(i,E,g);yi(i,E)}}catch(o){if(o instanceof Xi)throw o;yi(i,"network-request-failed",{message:String(o)})}}async function Iu(i,e,t,s,o={}){const u=await Vs(i,e,t,s,o);return"mfaPendingCredential"in u&&yi(i,"multi-factor-auth-required",{_serverResponse:u}),u}function g0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Vm(i.config,o):`${i.config.apiScheme}://${o}`}function kI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Bi(this.auth,"network-request-failed")),xI.get())})}}function Jc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Bi(i,e,s);return o.customData._tokenResponse=t,o}function iE(i){return i!==void 0&&i.enterprise!==void 0}class PI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LI(i,e){return Vs(i,"GET","/v2/recaptchaConfig",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(i,e){return Vs(i,"POST","/v1/accounts:delete",e)}async function y0(i,e){return Vs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zI(i,e=!1){const t=En(i),s=await t.getIdToken(e),o=Pm(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Vp(o.auth_time)),issuedAtTime:eu(Vp(o.iat)),expirationTime:eu(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Vp(i){return Number(i)*1e3}function Pm(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=e0(t);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(i){const e=Pm(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Xi&&BI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function BI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){var e;const t=i.auth,s=await i.getIdToken(),o=await hu(i,y0(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?v0(u.providerUserInfo):[],d=qI(i.providerData,h),m=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=m?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new em(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function jI(i){const e=En(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function v0(i){return i.map(e=>{var{providerId:t}=e,s=xm(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i,e){const t=await m0(i,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=g0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",p0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GI(i,e){return Vs(i,"POST","/v2/accounts:revokeToken",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await FI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new bo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new em(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await hu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Ir(this.auth));const e=await this.getIdToken();return await hu(this,UI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,m,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,C=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,F=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:ne,isAnonymous:ie,providerData:oe,stsTokenManager:M}=t;Te($&&M,e,"internal-error");const R=bo.fromJSON(this.name,M);Te(typeof $=="string",e,"internal-error"),ms(T,e.name),ms(w,e.name),Te(typeof ne=="boolean",e,"internal-error"),Te(typeof ie=="boolean",e,"internal-error"),ms(C,e.name),ms(x,e.name),ms(z,e.name),ms(V,e.name),ms(F,e.name),ms(Q,e.name);const A=new Ar({uid:$,auth:e,email:w,emailVerified:ne,displayName:T,isAnonymous:ie,photoURL:x,phoneNumber:C,tenantId:z,stsTokenManager:R,createdAt:F,lastLoginAt:Q});return oe&&Array.isArray(oe)&&(A.providerData=oe.map(D=>Object.assign({},D))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const u=new Ar({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?v0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new bo;d.updateFromIdToken(s);const m=new Ar({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Rr(i){Nr(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(Nr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_0.type="NONE";const aE=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(Rr(aE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Rr(aE);const h=dh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const T=Ar._fromJSON(e,E);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new So(u,e,s):(u=m[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new So(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A0(e))return"Blackberry";if(R0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function E0(i=_n()){return/firefox\//i.test(i)}function T0(i=_n()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(i=_n()){return/crios\//i.test(i)}function S0(i=_n()){return/iemobile/i.test(i)}function w0(i=_n()){return/android/i.test(i)}function A0(i=_n()){return/blackberry/i.test(i)}function R0(i=_n()){return/webos/i.test(i)}function Lm(i=_n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function KI(i=_n()){var e;return Lm(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $I(){return aC()&&document.documentMode===10}function C0(i=_n()){return Lm(i)||w0(i)||R0(i)||A0(i)||/windows phone/i.test(i)||S0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i,e=[]){let t;switch(i){case"Browser":t=oE(_n());break;case"Worker":t=`${oE(_n())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const m=e(u);h(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(i,e={}){return Vs(i,"GET","/v2/passwordPolicy",ks(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class WI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:XI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new QI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await y0(this,{idToken:e}),s=await Ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Ir(this));const t=e?En(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),t=new WI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await GI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&II(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wa(i){return En(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JI(i){tf=i}function D0(i){return tf.loadJS(i)}function e1(){return tf.recaptchaEnterpriseScript}function t1(){return tf.gapiScript}function n1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class i1{constructor(){this.enterprise=new r1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class r1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const s1="recaptcha-enterprise",O0="NO_RECAPTCHA";class a1{constructor(e){this.type=s1,this.auth=wa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{LI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new PI(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,h,d){const m=window.grecaptcha;iE(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(O0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&iE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=e1();m.length!==0&&(m+=d),D0(m).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function uE(i,e,t,s=!1,o=!1){const u=new a1(i);let h;if(o)h=O0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function tm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await uE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await uE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i,e){const t=ef(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ga(u,e??{}))return o;yi(o,"already-initialized")}return t.initialize({options:e})}function l1(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function u1(i,e,t){const s=wa(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=N0(e),{host:h,port:d}=c1(e),m=d===null?"":`:${d}`,g={url:`${u}//${h}${m}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ga(g,s.config.emulator)&&ga(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,h1()}function N0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function c1(i){const e=N0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:cE(h)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function h1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function f1(i,e){return Vs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(i,e){return Iu(i,"POST","/v1/accounts:signInWithPassword",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",ks(i,e))}async function m1(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Um{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,t,"signInWithPassword",d1);case"emailLink":return p1(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tm(e,s,"signUpPassword",f1);case"emailLink":return m1(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e){return Iu(i,"POST","/v1/accounts:signInWithIdp",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="http://localhost";class va extends Um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xm(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new va(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:g1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v1(i){const e=Yl(Xl(i)).link,t=e?Yl(Xl(e)).deep_link_id:null,s=Yl(Xl(i)).deep_link_id;return(s?Yl(Xl(s)).link:null)||s||t||e||i}class zm{constructor(e){var t,s,o,u,h,d;const m=Yl(Xl(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,T=y1((o=m.mode)!==null&&o!==void 0?o:null);Te(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=v1(e);try{return new zm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=zm.parseLink(t);return Te(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Du{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Du{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Du{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Es.credential(t,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e){return Iu(i,"POST","/v1/accounts:signUp",ks(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Ar._fromIdTokenResponse(e,s,o),h=hE(s);return new _a({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new _a({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Xi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function x0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,u,e,s):u})}async function E1(i,e,t=!1){const s=await hu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return _a._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(Ir(s));const o="reauthenticate";try{const u=await hu(i,x0(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=Pm(u.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(i.uid===d,s,"user-mismatch"),_a._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(i,e,t=!1){if(jn(i.app))return Promise.reject(Ir(i));const s="signIn",o=await x0(i,s,e),u=await _a._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function b1(i,e){return k0(wa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(i){const e=wa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S1(i,e,t){if(jn(i.app))return Promise.reject(Ir(i));const s=wa(i),h=await tm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_1).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&V0(i),m}),d=await _a._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function w1(i,e,t){return jn(i.app)?Promise.reject(Ir(i)):b1(En(i),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&V0(i),s})}function A1(i,e,t,s){return En(i).onIdTokenChanged(e,t,s)}function R1(i,e,t){return En(i).beforeAuthStateChanged(e,t)}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e3,I1=10;class L0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);$I()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,I1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},C1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const D1=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}U0.type="SESSION";const z0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),m=await O1(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,m)=>{const g=Bm("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(E),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function M1(i){Hi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function x1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function V1(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebaseLocalStorageDb",P1=1,Oh="firebaseLocalStorage",j0="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function L1(){const i=indexedDB.deleteDatabase(H0);return new Ou(i).toPromise()}function nm(){const i=indexedDB.open(H0,P1);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:j0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await L1(),e(await nm()))})})}async function fE(i,e,t){const s=rf(i,!0).put({[j0]:e,value:t});return new Ou(s).toPromise()}async function U1(i,e){const t=rf(i,!1).get(e),s=await new Ou(t).toPromise();return s===void 0?null:s.value}function dE(i,e){const t=rf(i,!0).delete(e);return new Ou(t).toPromise()}const z1=800,B1=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>B1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(V1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x1(),!this.activeServiceWorker)return;this.sender=new N1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await fE(e,Dh,"1"),await dE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>U1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const H1=q0;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(i,e){return e?Rr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends Um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q1(i){return k0(i.auth,new Hm(i),i.bypassAuthState)}function F1(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),T1(t,new Hm(i),i.bypassAuthState)}async function G1(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),E1(t,new Hm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q1;case"linkViaPopup":case"linkViaRedirect":return G1;case"reauthViaPopup":case"reauthViaRedirect":return F1;default:yi(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Cu(2e3,1e4);class To extends F0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K1.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="pendingRedirect",ph=new Map;class Q1 extends F0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await Y1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y1(i,e){const t=Z1(e),s=W1(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function X1(i,e){ph.set(i._key(),e)}function W1(i){return Rr(i._redirectPersistence)}function Z1(i){return dh($1,i.config.apiKey,i.name)}async function J1(i,e,t=!1){if(jn(i.app))return Promise.reject(Ir(i));const s=wa(i),o=j1(s,e),h=await new Q1(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=10*60*1e3;class tD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!G0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function G0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(i,e={}){return Vs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sD=/^https?/;async function aD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await iD(i);for(const t of e)try{if(oD(t))return}catch{}yi(i,"unauthorized-domain")}function oD(i){const e=Jp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!sD.test(t))return!1;if(rD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Cu(3e4,6e4);function mE(){const i=Hi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function uD(i){return new Promise((e,t)=>{var s,o,u;function h(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),t(Bi(i,"network-request-failed"))},timeout:lD.get()})}if(!((o=(s=Hi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Hi().gapi)===null||u===void 0)&&u.load)h();else{const d=n1("iframefcb");return Hi()[d]=()=>{gapi.load?h():t(Bi(i,"network-request-failed"))},D0(`${t1()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw mh=null,e})}let mh=null;function cD(i){return mh=mh||uD(i),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Cu(5e3,15e3),fD="__/auth/iframe",dD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Vm(e,dD):`https://${i.config.authDomain}/${fD}`,s={apiKey:e.apiKey,appName:i.name,v:Sa},o=mD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Ru(s).slice(1)}`}async function yD(i){const e=await cD(i),t=Hi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:gD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Bi(i,"network-request-failed"),d=Hi().setTimeout(()=>{u(h)},hD.get());function m(){Hi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_D=500,ED=600,TD="_blank",bD="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SD(i,e,t,s=_D,o=ED){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},vD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=_n().toLowerCase();t&&(d=b0(g)?TD:t),E0(g)&&(e=e||bD,m.scrollbars="yes");const E=Object.entries(m).reduce((w,[C,x])=>`${w}${C}=${x},`,"");if(KI(g)&&d!=="_self")return wD(e||"",d),new gE(null);const T=window.open(e||"",d,E);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new gE(T)}function wD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="__/auth/handler",RD="emulator/auth/handler",CD=encodeURIComponent("fac");async function yE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Sa,eventId:o};if(e instanceof M0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",dC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const m=await i._getAppCheckToken(),g=m?`#${CD}=${encodeURIComponent(m)}`:"";return`${ID(i)}?${Ru(d).slice(1)}${g}`}function ID({config:i}){return i.emulator?Vm(i,RD):`https://${i.authDomain}/${AD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=J1,this._overrideRedirectResult=X1}async _openPopup(e,t,s,o){var u;Nr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await yE(e,t,s,Jp(),o);return SD(e,h,Bm())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await yE(e,t,s,Jp(),o);return M1(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await yD(e),s=new tD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Pp];h!==void 0&&t(!!h),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return C0()||T0()||Lm()}}const OD=DD;var vE="@firebase/auth",_E="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(i){ya(new Cs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(i)},g=new ZI(s,o,u,m);return l1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ya(new Cs("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(s=>new ND(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(vE,_E,MD(i)),zi(vE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,VD=r0("authIdTokenMaxAge")||kD;let EE=null;const PD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>VD)return;const o=t==null?void 0:t.token;EE!==o&&(EE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LD(i=Mm()){const e=ef(i,"auth");if(e.isInitialized())return e.getImmediate();const t=o1(i,{popupRedirectResolver:OD,persistence:[H1,D1,z0]}),s=r0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=PD(u.toString());R1(t,h,()=>h(t.currentUser)),A1(t,d=>h(d))}}const o=t0("auth");return o&&u1(t,`http://${o}`),t}function UD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}JI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Bi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",UD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,K0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,k,B){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return R.prototype[k].apply(D,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)D[k]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(k=0;16>k;++k)D[k]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],k=M.g[2];var B=M.g[3],N=R+(B^A&(k^B))+D[0]+3614090360&4294967295;R=A+(N<<7&4294967295|N>>>25),N=B+(k^R&(A^k))+D[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=k+(A^B&(R^A))+D[2]+606105819&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(R^k&(B^R))+D[3]+3250441966&4294967295,A=k+(N<<22&4294967295|N>>>10),N=R+(B^A&(k^B))+D[4]+4118548399&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(k^R&(A^k))+D[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=k+(A^B&(R^A))+D[6]+2821735955&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(R^k&(B^R))+D[7]+4249261313&4294967295,A=k+(N<<22&4294967295|N>>>10),N=R+(B^A&(k^B))+D[8]+1770035416&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(k^R&(A^k))+D[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=k+(A^B&(R^A))+D[10]+4294925233&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(R^k&(B^R))+D[11]+2304563134&4294967295,A=k+(N<<22&4294967295|N>>>10),N=R+(B^A&(k^B))+D[12]+1804603682&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(k^R&(A^k))+D[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=k+(A^B&(R^A))+D[14]+2792965006&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(R^k&(B^R))+D[15]+1236535329&4294967295,A=k+(N<<22&4294967295|N>>>10),N=R+(k^B&(A^k))+D[1]+4129170786&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(R^A))+D[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=k+(R^A&(B^R))+D[11]+643717713&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(k^B))+D[0]+3921069994&4294967295,A=k+(N<<20&4294967295|N>>>12),N=R+(k^B&(A^k))+D[5]+3593408605&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(R^A))+D[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=k+(R^A&(B^R))+D[15]+3634488961&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(k^B))+D[4]+3889429448&4294967295,A=k+(N<<20&4294967295|N>>>12),N=R+(k^B&(A^k))+D[9]+568446438&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(R^A))+D[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=k+(R^A&(B^R))+D[3]+4107603335&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(k^B))+D[8]+1163531501&4294967295,A=k+(N<<20&4294967295|N>>>12),N=R+(k^B&(A^k))+D[13]+2850285829&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(R^A))+D[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=k+(R^A&(B^R))+D[7]+1735328473&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(k^B))+D[12]+2368359562&4294967295,A=k+(N<<20&4294967295|N>>>12),N=R+(A^k^B)+D[5]+4294588738&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^k)+D[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=k+(B^R^A)+D[11]+1839030562&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^R)+D[14]+4259657740&4294967295,A=k+(N<<23&4294967295|N>>>9),N=R+(A^k^B)+D[1]+2763975236&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^k)+D[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=k+(B^R^A)+D[7]+4139469664&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^R)+D[10]+3200236656&4294967295,A=k+(N<<23&4294967295|N>>>9),N=R+(A^k^B)+D[13]+681279174&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^k)+D[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=k+(B^R^A)+D[3]+3572445317&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^R)+D[6]+76029189&4294967295,A=k+(N<<23&4294967295|N>>>9),N=R+(A^k^B)+D[9]+3654602809&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^k)+D[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=k+(B^R^A)+D[15]+530742520&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^R)+D[2]+3299628645&4294967295,A=k+(N<<23&4294967295|N>>>9),N=R+(k^(A|~B))+D[0]+4096336452&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~k))+D[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=k+(R^(B|~A))+D[14]+2878612391&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~R))+D[5]+4237533241&4294967295,A=k+(N<<21&4294967295|N>>>11),N=R+(k^(A|~B))+D[12]+1700485571&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~k))+D[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=k+(R^(B|~A))+D[10]+4293915773&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~R))+D[1]+2240044497&4294967295,A=k+(N<<21&4294967295|N>>>11),N=R+(k^(A|~B))+D[8]+1873313359&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~k))+D[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=k+(R^(B|~A))+D[6]+2734768916&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~R))+D[13]+1309151649&4294967295,A=k+(N<<21&4294967295|N>>>11),N=R+(k^(A|~B))+D[4]+4149444226&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~k))+D[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=k+(R^(B|~A))+D[2]+718787259&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,D=this.B,k=this.h,B=0;B<R;){if(k==0)for(;B<=A;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<R;)if(D[k++]=M.charCodeAt(B++),k==this.blockSize){o(this,D),k=0;break}}else for(;B<R;)if(D[k++]=M[B++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)M[A++]=this.g[R]>>>D&255;return M};function u(M,R){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function h(M,R){this.h=R;for(var A=[],D=!0,k=M.length-1;0<=k;k--){var B=M[k]|0;D&&B==R||(A[k]=B,D=!1)}this.g=A}var d={};function m(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return V(g(-M));for(var R=[],A=1,D=0;M>=A;D++)R[D]=M/A|0,A*=4294967296;return new h(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return V(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(R,8)),D=T,k=0;k<M.length;k+=8){var B=Math.min(8,M.length-k),N=parseInt(M.substring(k,k+B),R);8>B?(B=g(Math.pow(R,B)),D=D.j(B).add(g(N))):(D=D.j(A),D=D.add(g(N)))}return D}var T=m(0),w=m(1),C=m(16777216);i=h.prototype,i.m=function(){if(z(this))return-V(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(z(this))return"-"+V(this).toString(M);for(var R=g(Math.pow(M,6)),A=this,D="";;){var k=ne(A,R).g;A=F(A,k.j(R));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=k,x(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function z(M){return M.h==-1}i.l=function(M){return M=F(this,M),z(M)?-1:x(M)?0:1};function V(M){for(var R=M.g.length,A=[],D=0;D<R;D++)A[D]=~M.g[D];return new h(A,~M.h).add(w)}i.abs=function(){return z(this)?V(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0,k=0;k<=R;k++){var B=D+(this.i(k)&65535)+(M.i(k)&65535),N=(B>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);D=N>>>16,B&=65535,N&=65535,A[k]=N<<16|B}return new h(A,A[A.length-1]&-2147483648?-1:0)};function F(M,R){return M.add(V(R))}i.j=function(M){if(x(this)||x(M))return T;if(z(this))return z(M)?V(this).j(V(M)):V(V(this).j(M));if(z(M))return V(this.j(V(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<M.g.length;k++){var B=this.i(D)>>>16,N=this.i(D)&65535,Qe=M.i(k)>>>16,et=M.i(k)&65535;A[2*D+2*k]+=N*et,Q(A,2*D+2*k),A[2*D+2*k+1]+=B*et,Q(A,2*D+2*k+1),A[2*D+2*k+1]+=N*Qe,Q(A,2*D+2*k+1),A[2*D+2*k+2]+=B*Qe,Q(A,2*D+2*k+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new h(A,0)};function Q(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function $(M,R){this.g=M,this.h=R}function ne(M,R){if(x(R))throw Error("division by zero");if(x(M))return new $(T,T);if(z(M))return R=ne(V(M),R),new $(V(R.g),V(R.h));if(z(R))return R=ne(M,V(R)),new $(V(R.g),R.h);if(30<M.g.length){if(z(M)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var A=w,D=R;0>=D.l(M);)A=ie(A),D=ie(D);var k=oe(A,1),B=oe(D,1);for(D=oe(D,2),A=oe(A,2);!x(D);){var N=B.add(D);0>=N.l(M)&&(k=k.add(A),B=N),D=oe(D,1),A=oe(A,1)}return R=F(M,k.j(R)),new $(k,R)}for(k=T;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(A),N=B.j(R);z(N)||0<N.l(M);)A-=D,B=g(A),N=B.j(R);x(B)&&(B=w),k=k.add(B),M=F(M,N)}return new $(k,M)}i.A=function(M){return ne(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&M.i(D);return new h(A,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|M.i(D);return new h(A,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^M.i(D);return new h(A,this.h^M.h)};function ie(M){for(var R=M.g.length+1,A=[],D=0;D<R;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(A,M.h)}function oe(M,R){var A=R>>5;R%=32;for(var D=M.g.length-A,k=[],B=0;B<D;B++)k[B]=0<R?M.i(B+A)>>>R|M.i(B+A+1)<<32-R:M.i(B+A);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,K0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ws=h}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Wl,Q0,gh,im,Y0,X0,W0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function C(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,K){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return y.prototype[j].apply(S,re)}}function z(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function V(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const j=c.length||0,K=S.length||0;c.length=j+K;for(let re=0;re<K;re++)c[j+re]=S[re]}else c.push(S)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var ie=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function oe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let K=0;K<A.length;K++)v=A[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,v){const S=et.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new F(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,de=!1,Oe=new Qe,P=()=>{const c=d.Promise.resolve(void 0);fe=()=>{c.then(ee)}};var ee=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){B(v)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Se(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{ne(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}x(Se,ae);var ve={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function qe(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++Ie,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _t(c){this.src=c,this.g={},this.h=0}_t.prototype.add=function(c,y,v,S,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var re=It(c,y,S,j);return-1<re?(y=c[re],v||(y.fa=!1)):(y=new qe(y,this.src,K,!!S,j),y.fa=v,c.push(y)),y};function St(c,y){var v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function It(c,y,v,S){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return j}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),Tn={};function cn(c,y,v,S,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)cn(c,y[K],v,S,j);return null}return v=Ca(v),c&&c[rt]?c.K(y,v,g(S)?!!S.capture:!1,j):Pr(c,y,v,!1,S,j)}function Pr(c,y,v,S,j,K){if(!y)throw Error("Invalid event type");var re=g(j)?!!j.capture:!!j,ze=Ur(c);if(ze||(c[jt]=ze=new _t(c)),v=ze.add(y,v,S,re,K),v.proxy)return v;if(S=Zi(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ci(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zi(){function c(v){return y.call(c.src,c.listener,v)}const y=Lr;return c}function _i(c,y,v,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)_i(c,y[K],v,S,j);else S=g(S)?!!S.capture:!!S,v=Ca(v),c&&c[rt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=It(K,v,S,j),-1<v&&(me(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ur(c))&&(y=c.g[y.toString()],c=-1,y&&(c=It(y,v,S,j)),(v=-1<c?y[c]:null)&&hn(v))}function hn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])St(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ci(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Ur(y))?(St(v,c),v.h==0&&(v.src=null,y[jt]=null)):me(c)}}}function ci(c){return c in Tn?Tn[c]:Tn[c]="on"+c}function Lr(c,y){if(c.da)c=!0;else{y=new Se(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&hn(c),c=v.call(S,y)}return c}function Ur(c){return c=c[jt],c instanceof _t?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(y){return c.handleEvent(y)}),c[Zt])}function Et(){ue.call(this),this.i=new _t(this),this.M=this,this.F=null}x(Et,ue),Et.prototype[rt]=!0,Et.prototype.removeEventListener=function(c,y,v,S){_i(this,c,y,v,S)};function st(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var j=y;y=new ae(S,c),D(y,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var re=y.g=v[K];j=fn(re,S,!0,y)&&j}if(re=y.g=c,j=fn(re,S,!0,y)&&j,j=fn(re,S,!1,y)&&j,v)for(K=0;K<v.length;K++)re=y.g=v[K],j=fn(re,S,!1,y)&&j}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)me(v[S]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Et.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function fn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var re=y[K];if(re&&!re.da&&re.capture==v){var ze=re.listener,kt=re.ha||re.src;re.fa&&St(c.i,re),j=ze.call(kt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Ei(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zr(c){c.g=Ei(()=>{c.g=null,c.i&&(c.i=!1,zr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Gn extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(c){ue.call(this),this.h=c,this.g={}}x(Ti,ue);var bi=[];function qt(c){oe(c.g,function(y,v){this.g.hasOwnProperty(v)&&hn(y)},c),c.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),qt(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,Mn=d.JSON.parse,Jt=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Br(){}Br.prototype.h=null;function Ia(c){return c.h||(c.h=c.i())}function Da(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){ae.call(this,"d")}x(at,ae);function ot(){ae.call(this,"c")}x(ot,ae);var tt={},en=null;function Dt(){return en=en||new Et}tt.La="serverreachability";function Ot(c){ae.call(this,tt.La,c)}x(Ot,ae);function Nt(c){const y=Dt();st(y,new Ot(y))}tt.STAT_EVENT="statevent";function xn(c,y){ae.call(this,tt.STAT_EVENT,c),this.stat=y}x(xn,ae);function Ne(c){const y=Dt();st(y,new xn(y,c))}tt.Ma="timingevent";function kn(c,y){ae.call(this,tt.Ma,c),this.size=y}x(kn,ae);function Mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ft(){this.g=!0}Ft.prototype.xa=function(){this.g=!1};function Si(c,y,v,S,j,K){c.info(function(){if(c.g)if(K)for(var re="",ze=K.split("&"),kt=0;kt<ze.length;kt++){var Be=ze[kt].split("=");if(1<Be.length){var Kt=Be[0];Be=Be[1];var Vt=Kt.split("_");re=2<=Vt.length&&Vt[1]=="type"?re+(Kt+"="+Be+"&"):re+(Kt+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function wi(c,y,v,S,j,K,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+K+" "+re})}function tn(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pt(c,v)+(S?" "+S:"")})}function dn(c,y){c.info(function(){return"TIMEOUT: "+y})}Ft.prototype.info=function(){};function pt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return Ji(v)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Us;function Oa(){}x(Oa,Br),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Us=new Oa;function Ai(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Hr={},zs={};function hi(c,y,v){c.L=1,c.v=js(mt(y)),c.m=v,c.P=!0,tr(c,null)}function tr(c,y){c.F=Date.now(),ut(c),c.A=mt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),rr(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Go,c.g=Wu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Gn(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(bi[0]=j.toString()),j=bi);for(var K=0;K<j.length;K++){var re=cn(v,j[K],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Nt(),Si(c.i,c.u,c.A,c.l,c.R,c.m)}Ai.prototype.ca=function(c){c=c.target;const y=this.M;y&&Wn(c)==3?y.j():this.Y(c)},Ai.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=Wn(this.g);var y=this.g.Ba();const lr=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=lr?Nt(3):Nt(2)),Na(this);var v=this.g.Z();this.X=v;t:if(jr(this)){var S=qu(this.g);c="";var j=S.length,K=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),Vn(this);var re="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,wi(this.i,this.u,this.A,this.l,this.R,Vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,kt=this.g;if((ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ze)){var Be=ze;break t}}Be=null}if(v=Be)tn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pn(this,v);else{this.o=!1,this.s=3,Ne(12),Rn(this),Vn(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<re.length;)if(nn=qr(this,re),nn==zs){Vt==4&&(this.s=4,Ne(14),v=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Hr){this.s=4,Ne(15),tn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else tn(this.i,this.l,nn,null),Pn(this,nn);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||re.length!=0||this.h.h||(this.s=1,Ne(16),v=!1),this.o=this.o&&v,!v)tn(this.i,this.l,re,"[Invalid Chunked Response]"),Rn(this),Vn(this);else if(0<re.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ys(Kt),Kt.M=!0,Ne(11))}}else tn(this.i,this.l,re,null),Pn(this,re);Vt==4&&Rn(this),this.o&&!this.J&&(Vt==4?Qu(this.j,this):(this.o=!1,ut(this)))}else Nf(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Rn(this),Vn(this)}}}catch{}finally{}};function jr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qr(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?zs:(v=Number(y.substring(v,S)),isNaN(v)?Hr:(S+=1,S+v>y.length?zs:(y=y.slice(S,S+v),c.C=S+v,y)))}Ai.prototype.cancel=function(){this.J=!0,Rn(this)};function ut(c){c.S=Date.now()+c.I,Ko(c,c.I)}function Ko(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mt(w(c.ba,c),y)}function Na(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Ai.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(dn(this.i,this.A),this.L!=2&&(Nt(),Ne(17)),Rn(this),this.s=2,Vn(this)):Ko(this,this.S-c)};function Vn(c){c.j.G==0||c.J||Qu(c.j,c)}function Rn(c){Na(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Pn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Fr(v.h,c))){if(!c.K&&Fr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ha(v),za(v);else break e;il(v),Ne(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mt(w(v.Za,v),6e3));if(1>=Uu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else or(v,11)}else if((c.K||v.g==c)&&Ha(v),!Q(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Be=j[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Kt=Be[3];Kt!=null&&(v.la=Kt,v.j.info("VER="+v.la));const Vt=Be[4];Vt!=null&&(v.Aa=Vt,v.j.info("SVER="+v.Aa));const lr=Be[5];lr!=null&&typeof lr=="number"&&0<lr&&(S=1.5*lr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const nn=c.g;if(nn){const Mi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var K=S.h;K.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Gr(K,K.h),K.h=null))}if(S.D){const sl=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,Fe(S.I,S.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var re=c;if(S.qa=Xu(S,S.J?S.ia:null,S.W),re.K){$n(S.h,re);var ze=re,kt=S.L;kt&&(ze.I=kt),ze.B&&(Na(ze),ut(ze)),S.g=re}else Ku(S);0<v.i.length&&Ba(v)}else Be[0]!="stop"&&Be[0]!="close"||or(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?or(v,7):tl(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Nt(4)}catch{}}var Rf=class{constructor(c,y){this.g=c,this.map=y}};function $o(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uu(c){return c.h?1:c.g?c.g.size:0}function Fr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Gr(c,y){c.g?c.g.add(y):c.h=y}function $n(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}$o.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return z(c.i)}function zu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Cf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Bs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Cf(c),S=zu(c),j=S.length,K=0;K<j;K++)y.call(void 0,S[K],v&&v[K],c)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var K=c[v].substring(0,S);j=c[v].substring(S+1)}else K=c[v];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof nr){this.h=c.h,Kr(this,c.j),this.o=c.o,this.g=c.g,Hs(this,c.s),this.l=c.l;var y=c.i,v=new Ri;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),xa(this,v),this.m=c.m}else c&&(y=String(c).match(Yo))?(this.h=!1,Kr(this,y[1]||"",!0),this.o=$r(y[2]||""),this.g=$r(y[3]||"",!0),Hs(this,y[4]),this.l=$r(y[5]||"",!0),xa(this,y[6]||"",!0),this.m=$r(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}nr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Qn(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Qn(y,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Qn(v,v.charAt(0)=="/"?Wo:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Qn(v,Of)),c.join("")};function mt(c){return new nr(c)}function Kr(c,y,v){c.j=v?$r(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xa(c,y,v){y instanceof Ri?(c.i=y,Zo(c.i,c.h)):(v||(y=Qn(y,Df)),c.i=new Ri(y,c.h))}function Fe(c,y,v){c.i.set(y,v)}function js(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $r(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,If),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function If(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Bu=/[#\?:]/g,Wo=/[#\?]/g,Df=/[#\?@]/g,Of=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ri.prototype,i.add=function(c,y){Yn(this),this.i=null,c=sr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ka(c,y){Yn(c),y=sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ir(c,y){return Yn(c),y=sr(c,y),c.g.has(y)}i.forEach=function(c,y){Yn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)},i.na=function(){Yn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const j=c[S];for(let K=0;K<j.length;K++)v.push(y[S])}return v},i.V=function(c){Yn(this);let y=[];if(typeof c=="string")ir(this,c)&&(y=y.concat(this.g.get(sr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Yn(this),this.i=null,c=sr(this,c),ir(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function rr(c,y,v){ka(c,y),0<v.length&&(c.i=null,c.g.set(sr(c,y),z(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const K=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var j=K;re[S]!==""&&(j+="="+encodeURIComponent(String(re[S]))),c.push(j)}}return this.i=c.join("&")};function sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zo(c,y){y&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(ka(this,S),rr(this,j,v))},c)),c.j=y}function Hu(c,y){const v=new Ft;if(d.Image){const S=new Image;S.onload=C(Xn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Xn,v,"TestLoadImage: error",!1,y,S),S.onabort=C(Xn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Xn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qs(c,y){const v=new Ft,S=new AbortController,j=setTimeout(()=>{S.abort(),Xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Xn(v,"TestPingServer: ok",!0,y):Xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Xn(v,"TestPingServer: error",!1,y)})}function Xn(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Fs(){this.g=new Jt}function Ci(c,y,v){const S=v||"";try{Bs(c,function(j,K){let re=j;g(j)&&(re=Ji(j)),y.push(S+K+"="+encodeURIComponent(re))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function Qr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Qr,Br),Qr.prototype.g=function(){return new ar(this.l,this.j)},Qr.prototype.i=function(c){return function(){return c}}({});function ar(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ar,Et),i=ar.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Di(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ii(this):Di(this),this.readyState==3&&Jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ii(this))},i.Qa=function(c){this.g&&(this.response=c,Ii(this))},i.ga=function(){this.g&&Ii(this)};function Ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Di(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return oe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Gt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Fe(c,y,v))}function Ye(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,Et);var Va=/^https?$/i,Gs=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Us.g(),this.v=this.o?Ia(this.o):Ia(Us),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ju(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Gs,y,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of v)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ju(this,K)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pa(c),Oi(c)}function Pa(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),Oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},i.bb=function(){La(this)};function La(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Ei(c.Ea,0,c);else if(st(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=re===0){var j=String(c.D).match(Yo)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!Va.test(j?j.toLowerCase():"")}v=S}if(v)st(c,"complete"),st(c,"success");else{c.m=6;try{var K=2<Wn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Pa(c)}}finally{Oi(c)}}}}function Oi(c,y){if(c.g){Ks(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||st(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ks(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Mn(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nf(c){const y={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var v=k(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[j]||[];y[j]=K,K.push(v)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ua(c){this.Aa=0,this.i=[],this.j=new Ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $o(c&&c.concurrentRequestLimit),this.Da=new Fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ua.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){Ne(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Xu(this,null,this.W),Ba(this)};function tl(c){if(Fu(c),c.G==3){var y=c.U++,v=mt(c.I);if(Fe(v,"SID",c.K),Fe(v,"RID",y),Fe(v,"TYPE","terminate"),Qs(c,v),y=new Ai(c,c.j,y),y.L=2,y.v=js(mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}Yu(c)}function za(c){c.g&&(Ys(c),c.g.cancel(),c.g=null)}function Fu(c){za(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ba(c){if(!Qo(c.h)&&!c.s){c.s=!0;var y=c.Ga;fe||P(),de||(fe(),de=!0),Oe.add(y,c),c.B=0}}function Mf(c,y){return Uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mt(w(c.Ga,c,y),rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Ai(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Gu(this,j,y),v=mt(this.I),Fe(v,"RID",c),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),Qs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(el(K)))+"&"+y:this.m&&Gt(v,this.m,K)),Gr(this.h,j),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",y),Fe(v,"SID","null"),j.T=!0,hi(j,v,null)):hi(j,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Qo(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const S=mt(c.I);Fe(S,"SID",c.K),Fe(S,"RID",v),Fe(S,"AID",c.T),Qs(c,S),c.m&&c.o&&Gt(S,c.m,c.o),v=new Ai(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Gu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gr(c.h,v),hi(v,S,y)}function Qs(c,y){c.H&&oe(c.H,function(v,S){Fe(y,S,v)}),c.l&&Bs({},function(v,S){Fe(y,S,v)})}function Gu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const re=["count="+v];K==-1?0<v?(K=j[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let ze=!0;for(let kt=0;kt<v;kt++){let Be=j[kt].g;const Kt=j[kt].map;if(Be-=K,0>Be)K=Math.max(0,j[kt].g-100),ze=!1;else try{Ci(Kt,re,"req"+Be+"_")}catch{S&&S(Kt)}}if(ze){S=re.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;fe||P(),de||(fe(),de=!0),Oe.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mt(w(c.Fa,c),rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),za(this),$u(this))};function Ys(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new Ai(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mt(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Qs(c,y),c.m&&c.o&&Gt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=js(mt(y)),v.m=null,v.P=!0,tr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,za(this),il(this),Ne(19))};function Ha(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Qu(c,y){var v=null;if(c.g==y){Ha(c),Ys(c),c.g=null;var S=2}else if(Fr(c.h,y))v=y.D,$n(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=Dt(),st(S,new kn(S,v)),Ba(c)}else Ku(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&Mf(c,y)||S==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:or(c,5);break;case 4:or(c,10);break;case 3:or(c,6);break;default:or(c,2)}}}function rl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function or(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const j=!S;S=new nr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kr(S,"https"),js(S),j?Hu(S.toString(),v):qs(S.toString(),v)}else Ne(2);c.G=0,c.l&&c.l.sa(y),Yu(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const y=bn(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var S=v instanceof nr?mt(v):new nr(v);if(S.g!="")y&&(S.g=y+"."+S.g),Hs(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new nr(null);S&&Kr(K,S),y&&(K.g=y),j&&Hs(K,j),v&&(K.l=v),S=K}return v=c.D,y=c.ya,v&&y&&Fe(S,v,y),Fe(S,"VER",c.la),Qs(c,S),S}function Wu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Qr({eb:v})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ja(){}ja.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){Et.call(this),this.g=new Ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ni(this)}x(Sn,Et),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){tl(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ji(c),c=v);y.i.push(new Rf(y.Ya++,c)),y.G==3&&Ba(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Sn.aa.N.call(this)};function Ju(c){at.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Ju,at);function ec(){ot.call(this),this.status=1}x(ec,ot);function Ni(c){this.g=c}x(Ni,Zu),Ni.prototype.ua=function(){st(this.g,"a")},Ni.prototype.ta=function(c){st(this.g,new Ju(c))},Ni.prototype.sa=function(c){st(this.g,new ec)},Ni.prototype.ra=function(){st(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,W0=function(){return new ja},X0=function(){return Dt()},Y0=tt,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,gh=xt,er.COMPLETE="complete",Q0=er,Da.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Wl=Da,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,$0=Ye}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",SE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Om("@firebase/firestore");function go(){return Ea.logLevel}function ce(i,...e){if(Ea.logLevel<=Ve.DEBUG){const t=e.map(jm);Ea.debug(`Firestore (${Lo}): ${i}`,...t)}}function Mr(i,...e){if(Ea.logLevel<=Ve.ERROR){const t=e.map(jm);Ea.error(`Firestore (${Lo}): ${i}`,...t)}}function Co(i,...e){if(Ea.logLevel<=Ve.WARN){const t=e.map(jm);Ea.warn(`Firestore (${Lo}): ${i}`,...t)}}function jm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+i;throw Mr(e),new Error(e)}function Xe(i,e){i||be()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Xi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class BD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new As;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new As,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new As)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new Z0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new yn(e)}}class jD{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qD{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new jD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new wE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=GD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Io(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,RE=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*RE);return new Bt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AE)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Bt(0,0))}static max(){return new we(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class Ui{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(),s===void 0?s=e.length-t:s>e.length-t&&be(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ui.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ui.isNumericId(e),o=Ui.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ws.fromString(e.substring(4,e.length-2))}}class lt extends Ui{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ui{construct(e,t,s){return new ln(e,t,s)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new ln([CE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function $D(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Bt(t+1,0):new Bt(t,s));return new Is(o,_e.empty(),e)}function QD(i){return new Is(i.readTime,i.key,du)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(we.min(),_e.empty(),du)}static max(){return new Is(we.max(),_e.empty(),du)}}function YD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==XD)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},m=>s(m))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function ZD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function af(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function JD(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="";function eO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=IE(e)),e=tO(i.get(t),e);return IE(e)}function tO(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case eb:t+="";break;default:t+=u}}return t}function IE(i){return i+eb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ps(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function tb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new on(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,s,o,u){return this}insert(e,t,s){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new qn([])}unionWith(e){let t=new Ht(ln.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nb("Invalid base64 string: "+u):u}}(e);return new un(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const nO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(i){if(Xe(!!i),typeof i=="string"){let e=0;const t=nO.exec(i);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Os(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="server_timestamp",rb="__type__",sb="__previous_value__",ab="__local_write_time__";function Fm(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[rb])===null||t===void 0?void 0:t.stringValue)===ib}function of(i){const e=i.mapValue.fields[sb];return Fm(e)?of(e):e}function pu(i){const e=Ds(i.mapValue.fields[ab].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,s,o,u,h,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Mh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__type__",rO="__max__",nh={mapValue:{}},lb="__vector__",xh="value";function Ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fm(i)?4:aO(i)?9007199254740991:sO(i)?10:11:be()}function Gi(i,e){if(i===e)return!0;const t=Ns(i);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ds(o.timestampValue),d=Ds(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),d=bt(u.doubleValue);return h===d?Nh(h)===Nh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(DE(h)!==DE(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!Gi(h[m],d[m])))return!1;return!0}(i,e);default:return be()}}function gu(i,e){return(i.values||[]).find(t=>Gi(t,e))!==void 0}function Do(i,e){if(i===e)return 0;const t=Ns(i),s=Ns(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=bt(u.integerValue||u.doubleValue),m=bt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return NE(i.timestampValue,e.timestampValue);case 4:return NE(pu(i),pu(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return function(u,h){const d=Os(u),m=Os(h);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const E=Ue(d[g],m[g]);if(E!==0)return E}return Ue(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ue(bt(u.latitude),bt(h.latitude));return d!==0?d:Ue(bt(u.longitude),bt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return ME(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,m,g,E;const T=u.fields||{},w=h.fields||{},C=(d=T[xh])===null||d===void 0?void 0:d.arrayValue,x=(m=w[xh])===null||m===void 0?void 0:m.arrayValue,z=Ue(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:ME(C,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=h.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const w=Ue(m[T],E[T]);if(w!==0)return w;const C=Do(d[m[T]],g[E[T]]);if(C!==0)return C}return Ue(m.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function NE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=Ds(i),s=Ds(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function ME(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Do(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function Oo(i){return rm(i)}function rm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Ds(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Os(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=rm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${rm(t.fields[h])}`;return o+"}"}(i.mapValue):be()}function yh(i){switch(Ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Os(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ps(s.fields,(u,h)=>{o+=u.length+yh(h)}),o}(i.mapValue);default:throw be()}}function sm(i){return!!i&&"integerValue"in i}function Gm(i){return!!i&&"arrayValue"in i}function xE(i){return!!i&&"nullValue"in i}function kE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function sO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ob])===null||t===void 0?void 0:t.stringValue)===lb}function tu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ps(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function aO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===rO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(t)}setAll(e){let t=ln.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=tu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ps(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new On(tu(this.value))}}function ub(i){const e=[];return Ps(i.fields,(t,s)=>{const o=new ln([t]);if(vh(s)){const u=ub(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new vn(e,0,we.min(),we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,t,s,o){return new vn(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new vn(e,2,t,we.min(),we.min(),On.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,we.min(),we.min(),On.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function VE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Do(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function PE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Gi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function oO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class zt extends cb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uO(e,t,s):t==="array-contains"?new fO(e,s):t==="in"?new dO(e,s):t==="not-in"?new pO(e,s):t==="array-contains-any"?new mO(e,s):new zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cO(e,s):new hO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends cb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ki(e,t)}matches(e){return hb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function hb(i){return i.op==="and"}function fb(i){return lO(i)&&hb(i)}function lO(i){for(const e of i.filters)if(e instanceof Ki)return!1;return!0}function am(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(fb(i))return i.filters.map(e=>am(e)).join(",");{const e=i.filters.map(t=>am(t)).join(",");return`${i.op}(${e})`}}function db(i,e){return i instanceof zt?function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&Gi(s.value,o.value)}(i,e):i instanceof Ki?function(s,o){return o instanceof Ki&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&db(h,o.filters[d]),!0):!1}(i,e):void be()}function pb(i){return i instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Oo(t.value)}`}(i):i instanceof Ki?function(t){return t.op.toString()+" {"+t.getFilters().map(pb).join(" ,")+"}"}(i):"Filter"}class uO extends zt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class cO extends zt{constructor(e,t){super(e,"in",t),this.keys=mb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hO extends zt{constructor(e,t){super(e,"not-in",t),this.keys=mb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class fO extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gm(t)&&gu(t.arrayValue,this.value)}}class dO extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class pO extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gu(this.value.arrayValue,t)}}class mO extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function LE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new gO(i,e,t,s,o,u,h)}function Km(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>am(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Oo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Oo(s)).join(",")),e.le=t}return e.le}function $m(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!oO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!db(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!PE(i.startAt,e.startAt)&&PE(i.endAt,e.endAt)}function om(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yO(i,e,t,s,o,u,h,d){return new lf(i,e,t,s,o,u,h,d)}function gb(i){return new lf(i)}function UE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vO(i){return i.collectionGroup!==null}function nu(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ht(ln.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Vh(u,s))}),t.has(ln.keyField().canonicalString())||e.he.push(new Vh(ln.keyField(),s))}return e.he}function ji(i){const e=Ce(i);return e.Pe||(e.Pe=_O(e,nu(i))),e.Pe}function _O(i,e){if(i.limitType==="F")return LE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)});const t=i.endAt?new kh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new kh(i.startAt.position,i.startAt.inclusive):null;return LE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function lm(i,e,t){return new lf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uf(i,e){return $m(ji(i),ji(e))&&i.limitType===e.limitType}function yb(i){return`${Km(ji(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>pb(o)).join(", ")}]`),af(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Oo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Oo(o)).join(",")),`Target(${s})`}(ji(i))}; limitType=${i.limitType})`}function cf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,m){const g=VE(h,d,m);return h.inclusive?g<=0:g<0}(s.startAt,nu(s),o)||s.endAt&&!function(h,d,m){const g=VE(h,d,m);return h.inclusive?g>=0:g>0}(s.endAt,nu(s),o))}(i,e)}function EO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function vb(i){return(e,t)=>{let s=!1;for(const o of nu(i)){const u=TO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TO(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const m=h.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Do(m,g):be()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new dt(_e.comparator);function xr(){return bO}const _b=new dt(_e.comparator);function Zl(...i){let e=_b;for(const t of i)e=e.insert(t.key,t);return e}function Eb(i){let e=_b;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ma(){return iu()}function Tb(){return iu()}function iu(){return new Aa(i=>i.toString(),(i,e)=>i.isEqual(e))}const SO=new dt(_e.comparator),wO=new Ht(_e.comparator);function Pe(...i){let e=wO;for(const t of i)e=e.add(t);return e}const AO=new Ht(Ue);function RO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function bb(i){return{integerValue:""+i}}function CO(i,e){return JD(e)?bb(e):Qm(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function IO(i,e,t){return i instanceof Ph?function(o,u){const h={fields:{[rb]:{stringValue:ib},[ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=of(u)),u&&(h.fields[sb]=u),{mapValue:h}}(t,e):i instanceof yu?wb(i,e):i instanceof vu?Ab(i,e):function(o,u){const h=Sb(o,u),d=zE(h)+zE(o.Ie);return sm(h)&&sm(o.Ie)?bb(d):Qm(o.serializer,d)}(i,e)}function DO(i,e,t){return i instanceof yu?wb(i,e):i instanceof vu?Ab(i,e):t}function Sb(i,e){return i instanceof Lh?function(s){return sm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ph extends hf{}class yu extends hf{constructor(e){super(),this.elements=e}}function wb(i,e){const t=Rb(e);for(const s of i.elements)t.some(o=>Gi(o,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends hf{constructor(e){super(),this.elements=e}}function Ab(i,e){let t=Rb(e);for(const s of i.elements)t=t.filter(o=>!Gi(o,s));return{arrayValue:{values:t}}}class Lh extends hf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zE(i){return bt(i.integerValue||i.doubleValue)}function Rb(i){return Gm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function OO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof yu&&o instanceof yu||s instanceof vu&&o instanceof vu?Io(s.elements,o.elements,Gi):s instanceof Lh&&o instanceof Lh?Gi(s.Ie,o.Ie):s instanceof Ph&&o instanceof Ph}(i.transform,e.transform)}class NO{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ff{}function Cb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ym(i.key,ui.none()):new Nu(i.key,i.data,ui.none());{const t=i.data,s=On.empty();let o=new Ht(ln.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ls(i.key,s,new qn(o.toArray()),ui.none())}}function MO(i,e,t){i instanceof Nu?function(o,u,h){const d=o.value.clone(),m=HE(o.fieldTransforms,u,h.transformResults);d.setAll(m),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ls?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=HE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(Ib(o)),m.setAll(d),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ru(i,e,t,s){return i instanceof Nu?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=u.value.clone(),E=jE(u.fieldTransforms,m,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ls?function(u,h,d,m){if(!_h(u.precondition,h))return d;const g=jE(u.fieldTransforms,m,h),E=h.data;return E.setAll(Ib(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,d){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function xO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Sb(s.transform,o||null);u!=null&&(t===null&&(t=On.empty()),t.set(s.field,u))}return t||null}function BE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(u,h)=>OO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends ff{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ls extends ff{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ib(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function HE(i,e,t){const s=new Map;Xe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,DO(h,d,t[o]))}return s}function jE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,IO(u,h,e))}return s}class Ym extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kO extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ru(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ru(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Tb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const m=Cb(h,d);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,s)=>BE(t,s))&&Io(this.baseMutations,e.baseMutations,(t,s)=>BE(t,s))}}class Xm{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length);let o=function(){return SO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xm(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function UO(i){switch(i){case te.OK:return be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be()}}function Db(i){if(i===void 0)return Mr("GRPC error has no .code"),te.UNKNOWN;switch(i){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return be()}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new ws([4294967295,4294967295],0);function qE(i){const e=zO().encode(i),t=new K0;return t.update(e),new Uint8Array(t.digest())}function FE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ws([t,s],0),new ws([o,u],0)]}class Wm{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ws.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ws.fromNumber(s)));return o.compare(BO)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=qE(e),[s,o]=FE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wm(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=qE(e),[s,o]=FE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new df(we.min(),o,new dt(Ue),xr(),Pe())}}class Mu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Mu(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Ob{constructor(e,t){this.targetId=e,this.ge=t}}class Nb{constructor(e,t,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class GE{constructor(){this.pe=0,this.ye=KE(),this.we=un.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Mu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=KE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class HO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xr(),this.$e=ih(),this.Ke=ih(),this.Ue=new dt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(om(u))if(s===0){const h=new _e(u.path);this.ze(t,h,vn.newNoDocument(h,we.min()))}else Xe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),m=d?this.nt(d,e,h):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Os(s).toUint8Array()}catch(m){if(m instanceof nb)return Co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Wm(h,o,u)}catch(m){return Co(m instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&om(d.target)){const m=new _e(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,vn.newNoDocument(m,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Pe();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new df(e,t,this.Ue,this.Qe,s);return this.Qe=xr(),this.$e=ih(),this.Ke=ih(),this.Ue=new dt(Ue),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new GE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ht(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ht(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new GE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ih(){return new dt(_e.comparator)}function KE(){return new dt(_e.comparator)}const jO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FO={and:"AND",or:"OR"};class GO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function um(i,e){return i.useProto3Json||af(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KO(i,e){return Uh(i,e.toTimestamp())}function qi(i){return Xe(!!i),we.fromTimestamp(function(t){const s=Ds(t);return new Bt(s.seconds,s.nanos)}(i))}function Zm(i,e){return cm(i,e).canonicalString()}function cm(i,e){const t=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function xb(i){const e=lt.fromString(i);return Xe(Ub(e)),e}function hm(i,e){return Zm(i.databaseId,e.path)}function Lp(i,e){const t=xb(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(Vb(t))}function kb(i,e){return Zm(i.databaseId,e)}function $O(i){const e=xb(i);return e.length===4?lt.emptyPath():Vb(e)}function fm(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vb(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $E(i,e,t){return{name:hm(i,e),fields:t.value.mapValue.fields}}function QO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),un.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),un.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?te.UNKNOWN:Db(g.code);return new ye(E,g.message||"")}(h);t=new Nb(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lp(i,s.document.name),u=qi(s.document.updateTime),h=s.document.createTime?qi(s.document.createTime):we.min(),d=new On({mapValue:{fields:s.document.fields}}),m=vn.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Eh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lp(i,s.document),u=s.readTime?qi(s.readTime):we.min(),h=vn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Eh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lp(i,s.document),u=s.removedTargetIds||[];t=new Eh([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new LO(o,u),d=s.targetId;t=new Ob(d,h)}}return t}function YO(i,e){let t;if(e instanceof Nu)t={update:$E(i,e.key,e.value)};else if(e instanceof Ym)t={delete:hm(i,e.key)};else if(e instanceof Ls)t={update:$E(i,e.key,e.data),updateMask:rN(e.fieldMask)};else{if(!(e instanceof kO))return be();t={verify:hm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw be()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:KO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),t}function XO(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?qi(o.updateTime):qi(u);return h.isEqual(we.min())&&(h=qi(u)),new NO(h,o.transformResults||[])}(t,e))):[]}function WO(i,e){return{documents:[kb(i,e.path)]}}function ZO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=kb(i,o);const u=function(g){if(g.length!==0)return Lb(Ki.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:vo(w.field),direction:tN(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=um(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function JO(i){let e=$O(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const w=Pb(T);return w instanceof Ki&&fb(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(x){return new Vh(_o(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,af(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(T){const w=!!T.before,C=T.values||[];return new kh(C,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,C=T.values||[];return new kh(C,w)}(t.endAt)),yO(e,o,h,u,d,"F",m,g)}function eN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=_o(t.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=_o(t.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(t.unaryFilter.field);return zt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(t){return zt.create(_o(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ki.create(t.compositeFilter.filters.map(s=>Pb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(i):be()}function tN(i){return jO[i]}function nN(i){return qO[i]}function iN(i){return FO[i]}function vo(i){return{fieldPath:i.canonicalString()}}function _o(i){return ln.fromServerFormat(i.fieldPath)}function Lb(i){return i instanceof zt?function(t){if(t.op==="=="){if(kE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(xE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(xE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:nN(t.op),value:t.value}}}(i):i instanceof Ki?function(t){const s=t.getFilters().map(o=>Lb(o));return s.length===1?s[0]:{compositeFilter:{op:iN(t.op),filters:s}}}(i):be()}function rN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ub(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,s,o,u=we.min(),h=we.min(),d=un.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.Tt=e}}function aN(i){const e=JO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Tn=new lN}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Is.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class lN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ht(lt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(zb,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new No(0)}static Un(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="LruGarbageCollector",uN=1048576;function XE([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class cN{constructor(e){this.Hn=e,this.buffer=new Ht(XE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();XE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(YE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?ce(YE,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.er(3e5)})}}class fN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(sf.ae);const s=new cN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(QE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),go()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function dN(i,e){return new fN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ru(s.mutation,o,qn.empty(),Bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=ma();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Zl();return u.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ma();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=xr();const h=iu(),d=function(){return iu()}();return t.forEach((m,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ls)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ru(E.mutation,g,E.mutation.getFieldMask(),Bt.now())):h.set(g.key,qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new mN(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=iu();let o=new dt((h,d)=>h-d),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let E=s.get(m)||qn.empty();E=d.applyToLocalView(g,E),s.set(m,E);const T=(o.get(d.batchId)||Pe()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,E=m.value,T=Tb();E.forEach(w=>{if(!u.has(w)){const C=Cb(t.get(w),s.get(w));C!==null&&T.set(w,C),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(ma());let d=du,m=u;return h.next(g=>Z.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{m=m.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Pe())).next(E=>({batchId:d,changes:Eb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,m=>{const g=function(T,w){return new lf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((m,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,vn.newInvalidDocument(E)))});let d=Zl();return h.forEach((m,g)=>{const E=u.get(m);E!==void 0&&ru(E.mutation,g,qn.empty(),Bt.now()),cf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:aN(o.bundledQuery),readTime:qi(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.overlays=new dt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ma();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=ma(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new dt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ma(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=ma(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PO(t,s));let u=this.Rr.get(t);u===void 0&&(u=Pe(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.Vr=new Ht(Xt.mr),this.gr=new Ht(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Xt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Xt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new _e(new lt([])),s=new Xt(t,e),o=new Xt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new lt([])),s=new Xt(t,e),o=new Xt(t,e+1);let u=Pe();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Xt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ht(Xt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new VO(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Xt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?qm:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ht(Ue);return t.forEach(o=>{const u=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Xt(new _e(u),0);let d=new Ht(Ue);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new Xt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Xt(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.kr=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let s=xr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=xr();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||YD(QD(E),s)<=0||(o.has(E.key)||cf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){be()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new bN(this)}getSize(e){return Z.resolve(this.size)}}class bN extends pN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.persistence=e,this.Qr=new Aa(t=>Km(t),$m),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Jm,this.targetCount=0,this.Ur=No.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new No(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sf(0),this.zr=!1,this.zr=!0,this.jr=new _N,this.referenceDelegate=e(this),this.Hr=new SN(this),this.indexManager=new oN,this.remoteDocumentCache=function(o){return new TN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new sN(t),this.Yr=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new EN(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new wN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class wN extends WD{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.ti=new Jm,this.ni=null}static ri(e){return new eg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.oi=new Aa(s=>eO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dN(this,t)}static ri(e,t){return new zh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oC()?8:ZD(_n())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new AN;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(go()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(go()<=Ve.DEBUG&&ce("QueryEngine","Query:",yo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(go()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):Z.resolve())}rs(e,t){if(UE(t))return Z.resolve(null);let s=ji(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lm(t,null,"F"),s=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.cs(t,d);return this.ls(t,g,h,m.readTime)?this.rs(e,lm(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,s,o){return UE(t)||o.isEqual(we.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(go()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(t)),this.hs(e,h,t,$D(o,du)).next(d=>d))})}cs(e,t){let s=new Ht(vb(e));return t.forEach((o,u)=>{cf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return go()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yo(t)),this.ns.getDocumentsMatchingQuery(e,t,Is.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",CN=3e8;class IN{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new dt(Ue),this.Is=new Aa(u=>Km(u),$m),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function DN(i,e,t,s){return new IN(i,e,t,s)}async function Hb(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let m=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function ON(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,E){const T=g.batch,w=T.keys();let C=Z.resolve();return w.forEach(x=>{C=C.next(()=>E.getEntry(m,x)).next(z=>{const V=g.docVersions.get(x);Xe(V!==null),z.version.compareTo(V)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Pe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function jb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function NN(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const w=o.get(T);if(!w)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(T,C),function(z,V,F){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=CN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,C,E)&&d.push(t.Hr.updateTargetData(u,C))});let m=xr(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(MN(u,h,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(t.Ts=o,u))}function MN(i,e,t){let s=Pe(),o=Pe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=xr();return t.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):ce(ng,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function xN(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qm),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kN(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function dm(i,e,t){const s=Ce(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!zo(h))throw h;ce(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function WE(i,e,t){const s=Ce(i);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,E){const T=Ce(m),w=T.Is.get(E);return w!==void 0?Z.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,E)}(s,h,ji(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{u=m})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:Pe())).next(d=>(VN(s,EO(e),d),{documents:d,gs:u})))}function VN(i,e,t){let s=i.Es.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class ZE{constructor(){this.activeTargetIds=RO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PN{constructor(){this.ho=new ZE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ZE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class eT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(JE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function pm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=pm(),d=this.So(e,t.toUriEncodedString());ce(Up,`Sending RPC '${e}' ${h}:`,d,s);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,u),this.vo(e,d,m,s).then(g=>(ce(Up,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Co(Up,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=UN[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class HN extends zN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=pm();return new Promise((h,d)=>{const m=new $0;m.setWithCredentials(!0),m.listenOnce(Q0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case gh.NO_ERROR:const E=m.getResponseJson();ce(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case gh.TIMEOUT:ce(gn,`RPC '${e}' ${u} timed out`),d(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const T=m.getStatus();if(ce(gn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const x=function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN}(C.status);d(new ye(x,C.message))}else d(new ye(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ye(te.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ce(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(gn,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=pm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=W0(),d=X0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const E=u.join("");ce(gn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=h.createWebChannel(E,m);let w=!1,C=!1;const x=new BN({Fo:V=>{C?ce(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(ce(gn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(gn,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Mo:()=>T.close()}),z=(V,F,Q)=>{V.listen(F,$=>{try{Q($)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(T,Wl.EventType.OPEN,()=>{C||(ce(gn,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),z(T,Wl.EventType.CLOSE,()=>{C||(C=!0,ce(gn,`RPC '${e}' stream ${o} transport closed`),x.Ko())}),z(T,Wl.EventType.ERROR,V=>{C||(C=!0,Co(gn,`RPC '${e}' stream ${o} transport errored:`,V),x.Ko(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),z(T,Wl.EventType.MESSAGE,V=>{var F;if(!C){const Q=V.data[0];Xe(!!Q);const $=Q,ne=($==null?void 0:$.error)||((F=$[0])===null||F===void 0?void 0:F.error);if(ne){ce(gn,`RPC '${e}' stream ${o} received error:`,ne);const ie=ne.status;let oe=function(A){const D=Ct[A];if(D!==void 0)return Db(D)}(ie),M=ne.message;oe===void 0&&(oe=te.INTERNAL,M="Unknown error status: "+ie+" with message "+ne.message),C=!0,x.Ko(new ye(oe,M)),T.close()}else ce(gn,`RPC '${e}' stream ${o} received:`,Q),x.Uo(Q)}}),z(d,Y0.STAT_EVENT,V=>{V.stat===im.PROXY?ce(gn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===im.NOPROXY&&ce(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new GO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="PersistentStream";class Fb{constructor(e,t,s,o,u,h,d,m){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ye(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(tT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(tT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jN extends Fb{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QO(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?qi(h.readTime):we.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=fm(this.serializer),t.addTarget=function(u,h){let d;const m=h.target;if(d=om(m)?{documents:WO(u,m)}:{query:ZO(u,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Mb(u,h.resumeToken);const g=um(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=um(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=eN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=fm(this.serializer),t.removeTarget=e,this.I_(t)}}class qN extends Fb{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XO(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=fm(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>YO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{}class GN extends FN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,cm(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(te.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,cm(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(te.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class KN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mr(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class $N{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ra(this)&&(ce(Ta,"Restarting streams for network reachability change."),await async function(m){const g=Ce(m);g.W_.add(4),await xu(g),g.j_.set("Unknown"),g.W_.delete(4),await mf(g)}(this))})}),this.j_=new KN(s,o)}}async function mf(i){if(Ra(i))for(const e of i.G_)await e(!0)}async function xu(i){for(const e of i.G_)await e(!1)}function Gb(i,e){const t=Ce(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ag(t)?sg(t):Bo(t).c_()&&rg(t,e))}function ig(i,e){const t=Ce(i),s=Bo(t);t.U_.delete(e),s.c_()&&Kb(t,e),t.U_.size===0&&(s.c_()?s.P_():Ra(t)&&t.j_.set("Unknown"))}function rg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(i).y_(e)}function Kb(i,e){i.H_.Ne(e),Bo(i).w_(e)}function sg(i){i.H_=new HO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.j_.B_()}function ag(i){return Ra(i)&&!Bo(i).u_()&&i.U_.size>0}function Ra(i){return Ce(i).W_.size===0}function $b(i){i.H_=void 0}async function QN(i){i.j_.set("Online")}async function YN(i){i.U_.forEach((e,t)=>{rg(i,e)})}async function XN(i,e){$b(i),ag(i)?(i.j_.q_(e),sg(i)):i.j_.set("Unknown")}async function WN(i,e,t){if(i.j_.set("Online"),e instanceof Nb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){ce(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(i,s)}else if(e instanceof Eh?i.H_.We(e):e instanceof Ob?i.H_.Ze(e):i.H_.je(e),!t.isEqual(we.min()))try{const s=await jb(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const E=u.U_.get(m);if(!E)return;u.U_.set(m,E.withResumeToken(un.EMPTY_BYTE_STRING,E.snapshotVersion)),Kb(u,m);const T=new Ts(E.target,m,g,E.sequenceNumber);rg(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ce(Ta,"Failed to raise snapshot:",s),await Bh(i,s)}}async function Bh(i,e,t){if(!zo(e))throw e;i.W_.add(1),await xu(i),i.j_.set("Offline"),t||(t=()=>jb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Ta,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await mf(i)})}function Qb(i,e){return e().catch(t=>Bh(i,t,e))}async function gf(i){const e=Ce(i),t=Ms(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:qm;for(;ZN(e);)try{const o=await xN(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,JN(e,o)}catch(o){await Bh(e,o)}Yb(e)&&Xb(e)}function ZN(i){return Ra(i)&&i.K_.length<10}function JN(i,e){i.K_.push(e);const t=Ms(i);t.c_()&&t.b_&&t.S_(e.mutations)}function Yb(i){return Ra(i)&&!Ms(i).u_()&&i.K_.length>0}function Xb(i){Ms(i).start()}async function e2(i){Ms(i).C_()}async function t2(i){const e=Ms(i);for(const t of i.K_)e.S_(t.mutations)}async function n2(i,e,t){const s=i.K_.shift(),o=Xm.from(s,e,t);await Qb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await gf(i)}async function i2(i,e){e&&Ms(i).b_&&await async function(s,o){if(function(h){return UO(h)&&h!==te.ABORTED}(o.code)){const u=s.K_.shift();Ms(s).h_(),await Qb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await gf(s)}}(i,e),Yb(i)&&Xb(i)}async function nT(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),ce(Ta,"RemoteStore received new credentials");const s=Ra(t);t.W_.add(3),await xu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await mf(t)}async function r2(i,e){const t=Ce(i);e?(t.W_.delete(2),await mf(t)):e||(t.W_.add(2),await xu(t),t.j_.set("Unknown"))}function Bo(i){return i.J_||(i.J_=function(t,s,o){const u=Ce(t);return u.M_(),new jN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:QN.bind(null,i),No:YN.bind(null,i),Lo:XN.bind(null,i),p_:WN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),ag(i)?sg(i):i.j_.set("Unknown")):(await i.J_.stop(),$b(i))})),i.J_}function Ms(i){return i.Y_||(i.Y_=function(t,s,o){const u=Ce(t);return u.M_(),new qN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:e2.bind(null,i),Lo:i2.bind(null,i),D_:t2.bind(null,i),v_:n2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await gf(i)):(await i.Y_.stop(),i.K_.length>0&&(ce(Ta,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new og(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(i,e){if(Mr("AsyncQueue",`${e}: ${i}`),zo(i))return new ye(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Zl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.Z_=new dt(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Mo{constructor(e,t,s,o,u,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Mo(e,t,Ao.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class a2{constructor(){this.queries=rT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),u=o.queries;o.queries=rT(),u.forEach((h,d)=>{for(const m of d.ta)m.onError(s)})})(this,new ye(te.ABORTED,"Firestore shutting down"))}}function rT(){return new Aa(i=>yb(i),uf)}async function o2(i,e){const t=Ce(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new s2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=lg(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&ug(t)}async function l2(i,e){const t=Ce(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function u2(i,e){const t=Ce(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&ug(t)}function c2(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function ug(i){i.ia.forEach(e=>{e.next()})}var mm,sT;(sT=mm||(mm={}))._a="default",sT.Cache="cache";class h2{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.key=e}}class Zb{constructor(e){this.key=e}}class f2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=vb(e),this.wa=new Ao(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new iT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const w=o.get(E),C=cf(this.query,T)?T:null,x=!!w&&this.mutatedKeys.has(w.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?x!==z&&(s.track({type:3,doc:C}),V=!0):this.va(w,C)||(s.track({type:2,doc:C}),V=!0,(m&&this.ya(C,m)>0||g&&this.ya(C,g)<0)&&(d=!0)):!w&&C?(s.track({type:0,doc:C}),V=!0):w&&!C&&(s.track({type:1,doc:w}),V=!0,(m||g)&&(d=!0)),V&&(C?(h=h.add(C),u=z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(C,x){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return z(C)-z(x)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new Mo(this.query,e.wa,u,h,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new iT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Zb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Wb(s))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cg="SyncEngine";class d2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class p2{constructor(e){this.key=e,this.Ba=!1}}class m2{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Aa(d=>yb(d),uf),this.qa=new Map,this.Qa=new Set,this.$a=new dt(_e.comparator),this.Ka=new Map,this.Ua=new Jm,this.Wa={},this.Ga=new Map,this.za=No.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g2(i,e,t=!0){const s=rS(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Jb(s,e,t,!0),o}async function y2(i,e){const t=rS(i);await Jb(t,e,!0,!1)}async function Jb(i,e,t,s){const o=await kN(i.localStore,ji(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await v2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Gb(i.remoteStore,o),d}async function v2(i,e,t,s,o){i.Ha=(T,w,C)=>async function(z,V,F,Q){let $=V.view.Sa(F);$.ls&&($=await WE(z.localStore,V.query,!1).then(({documents:M})=>V.view.Sa(M,$)));const ne=Q&&Q.targetChanges.get(V.targetId),ie=Q&&Q.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges($,z.isPrimaryClient,ne,ie);return oT(z,V.targetId,oe.Ma),oe.snapshot}(i,T,w,C);const u=await WE(i.localStore,e,!0),h=new f2(e,u.gs),d=h.Sa(u.documents),m=Mu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,m);oT(i,t,g.Ma);const E=new d2(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function _2(i,e,t){const s=Ce(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!uf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ig(s.remoteStore,o.targetId),gm(s,o.targetId)}).catch(Uo)):(gm(s,o.targetId),await dm(s.localStore,o.targetId,!0))}async function E2(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ig(t.remoteStore,s.targetId))}async function T2(i,e,t){const s=I2(i);try{const o=await function(h,d){const m=Ce(h),g=Bt.now(),E=d.reduce((C,x)=>C.add(x.key),Pe());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=xr(),z=Pe();return m.ds.getEntries(C,E).next(V=>{x=V,x.forEach((F,Q)=>{Q.isValidDocument()||(z=z.add(F))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,x)).next(V=>{T=V;const F=[];for(const Q of d){const $=xO(Q,T.get(Q.key).overlayedDocument);$!=null&&F.push(new Ls(Q.key,$,ub($.value.mapValue),ui.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,F,d)}).next(V=>{w=V;const F=V.applyToLocalDocumentSet(T,z);return m.documentOverlayCache.saveOverlays(C,V.batchId,F)})}).then(()=>({batchId:w.batchId,changes:Eb(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new dt(Ue)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await ku(s,o.changes),await gf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");t.reject(u)}}async function eS(i,e){const t=Ce(i);try{const s=await NN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await ku(t,s,e)}catch(s){await Uo(s)}}function aT(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=Ce(h);m.onlineState=d;let g=!1;m.queries.forEach((E,T)=>{for(const w of T.ta)w.sa(d)&&(g=!0)}),g&&ug(m)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b2(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new dt(_e.comparator);h=h.insert(u,vn.newNoDocument(u,we.min()));const d=Pe().add(u),m=new df(we.min(),new Map,new dt(Ue),h,d);await eS(s,m),s.$a=s.$a.remove(u),s.Ka.delete(e),hg(s)}else await dm(s.localStore,e,!1).then(()=>gm(s,e,t)).catch(Uo)}async function S2(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await ON(t.localStore,e);nS(t,s,null),tS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ku(t,o)}catch(o){await Uo(o)}}async function w2(i,e,t){const s=Ce(i);try{const o=await function(h,d){const m=Ce(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Xe(T!==null),E=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(s.localStore,e);nS(s,e,t),tS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ku(s,o)}catch(o){await Uo(o)}}function tS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function nS(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function gm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||iS(i,s)})}function iS(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ig(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),hg(i))}function oT(i,e,t){for(const s of t)s instanceof Wb?(i.Ua.addReference(s.key,e),A2(i,s)):s instanceof Zb?(ce(cg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||iS(i,s.key)):be()}function A2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ce(cg,"New document in limbo: "+t),i.Qa.add(s),hg(i))}function hg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new _e(lt.fromString(e)),s=i.za.next();i.Ka.set(s,new p2(t)),i.$a=i.$a.insert(t,s),Gb(i.remoteStore,new Ts(ji(gb(t.path)),s,"TargetPurposeLimboResolution",sf.ae))}}async function ku(i,e,t){const s=Ce(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,m)=>{h.push(s.Ha(m,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){o.push(g);const T=tg.Yi(m.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(m,g){const E=Ce(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(g,w=>Z.forEach(w.Hi,C=>E.persistence.referenceDelegate.addReference(T,w.targetId,C)).next(()=>Z.forEach(w.Ji,C=>E.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))}catch(T){if(!zo(T))throw T;ce(ng,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=E.Ts.get(w),x=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(x);E.Ts=E.Ts.insert(w,z)}}}(s.localStore,u))}async function R2(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){ce(cg,"User change. New user:",e.toKey());const s=await Hb(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(m=>{m.reject(new ye(te.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(t,s.Rs)}}function C2(i,e){const t=Ce(i),s=t.Ka.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function rS(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.La.p_=u2.bind(null,e.eventManager),e.La.Ja=c2.bind(null,e.eventManager),e}function I2(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return DN(this.persistence,new RN,e.initialUser,this.serializer)}Xa(e){return new Bb(eg.ri,this.serializer)}Za(e){return new PN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class D2 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof zh);const s=this.persistence.referenceDelegate.garbageCollector;return new hN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Bb(s=>zh.ri(s,t),this.serializer)}}class ym{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new a2}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=function(u){return new HN(u)}(e.databaseInfo);return function(u,h,d,m){return new GN(u,h,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new $N(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>aT(this.syncEngine,t,0),function(){return eT.D()?new eT:new LN}())}createSyncEngine(e,t){return function(o,u,h,d,m,g,E){const T=new m2(o,u,h,d,m,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ce(o);ce(Ta,"RemoteStore shutting down."),u.W_.add(5),await xu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class N2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(xs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(xs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=lg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(xs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Hb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function lT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await M2(i);ce(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>nT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>nT(e.remoteStore,o)),i._onlineComponents=e}async function M2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(xs,"Using user provided OfflineComponentProvider");try{await Bp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Co("Error using user provided cache. Falling back to memory cache: "+t),await Bp(i,new Hh)}}else ce(xs,"Using default OfflineComponentProvider"),await Bp(i,new D2(void 0));return i._offlineComponents}async function sS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(xs,"Using user provided OnlineComponentProvider"),await lT(i,i._uninitializedComponentsProvider._online)):(ce(xs,"Using default OnlineComponentProvider"),await lT(i,new ym))),i._onlineComponents}function x2(i){return sS(i).then(e=>e.syncEngine)}async function k2(i){const e=await sS(i),t=e.eventManager;return t.onListen=g2.bind(null,e.syncEngine),t.onUnlisten=_2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),t}function V2(i,e,t={}){const s=new As;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,m,g){const E=new O2({next:w=>{E.su(),h.enqueueAndForget(()=>l2(u,T)),w.fromCache&&m.source==="server"?g.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new h2(d,E,{includeMetadataChanges:!0,Ta:!0});return o2(u,T)}(await k2(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(i,e,t){if(!t)throw new ye(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function P2(i,e,t,s){if(e===!0&&s===!0)throw new ye(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function cT(i){if(!_e.isDocumentKey(i))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hT(i){if(_e.isDocumentKey(i))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function fg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function kr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fg(i);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firestore.googleapis.com",fT=!0;class dT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lS,this.ssl=fT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zD;switch(s.type){case"firstParty":return new qD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=uT.get(t);s&&(ce("ComponentProvider","Removing Datastore"),uT.delete(t),s.terminate())}(this),Promise.resolve()}}function L2(i,e,t,s={}){var o;const u=(i=kr(i,yf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==lS&&u.host!==d&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!ga(m,h)&&(i._setSettings(m),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=yn.MOCK_USER;else{g=s0(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new yn(T)}i._authCredentials=new BD(new Z0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class Fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Rs extends vf{constructor(e,t,s){super(e,t,gb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new _e(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function pT(i,e,...t){if(i=En(i),oS("collection","path",e),i instanceof yf){const s=lt.fromString(e,...t);return hT(s),new Rs(i,null,s)}{if(!(i instanceof Fn||i instanceof Rs))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return hT(s),new Rs(i.firestore,null,s)}}function su(i,e,...t){if(i=En(i),arguments.length===1&&(e=J0.newId()),oS("doc","path",e),i instanceof yf){const s=lt.fromString(e,...t);return cT(s),new Fn(i,null,new _e(s))}{if(!(i instanceof Fn||i instanceof Rs))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...t));return cT(s),new Fn(i.firestore,i instanceof Rs?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qb(this,"async_queue_retry"),this.bu=()=>{const s=zp();s&&ce(mT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=zp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new As;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;ce(mT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Mr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=og.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ho extends yf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new gT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function U2(i,e){const t=typeof i=="object"?i:Mm(),s=typeof i=="string"?i:Mh,o=ef(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=n0("firestore");u&&L2(o,...u)}return o}function uS(i){if(i._terminated)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||z2(i),i._firestoreClient}function z2(i){var e,t,s;const o=i._freezeSettings(),u=function(d,m,g,E){return new iO(d,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,aS(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new N2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(un.fromBase64String(e))}catch(t){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xo(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^__.*__$/;class H2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class cS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class gg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hS(this.Lu)&&B2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class j2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}ju(e,t,s,o=!1){return new gg({Lu:e,methodName:t,zu:s,path:ln.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(i){const e=i._freezeSettings(),t=pf(i._databaseId);return new j2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function fS(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);vg("Data must be an object, but it was:",h,s);const d=dS(s,h);let m,g;if(u.merge)m=new qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=vm(e,T,t);if(!h.contains(w))throw new ye(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);mS(E,w)||E.push(w)}m=new qn(E),g=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=h.fieldTransforms;return new H2(new On(d),m,g)}class Ef extends dg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function q2(i,e,t,s){const o=i.ju(1,e,t);vg("Data must be an object, but it was:",o,s);const u=[],h=On.empty();Ps(s,(m,g)=>{const E=_g(e,m,t);g=En(g);const T=o.Ku(E);if(g instanceof Ef)u.push(E);else{const w=Tf(g,T);w!=null&&(u.push(E),h.set(E,w))}});const d=new qn(u);return new cS(h,d,o.fieldTransforms)}function F2(i,e,t,s,o,u){const h=i.ju(1,e,t),d=[vm(e,s,t)],m=[o];if(u.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(vm(e,u[w])),m.push(u[w+1]);const g=[],E=On.empty();for(let w=d.length-1;w>=0;--w)if(!mS(g,d[w])){const C=d[w];let x=m[w];x=En(x);const z=h.Ku(C);if(x instanceof Ef)g.push(C);else{const V=Tf(x,z);V!=null&&(g.push(C),E.set(C,V))}}const T=new qn(g);return new cS(E,T,h.fieldTransforms)}function Tf(i,e){if(pS(i=En(i)))return vg("Unsupported field value:",e,i),dS(i,e);if(i instanceof dg)return function(s,o){if(!hS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let m=Tf(d,o.Uu(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Bt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Bt){const u=new Bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xo)return{bytesValue:Mb(o.serializer,s._byteString)};if(s instanceof Fn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(h,d){return{mapValue:{fields:{[ob]:{stringValue:lb},[xh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Qm(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${fg(s)}`)}(i,e)}function dS(i,e){const t={};return tb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(i,(s,o)=>{const u=Tf(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function pS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Bt||i instanceof pg||i instanceof xo||i instanceof Fn||i instanceof dg||i instanceof mg)}function vg(i,e,t){if(!pS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=fg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function vm(i,e,t){if((e=En(e))instanceof _f)return e._internalPath;if(typeof e=="string")return _g(i,e);throw jh("Field path arguments must be of type string or ",i,!1,void 0,t)}const G2=new RegExp("[~\\*/\\[\\]]");function _g(i,e,t){if(e.search(G2)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _f(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function jh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new ye(te.INVALID_ARGUMENT,d+i+m)}function mS(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class K2 extends gS{data(){return super.data()}}function yS(i,e){return typeof e=="string"?_g(i,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q2{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ps(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>bt(h.doubleValue));return new mg(u)}convertGeoPoint(e){return new pg(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);Xe(Ub(s));const o=new mu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Y2 extends gS{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(yS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Th extends Y2{data(e={}){return super.data(e)}}class X2{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Th(this._firestore,this._userDataWriter,s.key,s,new sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new Th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new sh(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:W2(d.type),doc:m,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function W2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class Z2 extends Q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,t)}}function J2(i){i=kr(i,vf);const e=kr(i.firestore,Ho),t=uS(e),s=new Z2(e);return $2(i._query),V2(t,i._query).then(o=>new X2(e,s,i,o))}function eM(i,e,t){i=kr(i,Fn);const s=kr(i.firestore,Ho),o=vS(i.converter,e);return bf(s,[fS(yg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,ui.none())])}function yT(i,e,t,...s){i=kr(i,Fn);const o=kr(i.firestore,Ho),u=yg(o);let h;return h=typeof(e=En(e))=="string"||e instanceof _f?F2(u,"updateDoc",i._key,e,t,s):q2(u,"updateDoc",i._key,e),bf(o,[h.toMutation(i._key,ui.exists(!0))])}function tM(i){return bf(kr(i.firestore,Ho),[new Ym(i._key,ui.none())])}function nM(i,e){const t=kr(i.firestore,Ho),s=su(i),o=vS(i.converter,e);return bf(t,[fS(yg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}function bf(i,e){return function(s,o){const u=new As;return s.asyncQueue.enqueueAndForget(async()=>T2(await x2(s),o,u)),u.promise}(uS(i),e)}(function(e,t=!0){(function(o){Lo=o})(Sa),ya(new Cs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ho(new HD(s.getProvider("auth-internal")),new FD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),zi(bE,SE,e),zi(bE,SE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebasestorage.googleapis.com",iM="storageBucket",rM=2*60*1e3,sM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Xi{constructor(e,t,s=0){super(Hp(e),`Firebase Storage: ${t} (${Hp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function Hp(i){return"storage/"+i}function aM(){const i="An unknown error occurred, please check the error payload for server response.";return new Wi($i.UNKNOWN,i)}function oM(){return new Wi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lM(){return new Wi($i.CANCELED,"User canceled the upload/download.")}function uM(i){return new Wi($i.INVALID_URL,"Invalid URL '"+i+"'.")}function cM(i){return new Wi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function vT(i){return new Wi($i.INVALID_ARGUMENT,i)}function ES(){return new Wi($i.APP_DELETED,"The Firebase app was deleted.")}function hM(i){return new Wi($i.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gi.makeFromUrl(e,t)}catch{return new gi(e,"")}if(s.path==="")return s;throw cM(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},z=t===_S?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",F=new RegExp(`^https?://${z}/${o}/${V}`,"i"),$=[{regex:d,indices:m,postModify:u},{regex:C,indices:x,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<$.length;ne++){const ie=$[ne],oe=ie.regex.exec(e);if(oe){const M=oe[ie.indices.bucket];let R=oe[ie.indices.path];R||(R=""),s=new gi(M,R),ie.postModify(s);break}}if(s==null)throw uM(e);return s}}class fM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i,e,t){let s=1,o=null,u=null,h=!1,d=0;function m(){return d===2}let g=!1;function E(...V){g||(g=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,i(C,m())},V)}function w(){u&&clearTimeout(u)}function C(V,...F){if(g){w();return}if(V){w(),E.call(null,V,...F);return}if(m()||h){w(),E.call(null,V,...F);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,T($)}let x=!1;function z(V){x||(x=!0,w(),!g&&(o!==null?(V||(d=2),clearTimeout(o),T(0)):V||(d=1)))}return T(0),u=setTimeout(()=>{h=!0,z(!0)},t),z}function pM(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(i){return i!==void 0}function _T(i,e,t,s){if(s<e)throw vT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw vT(`Invalid value for '${i}'. Expected ${t} or less.`)}function gM(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var qh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(qh||(qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t,s,o,u,h,d,m,g,E,T,w=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,x)=>{this.resolve_=C,this.reject_=x,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ah(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===qh.NO_ERROR,m=u.getStatus();if(!d||yM(m,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===qh.ABORT;s(!1,new ah(!1,null,E));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new ah(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());mM(m)?u(m):u()}catch(m){h(m)}else if(d!==null){const m=aM();m.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,m)):h(m)}else if(o.canceled){const m=this.appDelete_?ES():lM();h(m)}else{const m=oM();h(m)}};this.canceled_?t(!1,new ah(!1,null,!0)):this.backoffId_=dM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function _M(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function EM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function bM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function SM(i,e,t,s,o,u,h=!0){const d=gM(i.urlParams),m=i.url+d,g=Object.assign({},i.headers);return TM(g,e),_M(g,t),EM(g,u),bM(g,s),new vM(m,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function AM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this._service=e,t instanceof gi?this._location=t:this._location=gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fh(e,t)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AM(this._location.path)}get storage(){return this._service}get parent(){const e=wM(this._location.path);if(e===null)return null;const t=new gi(this._location.bucket,e);return new Fh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw hM(e)}}function ET(i,e){const t=e==null?void 0:e[iM];return t==null?null:gi.makeFromBucketSpec(t,i)}function RM(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:s0(o,i.app.options.projectId))}class CM{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=_S,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rM,this._maxUploadRetryTime=sM,this._requests=new Set,o!=null?this._bucket=gi.makeFromBucketSpec(o,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new fM(ES());{const h=SM(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const TT="@firebase/storage",bT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="storage";function IM(i=Mm(),e){i=En(i);const s=ef(i,TS).getImmediate({identifier:e}),o=n0("storage");return o&&DM(s,...o),s}function DM(i,e,t,s={}){RM(i,e,t,s)}function OM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new CM(t,s,o,e,Sa)}function NM(){ya(new Cs(TS,OM,"PUBLIC").setMultipleInstances(!0)),zi(TT,bT,""),zi(TT,bT,"esm2017")}NM();const MM={apiKey:"AIzaSyCIDiOLsfBxSqwSF4VV29R4pkqMBj8t_ww",authDomain:"to-do-list-app-ffa0d.firebaseapp.com",projectId:"to-do-list-app-ffa0d",storageBucket:"to-do-list-app-ffa0d.firebasestorage.app",messagingSenderId:"267422857077",appId:"1:267422857077:web:13cc8bd9f753544602c53c"},Eg=l0(MM),bS=LD(Eg),Eo=U2(Eg);IM(Eg);const xM=()=>{const[i,e]=O.useState(""),[t,s]=O.useState(""),o=Xh(),u=async()=>{try{const d=(await S1(bS,i,t)).user;await eM(su(Eo,"users",d.uid),{email:d.email,uid:d.uid}),o("/todolist")}catch(h){console.error("Error signing up",h),alert("Signup failed. Please try again.")}};return Re.jsx("div",{className:"container",children:Re.jsxs("div",{className:"signup-box",children:[Re.jsx("h2",{children:"Sign Up"}),Re.jsx("input",{type:"email",placeholder:"Email",className:"input-field",onChange:h=>e(h.target.value)}),Re.jsx("input",{type:"password",placeholder:"Password",className:"input-field",onChange:h=>s(h.target.value)}),Re.jsx("button",{className:"signup-btn",onClick:u,children:"Sign Up"}),Re.jsxs("p",{className:"login-link",children:["Have an account already? ",Re.jsx(Zh,{to:"/",className:"link",children:"Login here"})]})]})})},kM=()=>{const[i,e]=O.useState(""),[t,s]=O.useState(""),o=Xh(),u=async()=>{try{await w1(bS,i,t),o("/todolist")}catch(h){console.error("Error logging in",h),alert("Email or password is incorrect.",h)}};return Re.jsx("div",{className:"container",children:Re.jsxs("div",{className:"login-box",children:[Re.jsx("h2",{children:"Login"}),Re.jsx("input",{type:"email",placeholder:"Email",className:"input-field",onChange:h=>e(h.target.value)}),Re.jsx("input",{type:"password",placeholder:"Password",className:"input-field",onChange:h=>s(h.target.value)}),Re.jsx("button",{className:"login-btn",onClick:u,children:"Login"}),Re.jsxs("p",{className:"login-link",children:["Don't have an account? ",Re.jsx(Zh,{to:"/signup",className:"link",children:"Sign up here"})]})]})})};function VM(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return O.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const Sf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jo(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Tg(i){return"nodeType"in i}function Nn(i){var e,t;return i?jo(i)?i:Tg(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function bg(i){const{Document:e}=Nn(i);return i instanceof e}function Vu(i){return jo(i)?!1:i instanceof Nn(i).HTMLElement}function SS(i){return i instanceof Nn(i).SVGElement}function qo(i){return i?jo(i)?i.document:Tg(i)?bg(i)?i:Vu(i)||SS(i)?i.ownerDocument:document:document:document}const Qi=Sf?O.useLayoutEffect:O.useEffect;function Sg(i){const e=O.useRef(i);return Qi(()=>{e.current=i}),O.useCallback(function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function PM(){const i=O.useRef(null),e=O.useCallback((s,o)=>{i.current=setInterval(s,o)},[]),t=O.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function _u(i,e){e===void 0&&(e=[i]);const t=O.useRef(i);return Qi(()=>{t.current!==i&&(t.current=i)},e),t}function Pu(i,e){const t=O.useRef();return O.useMemo(()=>{const s=i(t.current);return t.current=s,s},[...e])}function Gh(i){const e=Sg(i),t=O.useRef(null),s=O.useCallback(o=>{o!==t.current&&(e==null||e(o,t.current)),t.current=o},[]);return[t,s]}function _m(i){const e=O.useRef();return O.useEffect(()=>{e.current=i},[i]),e.current}let jp={};function Lu(i,e){return O.useMemo(()=>{if(e)return e;const t=jp[i]==null?0:jp[i]+1;return jp[i]=t,i+"-"+t},[i,e])}function wS(i){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return s.reduce((u,h)=>{const d=Object.entries(h);for(const[m,g]of d){const E=u[m];E!=null&&(u[m]=E+i*g)}return u},{...e})}}const Ro=wS(1),Kh=wS(-1);function LM(i){return"clientX"in i&&"clientY"in i}function wg(i){if(!i)return!1;const{KeyboardEvent:e}=Nn(i.target);return e&&i instanceof e}function UM(i){if(!i)return!1;const{TouchEvent:e}=Nn(i.target);return e&&i instanceof e}function Em(i){if(UM(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return LM(i)?{x:i.clientX,y:i.clientY}:null}const Eu=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[Eu.Translate.toString(i),Eu.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:s}=i;return e+" "+t+"ms "+s}}}),ST="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zM(i){return i.matches(ST)?i:i.querySelector(ST)}const BM={display:"none"};function HM(i){let{id:e,value:t}=i;return Dn.createElement("div",{id:e,style:BM},t)}function jM(i){let{id:e,announcement:t,ariaLiveType:s="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Dn.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},t)}function qM(){const[i,e]=O.useState("");return{announce:O.useCallback(s=>{s!=null&&e(s)},[]),announcement:i}}const AS=O.createContext(null);function FM(i){const e=O.useContext(AS);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function GM(){const[i]=O.useState(()=>new Set),e=O.useCallback(s=>(i.add(s),()=>i.delete(s)),[i]);return[O.useCallback(s=>{let{type:o,event:u}=s;i.forEach(h=>{var d;return(d=h[o])==null?void 0:d.call(h,u)})},[i]),e]}const KM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$M={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function QM(i){let{announcements:e=$M,container:t,hiddenTextDescribedById:s,screenReaderInstructions:o=KM}=i;const{announce:u,announcement:h}=qM(),d=Lu("DndLiveRegion"),[m,g]=O.useState(!1);if(O.useEffect(()=>{g(!0)},[]),FM(O.useMemo(()=>({onDragStart(T){let{active:w}=T;u(e.onDragStart({active:w}))},onDragMove(T){let{active:w,over:C}=T;e.onDragMove&&u(e.onDragMove({active:w,over:C}))},onDragOver(T){let{active:w,over:C}=T;u(e.onDragOver({active:w,over:C}))},onDragEnd(T){let{active:w,over:C}=T;u(e.onDragEnd({active:w,over:C}))},onDragCancel(T){let{active:w,over:C}=T;u(e.onDragCancel({active:w,over:C}))}}),[u,e])),!m)return null;const E=Dn.createElement(Dn.Fragment,null,Dn.createElement(HM,{id:s,value:o.draggable}),Dn.createElement(jM,{id:d,announcement:h}));return t?Ql.createPortal(E,t):E}var Ut;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Ut||(Ut={}));function $h(){}const vi=Object.freeze({x:0,y:0});function YM(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function XM(i,e){let{data:{value:t}}=i,{data:{value:s}}=e;return t-s}function WM(i,e){let{data:{value:t}}=i,{data:{value:s}}=e;return s-t}function ZM(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function wT(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const JM=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=i;const o=wT(e,e.left,e.top),u=[];for(const h of s){const{id:d}=h,m=t.get(d);if(m){const g=YM(wT(m),o);u.push({id:d,data:{droppableContainer:h,value:g}})}}return u.sort(XM)};function ex(i,e){const t=Math.max(e.top,i.top),s=Math.max(e.left,i.left),o=Math.min(e.left+e.width,i.left+i.width),u=Math.min(e.top+e.height,i.top+i.height),h=o-s,d=u-t;if(s<o&&t<u){const m=e.width*e.height,g=i.width*i.height,E=h*d,T=E/(m+g-E);return Number(T.toFixed(4))}return 0}const tx=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=i;const o=[];for(const u of s){const{id:h}=u,d=t.get(h);if(d){const m=ex(d,e);m>0&&o.push({id:h,data:{droppableContainer:u,value:m}})}}return o.sort(WM)};function nx(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function RS(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:vi}function ix(i){return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((h,d)=>({...h,top:h.top+i*d.y,bottom:h.bottom+i*d.y,left:h.left+i*d.x,right:h.right+i*d.x}),{...t})}}const rx=ix(1);function sx(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function ax(i,e,t){const s=sx(e);if(!s)return i;const{scaleX:o,scaleY:u,x:h,y:d}=s,m=i.left-h-(1-o)*parseFloat(t),g=i.top-d-(1-u)*parseFloat(t.slice(t.indexOf(" ")+1)),E=o?i.width/o:i.width,T=u?i.height/u:i.height;return{width:E,height:T,top:g,right:m+E,bottom:g+T,left:m}}const ox={ignoreTransform:!1};function Fo(i,e){e===void 0&&(e=ox);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:E}=Nn(i).getComputedStyle(i);g&&(t=ax(t,g,E))}const{top:s,left:o,width:u,height:h,bottom:d,right:m}=t;return{top:s,left:o,width:u,height:h,bottom:d,right:m}}function AT(i){return Fo(i,{ignoreTransform:!0})}function lx(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function ux(i,e){return e===void 0&&(e=Nn(i).getComputedStyle(i)),e.position==="fixed"}function cx(i,e){e===void 0&&(e=Nn(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?t.test(u):!1})}function Ag(i,e){const t=[];function s(o){if(e!=null&&t.length>=e||!o)return t;if(bg(o)&&o.scrollingElement!=null&&!t.includes(o.scrollingElement))return t.push(o.scrollingElement),t;if(!Vu(o)||SS(o)||t.includes(o))return t;const u=Nn(i).getComputedStyle(o);return o!==i&&cx(o,u)&&t.push(o),ux(o,u)?t:s(o.parentNode)}return i?s(i):t}function CS(i){const[e]=Ag(i,1);return e??null}function qp(i){return!Sf||!i?null:jo(i)?i:Tg(i)?bg(i)||i===qo(i).scrollingElement?window:Vu(i)?i:null:null}function IS(i){return jo(i)?i.scrollX:i.scrollLeft}function DS(i){return jo(i)?i.scrollY:i.scrollTop}function Tm(i){return{x:IS(i),y:DS(i)}}var Wt;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Wt||(Wt={}));function OS(i){return!Sf||!i?!1:i===document.scrollingElement}function NS(i){const e={x:0,y:0},t=OS(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},s={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},o=i.scrollTop<=e.y,u=i.scrollLeft<=e.x,h=i.scrollTop>=s.y,d=i.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:h,isRight:d,maxScroll:s,minScroll:e}}const hx={x:.2,y:.2};function fx(i,e,t,s,o){let{top:u,left:h,right:d,bottom:m}=t;s===void 0&&(s=10),o===void 0&&(o=hx);const{isTop:g,isBottom:E,isLeft:T,isRight:w}=NS(i),C={x:0,y:0},x={x:0,y:0},z={height:e.height*o.y,width:e.width*o.x};return!g&&u<=e.top+z.height?(C.y=Wt.Backward,x.y=s*Math.abs((e.top+z.height-u)/z.height)):!E&&m>=e.bottom-z.height&&(C.y=Wt.Forward,x.y=s*Math.abs((e.bottom-z.height-m)/z.height)),!w&&d>=e.right-z.width?(C.x=Wt.Forward,x.x=s*Math.abs((e.right-z.width-d)/z.width)):!T&&h<=e.left+z.width&&(C.x=Wt.Backward,x.x=s*Math.abs((e.left+z.width-h)/z.width)),{direction:C,speed:x}}function dx(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:e,left:t,right:s,bottom:o}=i.getBoundingClientRect();return{top:e,left:t,right:s,bottom:o,width:i.clientWidth,height:i.clientHeight}}function MS(i){return i.reduce((e,t)=>Ro(e,Tm(t)),vi)}function px(i){return i.reduce((e,t)=>e+IS(t),0)}function mx(i){return i.reduce((e,t)=>e+DS(t),0)}function gx(i,e){if(e===void 0&&(e=Fo),!i)return;const{top:t,left:s,bottom:o,right:u}=e(i);CS(i)&&(o<=0||u<=0||t>=window.innerHeight||s>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const yx=[["x",["left","right"],px],["y",["top","bottom"],mx]];class Rg{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ag(t),o=MS(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,h,d]of yx)for(const m of h)Object.defineProperty(this,m,{get:()=>{const g=d(s),E=o[u]-g;return this.rect[m]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class au{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var o;(o=this.target)==null||o.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function vx(i){const{EventTarget:e}=Nn(i);return i instanceof e?i:qo(i)}function Fp(i,e){const t=Math.abs(i.x),s=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var li;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(li||(li={}));function RT(i){i.preventDefault()}function _x(i){i.stopPropagation()}var $e;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})($e||($e={}));const xS={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},Ex=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case $e.Right:return{...t,x:t.x+25};case $e.Left:return{...t,x:t.x-25};case $e.Down:return{...t,y:t.y+25};case $e.Up:return{...t,y:t.y-25}}};class kS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new au(qo(t)),this.windowListeners=new au(Nn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(li.Resize,this.handleCancel),this.windowListeners.add(li.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(li.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&gx(s),t(vi)}handleKeyDown(e){if(wg(e)){const{active:t,context:s,options:o}=this.props,{keyboardCodes:u=xS,coordinateGetter:h=Ex,scrollBehavior:d="smooth"}=o,{code:m}=e;if(u.end.includes(m)){this.handleEnd(e);return}if(u.cancel.includes(m)){this.handleCancel(e);return}const{collisionRect:g}=s.current,E=g?{x:g.left,y:g.top}:vi;this.referenceCoordinates||(this.referenceCoordinates=E);const T=h(e,{active:t,context:s.current,currentCoordinates:E});if(T){const w=Kh(T,E),C={x:0,y:0},{scrollableAncestors:x}=s.current;for(const z of x){const V=e.code,{isTop:F,isRight:Q,isLeft:$,isBottom:ne,maxScroll:ie,minScroll:oe}=NS(z),M=dx(z),R={x:Math.min(V===$e.Right?M.right-M.width/2:M.right,Math.max(V===$e.Right?M.left:M.left+M.width/2,T.x)),y:Math.min(V===$e.Down?M.bottom-M.height/2:M.bottom,Math.max(V===$e.Down?M.top:M.top+M.height/2,T.y))},A=V===$e.Right&&!Q||V===$e.Left&&!$,D=V===$e.Down&&!ne||V===$e.Up&&!F;if(A&&R.x!==T.x){const k=z.scrollLeft+w.x,B=V===$e.Right&&k<=ie.x||V===$e.Left&&k>=oe.x;if(B&&!w.y){z.scrollTo({left:k,behavior:d});return}B?C.x=z.scrollLeft-k:C.x=V===$e.Right?z.scrollLeft-ie.x:z.scrollLeft-oe.x,C.x&&z.scrollBy({left:-C.x,behavior:d});break}else if(D&&R.y!==T.y){const k=z.scrollTop+w.y,B=V===$e.Down&&k<=ie.y||V===$e.Up&&k>=oe.y;if(B&&!w.x){z.scrollTo({top:k,behavior:d});return}B?C.y=z.scrollTop-k:C.y=V===$e.Down?z.scrollTop-ie.y:z.scrollTop-oe.y,C.y&&z.scrollBy({top:-C.y,behavior:d});break}}this.handleMove(e,Ro(Kh(T,this.referenceCoordinates),C))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}kS.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:s=xS,onActivation:o}=e,{active:u}=t;const{code:h}=i.nativeEvent;if(s.start.includes(h)){const d=u.activatorNode.current;return d&&i.target!==d?!1:(i.preventDefault(),o==null||o({event:i.nativeEvent}),!0)}return!1}}];function CT(i){return!!(i&&"distance"in i)}function IT(i){return!!(i&&"delay"in i)}class Cg{constructor(e,t,s){var o;s===void 0&&(s=vx(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:u}=e,{target:h}=u;this.props=e,this.events=t,this.document=qo(h),this.documentListeners=new au(this.document),this.listeners=new au(s),this.windowListeners=new au(Nn(h)),this.initialCoordinates=(o=Em(u))!=null?o:vi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(li.Resize,this.handleCancel),this.windowListeners.add(li.DragStart,RT),this.windowListeners.add(li.VisibilityChange,this.handleCancel),this.windowListeners.add(li.ContextMenu,RT),this.documentListeners.add(li.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IT(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(CT(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(li.Click,_x,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(li.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:h,options:{activationConstraint:d}}=u;if(!o)return;const m=(t=Em(e))!=null?t:vi,g=Kh(o,m);if(!s&&d){if(CT(d)){if(d.tolerance!=null&&Fp(g,d.tolerance))return this.handleCancel();if(Fp(g,d.distance))return this.handleStart()}if(IT(d)&&Fp(g,d.tolerance))return this.handleCancel();this.handlePending(d,g);return}e.cancelable&&e.preventDefault(),h(m)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Tx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class VS extends Cg{constructor(e){const{event:t}=e,s=qo(t.target);super(e,Tx,s)}}VS.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s==null||s({event:t}),!0)}}];const bx={move:{name:"mousemove"},end:{name:"mouseup"}};var bm;(function(i){i[i.RightClick=2]="RightClick"})(bm||(bm={}));class Sx extends Cg{constructor(e){super(e,bx,qo(e.event.target))}}Sx.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:s}=e;return t.button===bm.RightClick?!1:(s==null||s({event:t}),!0)}}];const Gp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class wx extends Cg{constructor(e){super(e,Gp)}static setup(){return window.addEventListener(Gp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Gp.move.name,e)};function e(){}}}wx.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:s}=e;const{touches:o}=t;return o.length>1?!1:(s==null||s({event:t}),!0)}}];var ou;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(ou||(ou={}));var Qh;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qh||(Qh={}));function Ax(i){let{acceleration:e,activator:t=ou.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:h=5,order:d=Qh.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:E,delta:T,threshold:w}=i;const C=Cx({delta:T,disabled:!u}),[x,z]=PM(),V=O.useRef({x:0,y:0}),F=O.useRef({x:0,y:0}),Q=O.useMemo(()=>{switch(t){case ou.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case ou.DraggableRect:return o}},[t,o,m]),$=O.useRef(null),ne=O.useCallback(()=>{const oe=$.current;if(!oe)return;const M=V.current.x*F.current.x,R=V.current.y*F.current.y;oe.scrollBy(M,R)},[]),ie=O.useMemo(()=>d===Qh.TreeOrder?[...g].reverse():g,[d,g]);O.useEffect(()=>{if(!u||!g.length||!Q){z();return}for(const oe of ie){if((s==null?void 0:s(oe))===!1)continue;const M=g.indexOf(oe),R=E[M];if(!R)continue;const{direction:A,speed:D}=fx(oe,R,Q,e,w);for(const k of["x","y"])C[k][A[k]]||(D[k]=0,A[k]=0);if(D.x>0||D.y>0){z(),$.current=oe,x(ne,h),V.current=D,F.current=A;return}}V.current={x:0,y:0},F.current={x:0,y:0},z()},[e,ne,s,z,u,h,JSON.stringify(Q),JSON.stringify(C),x,g,ie,E,JSON.stringify(w)])}const Rx={x:{[Wt.Backward]:!1,[Wt.Forward]:!1},y:{[Wt.Backward]:!1,[Wt.Forward]:!1}};function Cx(i){let{delta:e,disabled:t}=i;const s=_m(e);return Pu(o=>{if(t||!s||!o)return Rx;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Wt.Backward]:o.x[Wt.Backward]||u.x===-1,[Wt.Forward]:o.x[Wt.Forward]||u.x===1},y:{[Wt.Backward]:o.y[Wt.Backward]||u.y===-1,[Wt.Forward]:o.y[Wt.Forward]||u.y===1}}},[t,e,s])}function Ix(i,e){const t=e!=null?i.get(e):void 0,s=t?t.node.current:null;return Pu(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function Dx(i,e){return O.useMemo(()=>i.reduce((t,s)=>{const{sensor:o}=s,u=o.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,s)}));return[...t,...u]},[]),[i,e])}var Tu;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Tu||(Tu={}));var Sm;(function(i){i.Optimized="optimized"})(Sm||(Sm={}));const DT=new Map;function Ox(i,e){let{dragging:t,dependencies:s,config:o}=e;const[u,h]=O.useState(null),{frequency:d,measure:m,strategy:g}=o,E=O.useRef(i),T=V(),w=_u(T),C=O.useCallback(function(F){F===void 0&&(F=[]),!w.current&&h(Q=>Q===null?F:Q.concat(F.filter($=>!Q.includes($))))},[w]),x=O.useRef(null),z=Pu(F=>{if(T&&!t)return DT;if(!F||F===DT||E.current!==i||u!=null){const Q=new Map;for(let $ of i){if(!$)continue;if(u&&u.length>0&&!u.includes($.id)&&$.rect.current){Q.set($.id,$.rect.current);continue}const ne=$.node.current,ie=ne?new Rg(m(ne),ne):null;$.rect.current=ie,ie&&Q.set($.id,ie)}return Q}return F},[i,u,t,T,m]);return O.useEffect(()=>{E.current=i},[i]),O.useEffect(()=>{T||C()},[t,T]),O.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),O.useEffect(()=>{T||typeof d!="number"||x.current!==null||(x.current=setTimeout(()=>{C(),x.current=null},d))},[d,T,C,...s]),{droppableRects:z,measureDroppableContainers:C,measuringScheduled:u!=null};function V(){switch(g){case Tu.Always:return!1;case Tu.BeforeDragging:return t;default:return!t}}}function PS(i,e){return Pu(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function Nx(i,e){return PS(i,e)}function Mx(i){let{callback:e,disabled:t}=i;const s=Sg(e),o=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,t]);return O.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function wf(i){let{callback:e,disabled:t}=i;const s=Sg(e),o=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[t]);return O.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function xx(i){return new Rg(Fo(i),i)}function OT(i,e,t){e===void 0&&(e=xx);const[s,o]=O.useState(null);function u(){o(m=>{if(!i)return null;if(i.isConnected===!1){var g;return(g=m??t)!=null?g:null}const E=e(i);return JSON.stringify(m)===JSON.stringify(E)?m:E})}const h=Mx({callback(m){if(i)for(const g of m){const{type:E,target:T}=g;if(E==="childList"&&T instanceof HTMLElement&&T.contains(i)){u();break}}}}),d=wf({callback:u});return Qi(()=>{u(),i?(d==null||d.observe(i),h==null||h.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),h==null||h.disconnect())},[i]),s}function kx(i){const e=PS(i);return RS(i,e)}const NT=[];function Vx(i){const e=O.useRef(i),t=Pu(s=>i?s&&s!==NT&&i&&e.current&&i.parentNode===e.current.parentNode?s:Ag(i):NT,[i]);return O.useEffect(()=>{e.current=i},[i]),t}function Px(i){const[e,t]=O.useState(null),s=O.useRef(i),o=O.useCallback(u=>{const h=qp(u.target);h&&t(d=>d?(d.set(h,Tm(h)),new Map(d)):null)},[]);return O.useEffect(()=>{const u=s.current;if(i!==u){h(u);const d=i.map(m=>{const g=qp(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Tm(g)]):null}).filter(m=>m!=null);t(d.length?new Map(d):null),s.current=i}return()=>{h(i),h(u)};function h(d){d.forEach(m=>{const g=qp(m);g==null||g.removeEventListener("scroll",o)})}},[o,i]),O.useMemo(()=>i.length?e?Array.from(e.values()).reduce((u,h)=>Ro(u,h),vi):MS(i):vi,[i,e])}function MT(i,e){e===void 0&&(e=[]);const t=O.useRef(null);return O.useEffect(()=>{t.current=null},e),O.useEffect(()=>{const s=i!==vi;s&&!t.current&&(t.current=i),!s&&t.current&&(t.current=null)},[i]),t.current?Kh(i,t.current):vi}function Lx(i){O.useEffect(()=>{if(!Sf)return;const e=i.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t==null||t()}},i.map(e=>{let{sensor:t}=e;return t}))}function Ux(i,e){return O.useMemo(()=>i.reduce((t,s)=>{let{eventName:o,handler:u}=s;return t[o]=h=>{u(h,e)},t},{}),[i,e])}function LS(i){return O.useMemo(()=>i?lx(i):null,[i])}const xT=[];function zx(i,e){e===void 0&&(e=Fo);const[t]=i,s=LS(t?Nn(t):null),[o,u]=O.useState(xT);function h(){u(()=>i.length?i.map(m=>OS(m)?s:new Rg(e(m),m)):xT)}const d=wf({callback:h});return Qi(()=>{d==null||d.disconnect(),h(),i.forEach(m=>d==null?void 0:d.observe(m))},[i]),o}function Bx(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return Vu(e)?e:i}function Hx(i){let{measure:e}=i;const[t,s]=O.useState(null),o=O.useCallback(g=>{for(const{target:E}of g)if(Vu(E)){s(T=>{const w=e(E);return T?{...T,width:w.width,height:w.height}:w});break}},[e]),u=wf({callback:o}),h=O.useCallback(g=>{const E=Bx(g);u==null||u.disconnect(),E&&(u==null||u.observe(E)),s(E?e(E):null)},[e,u]),[d,m]=Gh(h);return O.useMemo(()=>({nodeRef:d,rect:t,setRef:m}),[t,d,m])}const jx=[{sensor:VS,options:{}},{sensor:kS,options:{}}],qx={current:{}},bh={draggable:{measure:AT},droppable:{measure:AT,strategy:Tu.WhileDragging,frequency:Sm.Optimized},dragOverlay:{measure:Fo}};class lu extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const Fx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new lu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:$h},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:bh,measureDroppableContainers:$h,windowRect:null,measuringScheduled:!1},Gx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:$h,draggableNodes:new Map,over:null,measureDroppableContainers:$h},Af=O.createContext(Gx),US=O.createContext(Fx);function Kx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new lu}}}function $x(i,e){switch(e.type){case Ut.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ut.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Ut.DragEnd:case Ut.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ut.RegisterDroppable:{const{element:t}=e,{id:s}=t,o=new lu(i.droppable.containers);return o.set(s,t),{...i,droppable:{...i.droppable,containers:o}}}case Ut.SetDroppableDisabled:{const{id:t,key:s,disabled:o}=e,u=i.droppable.containers.get(t);if(!u||s!==u.key)return i;const h=new lu(i.droppable.containers);return h.set(t,{...u,disabled:o}),{...i,droppable:{...i.droppable,containers:h}}}case Ut.UnregisterDroppable:{const{id:t,key:s}=e,o=i.droppable.containers.get(t);if(!o||s!==o.key)return i;const u=new lu(i.droppable.containers);return u.delete(t),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function Qx(i){let{disabled:e}=i;const{active:t,activatorEvent:s,draggableNodes:o}=O.useContext(Af),u=_m(s),h=_m(t==null?void 0:t.id);return O.useEffect(()=>{if(!e&&!s&&u&&h!=null){if(!wg(u)||document.activeElement===u.target)return;const d=o.get(h);if(!d)return;const{activatorNode:m,node:g}=d;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const E of[m.current,g.current]){if(!E)continue;const T=zM(E);if(T){T.focus();break}}})}},[s,e,o,h,u]),null}function Yx(i,e){let{transform:t,...s}=e;return i!=null&&i.length?i.reduce((o,u)=>u({transform:o,...s}),t):t}function Xx(i){return O.useMemo(()=>({draggable:{...bh.draggable,...i==null?void 0:i.draggable},droppable:{...bh.droppable,...i==null?void 0:i.droppable},dragOverlay:{...bh.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function Wx(i){let{activeNode:e,measure:t,initialRect:s,config:o=!0}=i;const u=O.useRef(!1),{x:h,y:d}=typeof o=="boolean"?{x:o,y:o}:o;Qi(()=>{if(!h&&!d||!e){u.current=!1;return}if(u.current||!s)return;const g=e==null?void 0:e.node.current;if(!g||g.isConnected===!1)return;const E=t(g),T=RS(E,s);if(h||(T.x=0),d||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const w=CS(g);w&&w.scrollBy({top:T.y,left:T.x})}},[e,h,d,s,t])}const zS=O.createContext({...vi,scaleX:1,scaleY:1});var gs;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(gs||(gs={}));const Zx=O.memo(function(e){var t,s,o,u;let{id:h,accessibility:d,autoScroll:m=!0,children:g,sensors:E=jx,collisionDetection:T=tx,measuring:w,modifiers:C,...x}=e;const z=O.useReducer($x,void 0,Kx),[V,F]=z,[Q,$]=GM(),[ne,ie]=O.useState(gs.Uninitialized),oe=ne===gs.Initialized,{draggable:{active:M,nodes:R,translate:A},droppable:{containers:D}}=V,k=M!=null?R.get(M):null,B=O.useRef({initial:null,translated:null}),N=O.useMemo(()=>{var at;return M!=null?{id:M,data:(at=k==null?void 0:k.data)!=null?at:qx,rect:B}:null},[M,k]),Qe=O.useRef(null),[et,se]=O.useState(null),[fe,de]=O.useState(null),Oe=_u(x,Object.values(x)),P=Lu("DndDescribedBy",h),ee=O.useMemo(()=>D.getEnabled(),[D]),ue=Xx(w),{droppableRects:ae,measureDroppableContainers:le,measuringScheduled:Se}=Ox(ee,{dragging:oe,dependencies:[A.x,A.y],config:ue.droppable}),ve=Ix(R,M),rt=O.useMemo(()=>fe?Em(fe):null,[fe]),Ie=Kn(),qe=Nx(ve,ue.draggable.measure);Wx({activeNode:M!=null?R.get(M):null,config:Ie.layoutShiftCompensation,initialRect:qe,measure:ue.draggable.measure});const me=OT(ve,ue.draggable.measure,qe),_t=OT(ve?ve.parentElement:null),St=O.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),It=D.getNodeFor((t=St.current.over)==null?void 0:t.id),jt=Hx({measure:ue.dragOverlay.measure}),Tn=(s=jt.nodeRef.current)!=null?s:ve,cn=oe?(o=jt.rect)!=null?o:me:null,Pr=!!(jt.nodeRef.current&&jt.rect),Zi=kx(Pr?null:me),_i=LS(Tn?Nn(Tn):null),hn=Vx(oe?It??ve:null),ci=zx(hn),Lr=Yx(C,{transform:{x:A.x-Zi.x,y:A.y-Zi.y,scaleX:1,scaleY:1},activatorEvent:fe,active:N,activeNodeRect:me,containerNodeRect:_t,draggingNodeRect:cn,over:St.current.over,overlayNodeRect:jt.rect,scrollableAncestors:hn,scrollableAncestorRects:ci,windowRect:_i}),Ur=rt?Ro(rt,A):null,Zt=Px(hn),Ca=MT(Zt),Et=MT(Zt,[me]),st=Ro(Lr,Ca),fn=cn?rx(cn,Lr):null,Ei=N&&fn?T({active:N,collisionRect:fn,droppableRects:ae,droppableContainers:ee,pointerCoordinates:Ur}):null,zr=ZM(Ei,"id"),[Gn,Ti]=O.useState(null),bi=Pr?Lr:Ro(Lr,Et),qt=nx(bi,(u=Gn==null?void 0:Gn.rect)!=null?u:null,me),Ji=O.useRef(null),Mn=O.useCallback((at,ot)=>{let{sensor:tt,options:en}=ot;if(Qe.current==null)return;const Dt=R.get(Qe.current);if(!Dt)return;const Ot=at.nativeEvent,Nt=new tt({active:Qe.current,activeNode:Dt,event:Ot,options:en,context:St,onAbort(Ne){if(!R.get(Ne))return;const{onDragAbort:Mt}=Oe.current,Ft={id:Ne};Mt==null||Mt(Ft),Q({type:"onDragAbort",event:Ft})},onPending(Ne,kn,Mt,Ft){if(!R.get(Ne))return;const{onDragPending:wi}=Oe.current,tn={id:Ne,constraint:kn,initialCoordinates:Mt,offset:Ft};wi==null||wi(tn),Q({type:"onDragPending",event:tn})},onStart(Ne){const kn=Qe.current;if(kn==null)return;const Mt=R.get(kn);if(!Mt)return;const{onDragStart:Ft}=Oe.current,Si={activatorEvent:Ot,active:{id:kn,data:Mt.data,rect:B}};Ql.unstable_batchedUpdates(()=>{Ft==null||Ft(Si),ie(gs.Initializing),F({type:Ut.DragStart,initialCoordinates:Ne,active:kn}),Q({type:"onDragStart",event:Si}),se(Ji.current),de(Ot)})},onMove(Ne){F({type:Ut.DragMove,coordinates:Ne})},onEnd:xn(Ut.DragEnd),onCancel:xn(Ut.DragCancel)});Ji.current=Nt;function xn(Ne){return async function(){const{active:Mt,collisions:Ft,over:Si,scrollAdjustedTranslate:wi}=St.current;let tn=null;if(Mt&&wi){const{cancelDrop:dn}=Oe.current;tn={activatorEvent:Ot,active:Mt,collisions:Ft,delta:wi,over:Si},Ne===Ut.DragEnd&&typeof dn=="function"&&await Promise.resolve(dn(tn))&&(Ne=Ut.DragCancel)}Qe.current=null,Ql.unstable_batchedUpdates(()=>{F({type:Ne}),ie(gs.Uninitialized),Ti(null),se(null),de(null),Ji.current=null;const dn=Ne===Ut.DragEnd?"onDragEnd":"onDragCancel";if(tn){const pt=Oe.current[dn];pt==null||pt(tn),Q({type:dn,event:tn})}})}}},[R]),Jt=O.useCallback((at,ot)=>(tt,en)=>{const Dt=tt.nativeEvent,Ot=R.get(en);if(Qe.current!==null||!Ot||Dt.dndKit||Dt.defaultPrevented)return;const Nt={active:Ot};at(tt,ot.options,Nt)===!0&&(Dt.dndKit={capturedBy:ot.sensor},Qe.current=en,Mn(tt,ot))},[R,Mn]),Br=Dx(E,Jt);Lx(E),Qi(()=>{me&&ne===gs.Initializing&&ie(gs.Initialized)},[me,ne]),O.useEffect(()=>{const{onDragMove:at}=Oe.current,{active:ot,activatorEvent:tt,collisions:en,over:Dt}=St.current;if(!ot||!tt)return;const Ot={active:ot,activatorEvent:tt,collisions:en,delta:{x:st.x,y:st.y},over:Dt};Ql.unstable_batchedUpdates(()=>{at==null||at(Ot),Q({type:"onDragMove",event:Ot})})},[st.x,st.y]),O.useEffect(()=>{const{active:at,activatorEvent:ot,collisions:tt,droppableContainers:en,scrollAdjustedTranslate:Dt}=St.current;if(!at||Qe.current==null||!ot||!Dt)return;const{onDragOver:Ot}=Oe.current,Nt=en.get(zr),xn=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,Ne={active:at,activatorEvent:ot,collisions:tt,delta:{x:Dt.x,y:Dt.y},over:xn};Ql.unstable_batchedUpdates(()=>{Ti(xn),Ot==null||Ot(Ne),Q({type:"onDragOver",event:Ne})})},[zr]),Qi(()=>{St.current={activatorEvent:fe,active:N,activeNode:ve,collisionRect:fn,collisions:Ei,droppableRects:ae,draggableNodes:R,draggingNode:Tn,draggingNodeRect:cn,droppableContainers:D,over:Gn,scrollableAncestors:hn,scrollAdjustedTranslate:st},B.current={initial:cn,translated:fn}},[N,ve,Ei,fn,R,Tn,cn,ae,D,Gn,hn,st]),Ax({...Ie,delta:A,draggingRect:fn,pointerCoordinates:Ur,scrollableAncestors:hn,scrollableAncestorRects:ci});const Ia=O.useMemo(()=>({active:N,activeNode:ve,activeNodeRect:me,activatorEvent:fe,collisions:Ei,containerNodeRect:_t,dragOverlay:jt,draggableNodes:R,droppableContainers:D,droppableRects:ae,over:Gn,measureDroppableContainers:le,scrollableAncestors:hn,scrollableAncestorRects:ci,measuringConfiguration:ue,measuringScheduled:Se,windowRect:_i}),[N,ve,me,fe,Ei,_t,jt,R,D,ae,Gn,le,hn,ci,ue,Se,_i]),Da=O.useMemo(()=>({activatorEvent:fe,activators:Br,active:N,activeNodeRect:me,ariaDescribedById:{draggable:P},dispatch:F,draggableNodes:R,over:Gn,measureDroppableContainers:le}),[fe,Br,N,me,F,P,R,Gn,le]);return Dn.createElement(AS.Provider,{value:$},Dn.createElement(Af.Provider,{value:Da},Dn.createElement(US.Provider,{value:Ia},Dn.createElement(zS.Provider,{value:qt},g)),Dn.createElement(Qx,{disabled:(d==null?void 0:d.restoreFocus)===!1})),Dn.createElement(QM,{...d,hiddenTextDescribedById:P}));function Kn(){const at=(et==null?void 0:et.autoScrollEnabled)===!1,ot=typeof m=="object"?m.enabled===!1:m===!1,tt=oe&&!at&&!ot;return typeof m=="object"?{...m,enabled:tt}:{enabled:tt}}}),Jx=O.createContext(null),kT="button",ek="Draggable";function tk(i){let{id:e,data:t,disabled:s=!1,attributes:o}=i;const u=Lu(ek),{activators:h,activatorEvent:d,active:m,activeNodeRect:g,ariaDescribedById:E,draggableNodes:T,over:w}=O.useContext(Af),{role:C=kT,roleDescription:x="draggable",tabIndex:z=0}=o??{},V=(m==null?void 0:m.id)===e,F=O.useContext(V?zS:Jx),[Q,$]=Gh(),[ne,ie]=Gh(),oe=Ux(h,e),M=_u(t);Qi(()=>(T.set(e,{id:e,key:u,node:Q,activatorNode:ne,data:M}),()=>{const A=T.get(e);A&&A.key===u&&T.delete(e)}),[T,e]);const R=O.useMemo(()=>({role:C,tabIndex:z,"aria-disabled":s,"aria-pressed":V&&C===kT?!0:void 0,"aria-roledescription":x,"aria-describedby":E.draggable}),[s,C,z,V,x,E.draggable]);return{active:m,activatorEvent:d,activeNodeRect:g,attributes:R,isDragging:V,listeners:s?void 0:oe,node:Q,over:w,setNodeRef:$,setActivatorNodeRef:ie,transform:F}}function nk(){return O.useContext(US)}const ik="Droppable",rk={timeout:25};function sk(i){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:o}=i;const u=Lu(ik),{active:h,dispatch:d,over:m,measureDroppableContainers:g}=O.useContext(Af),E=O.useRef({disabled:t}),T=O.useRef(!1),w=O.useRef(null),C=O.useRef(null),{disabled:x,updateMeasurementsFor:z,timeout:V}={...rk,...o},F=_u(z??s),Q=O.useCallback(()=>{if(!T.current){T.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{g(Array.isArray(F.current)?F.current:[F.current]),C.current=null},V)},[V]),$=wf({callback:Q,disabled:x||!h}),ne=O.useCallback((R,A)=>{$&&(A&&($.unobserve(A),T.current=!1),R&&$.observe(R))},[$]),[ie,oe]=Gh(ne),M=_u(e);return O.useEffect(()=>{!$||!ie.current||($.disconnect(),T.current=!1,$.observe(ie.current))},[ie,$]),O.useEffect(()=>(d({type:Ut.RegisterDroppable,element:{id:s,key:u,disabled:t,node:ie,rect:w,data:M}}),()=>d({type:Ut.UnregisterDroppable,key:u,id:s})),[s]),O.useEffect(()=>{t!==E.current.disabled&&(d({type:Ut.SetDroppableDisabled,id:s,key:u,disabled:t}),E.current.disabled=t)},[s,u,t,d]),{active:h,rect:w,isOver:(m==null?void 0:m.id)===s,node:ie,over:m,setNodeRef:oe}}function Ig(i,e,t){const s=i.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function ak(i,e){return i.reduce((t,s,o)=>{const u=e.get(s);return u&&(t[o]=u),t},Array(i.length))}function oh(i){return i!==null&&i>=0}function ok(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function lk(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const BS=i=>{let{rects:e,activeIndex:t,overIndex:s,index:o}=i;const u=Ig(e,s,t),h=e[o],d=u[o];return!d||!h?null:{x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height}},lh={scaleX:1,scaleY:1},uk=i=>{var e;let{activeIndex:t,activeNodeRect:s,index:o,rects:u,overIndex:h}=i;const d=(e=u[t])!=null?e:s;if(!d)return null;if(o===t){const g=u[h];return g?{x:0,y:t<h?g.top+g.height-(d.top+d.height):g.top-d.top,...lh}:null}const m=ck(u,o,t);return o>t&&o<=h?{x:0,y:-d.height-m,...lh}:o<t&&o>=h?{x:0,y:d.height+m,...lh}:{x:0,y:0,...lh}};function ck(i,e,t){const s=i[e],o=i[e-1],u=i[e+1];return s?t<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const HS="Sortable",jS=Dn.createContext({activeIndex:-1,containerId:HS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:BS,disabled:{draggable:!1,droppable:!1}});function hk(i){let{children:e,id:t,items:s,strategy:o=BS,disabled:u=!1}=i;const{active:h,dragOverlay:d,droppableRects:m,over:g,measureDroppableContainers:E}=nk(),T=Lu(HS,t),w=d.rect!==null,C=O.useMemo(()=>s.map(oe=>typeof oe=="object"&&"id"in oe?oe.id:oe),[s]),x=h!=null,z=h?C.indexOf(h.id):-1,V=g?C.indexOf(g.id):-1,F=O.useRef(C),Q=!ok(C,F.current),$=V!==-1&&z===-1||Q,ne=lk(u);Qi(()=>{Q&&x&&E(C)},[Q,C,x,E]),O.useEffect(()=>{F.current=C},[C]);const ie=O.useMemo(()=>({activeIndex:z,containerId:T,disabled:ne,disableTransforms:$,items:C,overIndex:V,useDragOverlay:w,sortedRects:ak(C,m),strategy:o}),[z,T,ne.draggable,ne.droppable,$,C,V,m,w,o]);return Dn.createElement(jS.Provider,{value:ie},e)}const fk=i=>{let{id:e,items:t,activeIndex:s,overIndex:o}=i;return Ig(t,s,o).indexOf(e)},dk=i=>{let{containerId:e,isSorting:t,wasDragging:s,index:o,items:u,newIndex:h,previousItems:d,previousContainerId:m,transition:g}=i;return!g||!s||d!==u&&o===h?!1:t?!0:h!==o&&e===m},pk={duration:200,easing:"ease"},qS="transform",mk=Eu.Transition.toString({property:qS,duration:0,easing:"linear"}),gk={roleDescription:"sortable"};function yk(i){let{disabled:e,index:t,node:s,rect:o}=i;const[u,h]=O.useState(null),d=O.useRef(t);return Qi(()=>{if(!e&&t!==d.current&&s.current){const m=o.current;if(m){const g=Fo(s.current,{ignoreTransform:!0}),E={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(E.x||E.y)&&h(E)}}t!==d.current&&(d.current=t)},[e,t,s,o]),O.useEffect(()=>{u&&h(null)},[u]),u}function vk(i){let{animateLayoutChanges:e=dk,attributes:t,disabled:s,data:o,getNewIndex:u=fk,id:h,strategy:d,resizeObserverConfig:m,transition:g=pk}=i;const{items:E,containerId:T,activeIndex:w,disabled:C,disableTransforms:x,sortedRects:z,overIndex:V,useDragOverlay:F,strategy:Q}=O.useContext(jS),$=_k(s,C),ne=E.indexOf(h),ie=O.useMemo(()=>({sortable:{containerId:T,index:ne,items:E},...o}),[T,o,ne,E]),oe=O.useMemo(()=>E.slice(E.indexOf(h)),[E,h]),{rect:M,node:R,isOver:A,setNodeRef:D}=sk({id:h,data:ie,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:oe,...m}}),{active:k,activatorEvent:B,activeNodeRect:N,attributes:Qe,setNodeRef:et,listeners:se,isDragging:fe,over:de,setActivatorNodeRef:Oe,transform:P}=tk({id:h,data:ie,attributes:{...gk,...t},disabled:$.draggable}),ee=VM(D,et),ue=!!k,ae=ue&&!x&&oh(w)&&oh(V),le=!F&&fe,Se=le&&ae?P:null,rt=ae?Se??(d??Q)({rects:z,activeNodeRect:N,activeIndex:w,overIndex:V,index:ne}):null,Ie=oh(w)&&oh(V)?u({id:h,items:E,activeIndex:w,overIndex:V}):ne,qe=k==null?void 0:k.id,me=O.useRef({activeId:qe,items:E,newIndex:Ie,containerId:T}),_t=E!==me.current.items,St=e({active:k,containerId:T,isDragging:fe,isSorting:ue,id:h,index:ne,items:E,newIndex:me.current.newIndex,previousItems:me.current.items,previousContainerId:me.current.containerId,transition:g,wasDragging:me.current.activeId!=null}),It=yk({disabled:!St,index:ne,node:R,rect:M});return O.useEffect(()=>{ue&&me.current.newIndex!==Ie&&(me.current.newIndex=Ie),T!==me.current.containerId&&(me.current.containerId=T),E!==me.current.items&&(me.current.items=E)},[ue,Ie,T,E]),O.useEffect(()=>{if(qe===me.current.activeId)return;if(qe!=null&&me.current.activeId==null){me.current.activeId=qe;return}const Tn=setTimeout(()=>{me.current.activeId=qe},50);return()=>clearTimeout(Tn)},[qe]),{active:k,activeIndex:w,attributes:Qe,data:ie,rect:M,index:ne,newIndex:Ie,items:E,isOver:A,isSorting:ue,isDragging:fe,listeners:se,node:R,overIndex:V,over:de,setNodeRef:ee,setActivatorNodeRef:Oe,setDroppableNodeRef:D,setDraggableNodeRef:et,transform:It??rt,transition:jt()};function jt(){if(It||_t&&me.current.newIndex===ne)return mk;if(!(le&&!wg(B)||!g)&&(ue||St))return Eu.Transition.toString({...g,property:qS})}}function _k(i,e){var t,s;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i==null?void 0:i.draggable)!=null?t:e.draggable,droppable:(s=i==null?void 0:i.droppable)!=null?s:e.droppable}}$e.Down,$e.Right,$e.Up,$e.Left;function Ek({id:i,task:e,completed:t,deleteTask:s,toggleCompletion:o,updateTask:u}){const{attributes:h,listeners:d,setNodeRef:m,transform:g,transition:E}=vk({id:i}),[T,w]=O.useState(!1),[C,x]=O.useState(e),z={transform:Eu.Transform.toString(g),display:"flex",alignItems:"center",justifyContent:"space-between",transition:"text-decoration 0.3s ease, opacity 0.3s ease",opacity:t?.5:1},V=()=>{w(!0)},F=()=>{u(C),w(!1)};return Re.jsxs("li",{ref:m,style:z,...h,children:[Re.jsx("input",{type:"checkbox",className:"task-checkbox",checked:t,onChange:o}),T?Re.jsx("input",{type:"text",value:C,onChange:Q=>x(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&F()}}):Re.jsx("span",{className:"text",style:{textDecoration:t?"line-through":"none"},children:e}),Re.jsxs("div",{className:"controls",children:[Re.jsx("button",{className:"edit-button",onClick:V,style:{backgroundColor:"blue",color:"white"},children:""}),Re.jsx("button",{className:"delete-button",onClick:s,children:""}),Re.jsx("span",{className:"drag-handle",...d,children:""})]})]})}function Tk(){const[i,e]=O.useState([]),[t,s]=O.useState(""),o=Xh();O.useEffect(()=>{(async()=>{const T=pT(Eo,"tasks"),C=(await J2(T)).docs.map(x=>({id:x.id,...x.data()}));e(C)})()},[]);const u=async()=>{if(t.trim()!==""){const E=await nM(pT(Eo,"tasks"),{title:t,completed:!1,created:new Date});e(T=>[...T,{id:E.id,title:t,completed:!1}]),s("")}},h=async E=>{const T=i[E],w=su(Eo,"tasks",T.id);await tM(w);const C=i.filter((x,z)=>z!==E);e(C)},d=async(E,T)=>{const w=i[E],C=su(Eo,"tasks",w.id);await yT(C,{title:T});const x=i.map((z,V)=>V===E?{...z,title:T}:z);e(x)},m=async E=>{const T=i[E],w=su(Eo,"tasks",T.id),C=!T.completed;await yT(w,{completed:C});const x=i.map((z,V)=>V===E?{...z,completed:C}:z);e(x)},g=async E=>{const{active:T,over:w}=E;if(T.id!==w.id){const C=i.findIndex(V=>V.id===T.id),x=i.findIndex(V=>V.id===w.id),z=Ig(i,C,x);e(z)}};return Re.jsxs("div",{className:"to-do-list",children:[Re.jsx("button",{className:"logout-btn",onClick:()=>o("/"),children:"Logout"}),Re.jsx("h1",{children:"To Do List"}),Re.jsxs("div",{children:[Re.jsx("input",{type:"text",placeholder:"Enter a new task",value:t,onChange:E=>s(E.target.value),onKeyDown:E=>{E.key==="Enter"&&u()},maxLength:30}),Re.jsx("button",{className:"add-button",onClick:u,children:"Add"})]}),Re.jsx(Zx,{collisionDetection:JM,onDragEnd:g,children:Re.jsx(hk,{items:i.map(E=>E.id),strategy:uk,children:Re.jsx("ol",{children:i.map((E,T)=>Re.jsx(Ek,{id:E.id,task:E.title,completed:E.completed,deleteTask:()=>h(T),toggleCompletion:()=>m(T),updateTask:w=>d(T,w)},E.id))})})})]})}function bk(){return Re.jsx(PR,{children:Re.jsxs(dR,{children:[Re.jsx(uh,{path:"/",element:Re.jsx(kM,{})}),Re.jsx(uh,{path:"/signup",element:Re.jsx(xM,{})}),Re.jsx(uh,{path:"/todolist",element:Re.jsx(Tk,{})})]})})}SA.createRoot(document.getElementById("root")).render(Re.jsx(O.StrictMode,{children:Re.jsx(bk,{})}));
